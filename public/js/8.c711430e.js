(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{9044:function(e,t,a){"use strict";a("94ee")},"94ee":function(e,t,a){},9954:function(e,t,a){},cbb5:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("841c"),a("4de4"),a("d3b7"),a("d81d"),a("b0c0"),a("e260"),a("ddb0");var n=function(){var e=this,t=e._self._c;return t("q-page",{staticClass:"page-invoices"},[t("portal",{attrs:{to:"app-breadcrumbs"}},[t("breadcrumbs")],1),t("portal",{attrs:{to:"app-toolbar"}},[t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(t){return e.$store.dispatch("app/toggleSidebar")}}}),t("q-toolbar-title",[e._v("\n      "+e._s(e.$t("Invoices"))+"\n    ")]),t("div",{staticClass:"sep"}),e.$auth.can("create.invoice")?t("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"}}):e._e()],1),t("div",{staticClass:"page-header"},[t("q-toolbar-title",[e._v(e._s(e.$t("Invoices")))]),t("div",{staticClass:"sep"}),e.$auth.can("create.invoice")?t("q-btn",{staticClass:"q-btn-lg btn-page-invoices-create",attrs:{color:"primary",icon:"add"},on:{click:e.onFormEntryCreate}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("New {entity}",{entity:e.$t("Invoice")})))])]):e._e()],1),t("div",{staticClass:"page-body"},[t("q-card",[t("q-toolbar",[t("div",{staticClass:"col col-md-3 col-lg-2 quick-search-datatable"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("no")}),"stack-label":"",debounce:300,dense:"",clearable:"","clear-icon":"close"},on:{input:function(t){return e.onRequest()}},model:{value:e.search.fuzzy.value,callback:function(t){e.$set(e.search.fuzzy,"value",t)},expression:"search.fuzzy.value"}})],1),t("div",{staticClass:"col col-md-3 col-lg-2 q-ml-auto row"},[t("q-btn",{staticClass:"q-ml-auto btn-datatable-advanced-search",attrs:{unelevated:"",color:"default",size:"sm",icon:"search",disable:e.isLoading},on:{click:e.onAdvancedSearch}},[e._v("\n            "+e._s(e.$t("Advanced Search"))+"\n          ")]),t("q-btn",{staticClass:"q-ml-sm btn-datatable-view-columns",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"view_column"}},[t("q-tooltip",[e._v("\n              "+e._s(e.$t("View Column"))+"\n            ")]),t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md",staticStyle:{"min-width":"200px"}},[t("div",{staticClass:"column"},[t("q-option-group",{staticStyle:{"margin-left":"-16px"},attrs:{options:e.columns.map((function(e){return{label:e.realLabel||e.label,value:e.name}})).filter((function(e){return e.label})),type:"checkbox",size:"xs"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1)])])],1)],1)]),t("q-table",{attrs:{data:e.entries,columns:e.columns,"visible-columns":e.visibleColumns,loading:e.isLoading,pagination:e.pagination,"binary-state-sort":"","row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"body-cell-id",fn:function(a){var n=a.rowIndex;return[t("q-td",[e._v(e._s(n+1))])]}},{key:"body-cell-status",fn:function(e){var a=e.row;return[t("q-td",{staticClass:"text-center"},[t("q-icon",{staticClass:"q-mr-lg",attrs:{name:a.status?"check":"close"}})],1)]}},{key:"body-cell-action",fn:function(a){var n=a.row;return[t("q-td",{staticClass:"text-right table-cell-action"},[t("q-btn",{staticClass:"btn-datatable-view-invoice",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"visibility"},on:{click:function(t){return t.preventDefault(),e.onView(n)}}},[t("q-tooltip",[e._v("\n                "+e._s(e.$t("View"))+"\n              ")])],1),e.$auth.can("delete.invoice")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-delete-invoice",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete(n)}}},[t("q-tooltip",[e._v("\n                "+e._s(e.$t("Delete"))+"\n              ")])],1):e._e()],1)]}},{key:"no-data",fn:function(a){var n=a.icon,s=a.message,r=a.filter;return[t("div",{staticClass:"full-width row flex-center text-center q-gutter-sm"},[t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":n}}),t("span",[e._v("\n              "+e._s(s)+"\n            ")])],1)]}}])})],1)],1),t("q-dialog",{model:{value:e.isAdvancedSearchVisible,callback:function(t){e.isAdvancedSearchVisible=t},expression:"isAdvancedSearchVisible"}},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{on:{submit:function(t){return t.preventDefault(),e.onAdvancedSearchSubmit.apply(null,arguments)}}},[t("q-card-section",{staticClass:"q-pb-xs"},[t("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("Search")))])]),t("q-card-section",{staticClass:"q-mb-md"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("name")}),outlined:"",dense:""},model:{value:e.advancedSearch.fuzzy.value,callback:function(t){e.$set(e.advancedSearch.fuzzy,"value",t)},expression:"advancedSearch.fuzzy.value"}})],1),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:e.$t("Cancel"),flat:""}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{type:"submit",label:e.$t("Search"),color:"default",unelevated:""}})],1)],1)],1)],1),t("q-dialog",{attrs:{persistent:!e.isFormEntryReadonly},model:{value:e.isFormEntryVisible,callback:function(t){e.isFormEntryVisible=t},expression:"isFormEntryVisible"}},[t("form-entry",{attrs:{entry:e.formEntry,readonly:e.isFormEntryReadonly,loading:e.isLoading},on:{success:e.onFormEntrySuccess,cancel:e.onFormEntryCancel}})],1),t("q-dialog",{attrs:{persistent:!e.isFormEntryReadonly},model:{value:e.isFormEntryVisible,callback:function(t){e.isFormEntryVisible=t},expression:"isFormEntryVisible"}},[t("form-entry",{attrs:{entry:e.formEntry,readonly:e.isFormEntryReadonly,loading:e.isLoading},on:{success:e.onFormEntrySuccess,cancel:e.onFormEntryCancel}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.isFormPasswordVisible,callback:function(t){e.isFormPasswordVisible=t},expression:"isFormPasswordVisible"}},[t("form-password",{attrs:{entry:e.formPassword,loading:e.isLoading},on:{success:e.onFormPasswordSuccess,cancel:e.onFormPasswordCancel}})],1)],1)},s=[],r=a("ded3"),i=a.n(r),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=(a("b64b"),a("e9c4"),a("14d9"),a("bd4c")),m=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm",class:{readonly:e.readonly}},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e.readonly?e._e():t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("".concat(e.isCreate?"Create":"Update"," {entity}"),{entity:e.$t("Customer")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-8"},[t("q-input",{attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,dense:"",name:"name",autocomplete:"off",rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1),t("div",{staticClass:"col-xs-12 col-md-4"},[t("q-input",{attrs:{label:e.$t("Terminal Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,name:"terminal_name",autocomplete:"off",dense:"",rules:e.rules.terminal_name,error:!!e.errors.terminal_name,"error-message":e.errors.terminal_name},model:{value:e.formEntry.terminal_name,callback:function(t){e.$set(e.formEntry,"terminal_name",t)},expression:"formEntry.terminal_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[t("q-input",{attrs:{label:e.$t("Online At"),filled:!e.readonly,name:"online_at",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.online_at,error:!!e.errors.online_at,"error-message":e.errors.online_at,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.online_at)?void 0:e.$t("Valid format: DD/MM/YYYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}})],1),t("div",{staticClass:"col-xs-12 col-md-8 col-lg-7"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Coordinate")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Latitude"),filled:!e.readonly,type:"number",step:"any",name:"latitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.latitude,error:!!e.errors.latitude,"error-message":e.errors.latitude},model:{value:e.formEntry.latitude,callback:function(t){e.$set(e.formEntry,"latitude",t)},expression:"formEntry.latitude"}})],1),t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Longitude"),filled:!e.readonly,type:"number",step:"any",name:"longitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.longitude,error:!!e.errors.longitude,"error-message":e.errors.longitude},model:{value:e.formEntry.longitude,callback:function(t){e.$set(e.formEntry,"longitude",t)},expression:"formEntry.longitude"}})],1)])]),t("div",{staticClass:"col-xs-12"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("PIC")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-7"},[t("q-input",{attrs:{label:e.$t("PIC Name"),filled:!e.readonly,rows:"1",name:"pic_name",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_name,error:!!e.errors.pic_name,"error-message":e.errors.pic_name},model:{value:e.formEntry.pic_name,callback:function(t){e.$set(e.formEntry,"pic_name",t)},expression:"formEntry.pic_name"}})],1),t("div",{staticClass:"col-xs-12 col-md-5"},[t("q-input",{attrs:{label:e.$t("PIC Phone Number"),filled:!e.readonly,rows:"1",name:"pic_phone_number",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_phone_number,error:!!e.errors.pic_phone_number,"error-message":e.errors.pic_phone_number},model:{value:e.formEntry.pic_phone_number,callback:function(t){e.$set(e.formEntry,"pic_phone_number",t)},expression:"formEntry.pic_phone_number"}})],1)])]),e.readonly?e._e():t("div",{staticClass:"col-xs-12"},[t("q-toggle",{attrs:{label:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),name:"status"},model:{value:e.formEntry.status,callback:function(t){e.$set(e.formEntry,"status",t)},expression:"formEntry.status"}})],1),e.readonly?[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),label:e.$t("Status"),borderless:"",readonly:"",dense:""}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:""}})],1)]:e._e()],2)]),t("q-separator"),e.readonly?t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Close"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}})],1):t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},f=[],p=(a("cb29"),a("5319"),a("00b4"),a("99af"),{terminal_name:null,location:null,mttr_hour:null,mttr_minute:null,total_time_hour:null,total_time_minute:null,online_at:null,latitude:null,longitude:null,pic_name:null,pic_phone_number:null,pic_phone_number2:null,status:1}),b={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return p}},readonly:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:p,isLoading:!1,rules:{terminal_name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Terminal name")})}],location:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Location")})}],online_at:[function(t){return!t||!!t&&e.$utils.isDateValid(t)||e.$t("{field} is invalid",{field:e.$t("Online at")})}],latitude:[],longitude:[],pic_name:[],pic_phone_number:[],sla:[]},errors:p}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=i()(i()({},p),e),e.created_at&&(e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm")),e.online_at&&(e.online_at=u["b"].formatDate(e.online_at,"DD/MM/YYYY")),e.status=Boolean(parseInt(e.status,10)),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return d()(l()().mark((function t(){var a,n,s,r,o,c;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return n=i()({},e.formEntry),n.status=n.status?1:0,e.$utils.isDateValid(n.online_at)&&(n.online_at=u["b"].formatDate(u["b"].extractDate(n.online_at,"DD/MM/YYYY"),"YYYY-MM-DD")),delete n.mttr_hour,delete n.mttr_minute,delete n.total_time_hour,delete n.total_time_minute,e.isLoading=!0,t.prev=17,s=n.id?"/v1/customers/".concat(n.id):"/v1/customers",r=n.id?"patch":"post",t.next=22,e.$api[r](s,n);case 22:o=t.sent,c=o.data,"success"===c.status&&e.$emit("success"),c.message?e.$q.notify({message:c.message}):"success"===c.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Customer")})}):e.$t("Failed to save {entity}",{entity:e.$t("customer")}),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](17),t.t0.validation?e.errors=i()(i()({},p),t.t0.validation.errors):e.$q.notify(t.t0);case 31:e.isLoading=!1;case 32:case"end":return t.stop()}}),t,null,[[17,28]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")},onDoubleInputChildKeydown:function(e){var t=String(e.target.value).replace(/[^0-9]/g,""),a=/^[0-9]$/i.test(e.key);a&&(t="".concat(t).concat(e.key)),(t>59||String(t).length>2)&&a&&e.preventDefault()}}},y=b,h=(a("dfde"),a("2877")),v=a("f09f"),_=a("0378"),g=a("a370"),$=a("27f9"),q=a("0016"),C=a("7cbe"),w=a("52ee"),x=a("9c40"),E=a("9564"),k=a("eb85"),F=a("4b7e"),S=a("7f67"),D=a("eebe"),P=a.n(D),Y=Object(h["a"])(y,m,f,!1,null,"2b770b5b",null),V=Y.exports;P()(Y,"components",{QCard:v["a"],QForm:_["a"],QCardSection:g["a"],QInput:$["a"],QIcon:q["a"],QPopupProxy:C["a"],QDate:w["a"],QBtn:x["a"],QToggle:E["a"],QSeparator:k["a"],QCardActions:F["a"]}),P()(Y,"directives",{ClosePopup:S["a"]});var Q=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm"},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("Update {entity}",{entity:e.$t("Password")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Confirm Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)])]),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("Update"),color:"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},L=[],M={name:null,password:null,password_confirmation:null},A={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return M}},asView:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:M,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:M}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=i()(i()({},M),e),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return d()(l()().mark((function t(){var a,n,s,r;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.form.validate();case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return n={password:e.formEntry.password,password_confirmation:e.formEntry.password_confirmation},e.isLoading=!0,t.prev=9,t.next=12,e.$api.patch("/v1/distribution-centers/".concat(e.formEntry.id),n);case 12:s=t.sent,r=s.data,"success"===r.status&&e.$emit("success"),"success"===r.status?e.$q.notify({message:e.$t("{entity} updated",{entity:e.$t("Password")})}):e.$t("Failed to update {entity}",{entity:e.$t("password")}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),t.t0.validation?e.errors=i()(i()({},M),t.t0.validation.errors):e.$q.notify(t.t0);case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")}}},I=A,z=(a("e47f"),Object(h["a"])(I,Q,L,!1,null,"07c2423c",null)),R=z.exports;P()(z,"components",{QCard:v["a"],QForm:_["a"],QCardSection:g["a"],QInput:$["a"],QSeparator:k["a"],QCardActions:F["a"],QBtn:x["a"]});var T=a("05c2"),N={name:"PageInvoice",components:{FormEntry:V,FormPassword:R},meta:function(){return{title:this.$t("Invoices")+" - "+this.$t("Web Console")}},breadcrumbs:function(){return["home",{text:this.$t("Invoices")}]},mixins:[T["a"]],data:function(){var e=this,t={fuzzy:{value:null}};return{entries:[],columns:[{name:"id",field:"id",label:"#",realLabel:this.$t("ID"),align:"left",style:"max-width: 25px",headerClasses:"table-header-id",classes:"table-cell-id",sortable:!0},{name:"customer_name",field:"customer_name",label:this.$t("Customer"),headerClasses:"table-header-customer_name",classes:"table-cell-customer_name",align:"left",sortable:!0},{name:"invoice_no",field:"invoice_no",label:this.$t("Invoice No"),headerClasses:"table-header-invoice_no",classes:"table-cell-invoice_no",align:"left",sortable:!0},{name:"receipt_no",field:"receipt_no",label:this.$t("Receipt No"),headerClasses:"table-header-receipt_no",classes:"table-cell-receipt_no",align:"left",sortable:!0},{name:"ppn_total",field:"ppn_total",format:function(t){return e.$utils.currency(t,{decimal:".",thousand:","})||0},label:this.$t("VAT"),headerClasses:"table-header-ppn_total",classes:"table-cell-ppn_total",align:"left",sortable:!0},{name:"stamp_duty",field:"stamp_duty",format:function(t){return e.$utils.currency(t,{decimal:".",thousand:","})||0},label:this.$t("Stamp Duty"),headerClasses:"table-header-stamp_duty",classes:"table-cell-stamp_duty",align:"left",sortable:!0},{name:"sub_total",field:"sub_total",format:function(t){return e.$utils.currency(t,{decimal:".",thousand:","})},label:this.$t("Sub Total"),headerClasses:"table-header-sub_total",classes:"table-cell-sub_total",align:"left",sortable:!0},{name:"total",field:"total",format:function(t){return e.$utils.currency(t,{decimal:".",thousand:","})},label:this.$t("Total"),headerClasses:"table-header-total",classes:"table-cell-total",align:"left",sortable:!0},{name:"due_at",field:"due_at",label:this.$t("Term of Payment"),align:"left",headerClasses:"table-header-due_at",classes:"table-cell-due_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY")},sortable:!0},{name:"published_at",field:"published_at",label:this.$t("Published At"),align:"left",headerClasses:"table-header-published_at",classes:"table-cell-published_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY")},sortable:!0},{name:"created_at",field:"created_at",label:this.$t("Created At"),align:"left",headerClasses:"table-header-created_at",classes:"table-cell-created_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY HH:mm")},sortable:!0},{name:"action",label:"",align:"right",headerClasses:"table-header-action",classes:"table-cell-action",required:!0}],visibleColumns:["id","customer_name","invoice_no","receipt_no","ppn_total","stamp_duty","sub_total","total","due_at","published_at","created_at"],isLoading:!1,isAdvancedSearchVisible:!1,isFormEntryVisible:!1,isFormEntryReadonly:!1,isFormPasswordVisible:!1,formEntry:{},formPassword:{},pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:15,rowsNumber:0},search:t,advancedSearch:t}},mounted:function(){var e=this;return d()(l()().mark((function t(){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onRequest();case 2:return t.next=4,e.$nextTick();case 4:case"end":return t.stop()}}),t)})))()},methods:{onRequest:function(e){var t=this;return d()(l()().mark((function a(){var n,s,r;return l()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isLoading){a.next=2;break}return a.abrupt("return");case 2:return e||(e={pagination:t.pagination}),t.isLoading=!0,n={table_pagination:i()({},e.pagination||{}),table_search:i()({},t.search)},a.prev=5,a.next=8,t.$api.get("/v1/invoices",{params:n});case 8:s=a.sent,r=s.data,"success"===r.status&&(t.entries=r.data.invoices,t.pagination=i()(i()({},t.pagination),r.pagination)),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](5),t.$q.notify(a.t0);case 16:t.isLoading=!1;case 17:case"end":return a.stop()}}),a,null,[[5,13]])})))()},onAdvancedSearch:function(){this.advancedSearch=JSON.parse(JSON.stringify(this.search)),this.isAdvancedSearchVisible=!0},onAdvancedSearchSubmit:function(){this.search=this.$utils.merge({},this.advancedSearch),this.onRequest(),this.isAdvancedSearchVisible=!1},onFormEntryCreate:function(){this.$router.push("/invoices/create"),this.formEntry={},this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormEntrySuccess:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1,this.onRequest()},onFormEntryCancel:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormPasswordSuccess:function(){this.isFormPasswordVisible=!1},onFormPasswordCancel:function(){this.isFormPasswordVisible=!1},onView:function(e){this.$router.push("/invoices/".concat(e.id)),this.formEntry=i()({},e),this.isFormEntryReadonly=!0,this.isFormEntryVisible=!1},onEdit:function(e){this.formEntry=i()({},e),this.isFormEntryReadonly=!1,this.isFormEntryVisible=!0},onEditPassword:function(e){this.formPassword=i()({},e),this.isFormPasswordVisible=!0},onDelete:function(e){var t=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("invoice")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(d()(l()().mark((function a(){var n,s;return l()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.delete("/v1/invoices/".concat(e.id));case 3:n=a.sent,s=n.data,s.message?(t.$q.notify({message:s.message}),t.onRequest()):"success"===s.status?(t.$q.notify({message:t.$t("{entity} deleted",{entity:t.$t("Invoice")})}),t.onRequest()):t.$t("Failed to delete {entity}",{entity:t.$t("invoice")}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.$q.notify(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).onCancel((function(){t.isLoading=!1}))}}},B=N,O=(a("9044"),a("9989")),j=a("6ac5"),H=a("65c6"),J=a("05c0"),U=a("4e73"),G=a("9f0a"),K=a("eaac"),W=a("db86"),X=a("24e8"),Z=Object(h["a"])(B,n,s,!1,null,null,null);t["default"]=Z.exports;P()(Z,"components",{QPage:O["a"],QBtn:x["a"],QToolbarTitle:j["a"],QCard:v["a"],QToolbar:H["a"],QInput:$["a"],QTooltip:J["a"],QMenu:U["a"],QOptionGroup:G["a"],QTable:K["a"],QTd:W["a"],QIcon:q["a"],QDialog:X["a"],QForm:_["a"],QCardSection:g["a"],QSeparator:k["a"],QCardActions:F["a"]}),P()(Z,"directives",{ClosePopup:S["a"]})},dfde:function(e,t,a){"use strict";a("9954")},e47f:function(e,t,a){"use strict";a("edb5")},edb5:function(e,t,a){}}]);