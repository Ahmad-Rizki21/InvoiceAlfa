(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"0448":function(t,a,e){"use strict";e("5a7d")},"0599":function(t,a,e){},"069a":function(t,a,e){"use strict";e("1e4e")},"0d67":function(t,a,e){"use strict";e.r(a);e("caad");var n=function(){var t=this,a=t._self._c;return a("q-page",{staticClass:"page-index"},[a("portal",{attrs:{to:"app-breadcrumbs"}},[a("breadcrumbs")],1),"u"===t.$auth.authType?[a("content-dashboard")]:["d","f"].includes(t.$auth.authType)?[a("content-customer")]:t._e()],2)},i=[],s=e("7ec2"),r=e.n(s),c=e("c973"),o=e.n(c),l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-body"},[a("div",{staticClass:"row q-col-gutter-md q-mb-lg"},[a("div",{staticClass:"col-xs-12 dashboard-card-mini-monthly-stats"},[a("div",{staticClass:"row q-col-gutter-md"},[a("div",{staticClass:"col-xs-12 col-md-3"},[a("card-mini-summary",{staticClass:"unpaid-amount",attrs:{icon:"credit_card"},scopedSlots:t._u([{key:"value",fn:function(){return[a("span",{ref:"unpaidAmountText",staticClass:"unpaid-amount-text"},[a("div",{staticClass:"amount bold"},[a("span",{staticClass:"separator"},[t._v(t._s(t.$t("Unpaid")))]),a("div",{staticClass:"total-amount"},[t._v("\n                      "+t._s(t.$utils.currency(t.totalUnpaidAmount,{decimal:".",thousand:",",symbol:"Rp. "}))+"\n                    ")])]),a("div",{staticClass:"amount"},[a("span",{staticClass:"separator"},[t._v(t._s(t.$t("Total")))]),a("div",{staticClass:"total-amount"},[t._v("\n                    "+t._s(t.$utils.currency(t.totalAmount,{decimal:".",thousand:",",symbol:"Rp. "}))+"\n                  ")])])])]},proxy:!0}])})],1),a("div",{staticClass:"col-xs-12 col-md-3"},[a("card-mini-summary",{staticClass:"unpaid-customer",attrs:{icon:"dc"===t.cardMiniSummaryUnpaidCustomer?"business_center":"fr"==t.cardMiniSummaryUnpaidCustomer?"storefront":"groups"},scopedSlots:t._u([{key:"text",fn:function(){return[a("div",{staticClass:"row items-center card-mini-summary-time-taken-button"},["dc"===t.cardMiniSummaryUnpaidCustomer?a("span",[t._v("\n                  "+t._s(t.$t("Unpaid {customer}",{customer:t.$t("Distribution Center")}))+"\n                ")]):"fr"===t.cardMiniSummaryUnpaidCustomer?a("span",[t._v("\n                  "+t._s(t.$t("Unpaid {customer}",{customer:t.$t("Franchise")}))+"\n                ")]):a("span",[t._v("\n                  "+t._s(t.$t("Unpaid {customer}",{customer:t.$t("Customer")}))+"\n                ")]),t.$q.screen.gt.md?a("q-btn-group",{staticClass:"q-ml-auto",attrs:{flat:""}},[a("q-btn",{attrs:{flat:"",label:t.$t("DC"),size:"sm",color:"dc"===t.cardMiniSummaryUnpaidCustomer?"default":void 0,padding:"xs"},on:{click:function(a){return t.onCardMiniSummaryUnpaidCustomerChange("dc")}}}),a("q-btn",{attrs:{flat:"",label:t.$t("FR"),size:"sm",color:"fr"===t.cardMiniSummaryUnpaidCustomer?"default":void 0,padding:"xs"},on:{click:function(a){return t.onCardMiniSummaryUnpaidCustomerChange("fr")}}})],1):t._e()],1)]},proxy:!0},{key:"value",fn:function(){return[a("span",{staticClass:"row"},[a("div",[a("span",{staticClass:"unpaid-customer"},[t._v("\n                    "+t._s(t.totalUnpaidCustomer)+"\n                  ")]),a("span",{staticClass:"separator"},[t._v("/")]),a("span",{staticClass:"total-customer"},[t._v(t._s(t.totalCustomer))])]),t.$q.screen.md?a("q-btn-group",{staticClass:"q-ml-auto",attrs:{flat:""}},[a("q-btn",{attrs:{flat:"",label:t.$t("DC"),size:"sm",color:"dc"===t.cardMiniSummaryUnpaidCustomer?"default":void 0,padding:"xs"},on:{click:function(a){return t.onCardMiniSummaryUnpaidCustomerChange("dc")}}}),a("q-btn",{attrs:{flat:"",label:t.$t("FR"),size:"sm",color:"fr"===t.cardMiniSummaryUnpaidCustomer?"default":void 0,padding:"xs"},on:{click:function(a){return t.onCardMiniSummaryUnpaidCustomerChange("fr")}}})],1):t._e()],1)]},proxy:!0}])})],1),a("div",{staticClass:"col-xs-12 col-md-3"},[a("card-mini-summary",{attrs:{value:t.$utils.currency(t.totalPendingReview),text:t.$t("Total Pending Review"),icon:"rate_review"}})],1),a("div",{staticClass:"col-xs-12 col-md-3"},[a("card-mini-summary",{attrs:{value:t.$utils.currency(t.totalRejected),text:t.$t("Total Rejected"),icon:"disabled_by_default"}})],1)])])]),a("div",{staticClass:"row q-col-gutter-md dashboard-chart-average-total-ticket"},[a("div",{staticClass:"col-xs-12"},[a("chart-average-timer")],1)])])},u=[],d=e("ded3"),p=e.n(d),m=(e("e260"),e("d3b7"),e("e6cf"),e("3ca3"),e("ddb0"),e("2f62")),v=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"card-mini-summary",class:{outline:t.outline},attrs:{flat:t.outline,bordered:t.outline}},[a("div",{staticClass:"card-mini-summary-inner"},[a("div",{staticClass:"card-mini-summary-value"},[t._t("value",(function(){return[t._v("\n        "+t._s(t.value)+"\n      ")]}))],2),a("div",{staticClass:"card-mini-summary-text"},[t._t("text",(function(){return[t._v("\n        "+t._s(t.text)+"\n      ")]}))],2)]),a("div",{staticClass:"card-mini-summary-icon"},[a("q-avatar",{attrs:{color:"default",size:t.$q.screen.gt.md?"48px":"36px"}},[a("q-icon",{attrs:{name:t.icon}})],1)],1)])},h=[],f=(e("a9e3"),{name:"CardMiniSummary",props:{value:[String,Number],text:String,icon:String,outline:Boolean}}),g=f,C=(e("7e62"),e("2877")),b=e("f09f"),_=e("cb32"),y=e("0016"),k=e("eebe"),x=e.n(k),w=Object(C["a"])(g,v,h,!1,null,null,null),$=w.exports;x()(w,"components",{QCard:b["a"],QAvatar:_["a"],QIcon:y["a"]});var q=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"chart-average-time-taken"},[a("div",{staticClass:"chart-header"},[a("div",{staticClass:"chart-title"},[t._v(t._s(t.$t("Paid Amount")))]),a("div",{staticClass:"chart-description"},[t._v(t._s(t.$t("Last {entity} days",{entity:7})))])]),a("div",{ref:"chart",staticClass:"chart-wrapper"})])},T=[],M=(e("14d9"),e("bd4c")),S=e("22b4"),A=e("1be7"),F=e("104d"),U=e("9394"),D=e("3094"),R=e("2da7"),L=e("4b2a"),I=e("ff32"),Y=e("9502"),j=e("a0c6"),O=e("4cb5"),Q=e("3620"),B=e("c55a"),P=e("97ac");S["a"]([O["a"],F["a"],U["a"],D["a"],R["a"],L["a"],I["a"],Y["a"],j["a"],Q["a"],P["a"],B["a"]]);var z={name:"ChartAverageTimer",data:function(){var t=this;return{chart:null,chartOptions:{tooltip:{trigger:"axis"},legend:{show:!1},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{show:this.$q.screen.gt.md||!0,formatter:function(t){return M["b"].formatDate(t,"D MMM")},width:100,height:30,overflow:"break",lineOverflow:"truncate",interval:0,showMinLabel:!1,align:"right",rotate:30,fontSize:this.$q.screen.gt.lg?12:9}},yAxis:{type:"value",axisLabel:{fontSize:this.$q.screen.gt.lg?12:10,formatter:function(a){return t.$utils.formatSecondsToTime(a,!1,!1)},rotate:30}},darkMode:this.$q.dark.mode,dataZoom:[{type:"inside",show:!0,xAxisIndex:[0],start:0,end:100}],series:[{name:this.$t("Working Clock"),type:"line",data:[],tooltip:{valueFormatter:function(a){return t.$utils.formatSecondsToTime(a,!1,!1)}}},{name:this.$t("Pending Clock"),type:"line",data:[],tooltip:{valueFormatter:function(a){return t.$utils.formatSecondsToTime(a,!1,!1)}}}]}}},mounted:function(){this.chart=A["b"](this.$refs.chart,null,{renderer:"svg"}),this.chart.setOption(this.chartOptions),this.getChartTicketTimer()},methods:{getChartTicketTimer:function(){var t=this;return o()(r()().mark((function a(){var e,n,i,s,c,o,l,u,d;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.get("/v1/data/chart-ticket-timer");case 3:if(e=a.sent,n=e.data,"success"===n.status){for(u in i=n.data.chart||{},s=[],c=[],o=[],l=!1,i)s.push(u),c.push(i[u].working_clock),o.push(i[u].pending_clock),(i[u].working_clock||i[u].pending_clock)&&(l=!0);d={xAxis:{data:s},series:[{data:c},{data:o}]},d.yAxis=l?{type:"value"}:{interval:1},t.chart.setOption(d)}a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},V=z,W=(e("069a"),Object(C["a"])(V,q,T,!1,null,null,null)),G=W.exports;x()(W,"components",{QCard:b["a"]});var N=function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"chart-total-ticket"},[a("div",{staticClass:"chart-header"},[a("div",{staticClass:"chart-title"},[t._v(t._s(t.$t("Total Tickets")))]),a("div",{staticClass:"chart-description"},[t._v(t._s(t.$t("Last {entity} days",{entity:7})))])]),a("div",{ref:"chart",staticClass:"chart-wrapper"})])},H=[];S["a"]([O["a"],F["a"],U["a"],D["a"],R["a"],L["a"],I["a"],Y["a"],j["a"],Q["a"],P["a"],B["a"]]);var J={name:"ChartTotalTicket",data:function(){var t=this;return{chart:null,chartOptions:{tooltip:{trigger:"axis"},legend:{show:!1},xAxis:{type:"category",boundaryGap:!1,data:[],axisLabel:{show:this.$q.screen.gt.md||!0,formatter:function(t){return M["b"].formatDate(t,"D MMM")},width:100,height:30,overflow:"break",lineOverflow:"truncate",interval:0,showMinLabel:!1,align:"right",rotate:30,fontSize:this.$q.screen.gt.lg?12:9}},yAxis:{type:"value",axisLabel:{fontSize:this.$q.screen.gt.lg?12:10,formatter:function(a){return t.$utils.currency(a)}}},darkMode:this.$q.dark.mode,dataZoom:[{type:"inside",show:!0,xAxisIndex:[0],start:0,end:100}],series:[{name:this.$t("Total Ticket"),type:"bar",data:[],tooltip:{valueFormatter:function(a){return t.$utils.currency(a)}}}]}}},mounted:function(){this.chart=A["b"](this.$refs.chart,null,{renderer:"svg"}),this.chart.setOption(this.chartOptions),this.getChartTicketTimer()},methods:{getChartTicketTimer:function(){var t=this;return o()(r()().mark((function a(){var e,n,i,s,c,o,l,u;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.get("/v1/data/chart-total-ticket");case 3:if(e=a.sent,n=e.data,"success"===n.status){for(l in i=n.data.chart||{},s=[],c=[],o=!1,i)s.push(l),c.push(i[l]),i[l]&&(o=!0);u={xAxis:{data:s},series:[{data:c}]},o||(u.yAxis={interval:1}),t.chart.setOption(u)}a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:case"end":return a.stop()}}),a,null,[[0,8]])})))()}}},Z=J,E=(e("84c4"),Object(C["a"])(Z,N,H,!1,null,null,null)),K=E.exports;x()(E,"components",{QCard:b["a"]});var X={name:"PageIndex",meta:function(){return{title:this.$t("Dashboard")+" - "+this.$t("Web Console")}},breadcrumbs:function(){return["Dashboard"]},components:{CardMiniSummary:$,ChartAverageTimer:G,ChartTotalTicket:K},data:function(){return{cardMiniSummaryTimeTakenType:"avg",cardMiniSummaryUnpaidCustomer:null,totalUnpaidAmount:0,totalAmount:0,totalUnpaidCustomer:0,totalCustomer:0,averageWorkingClock:0,medianWorkingClock:0,totalPendingReview:0,totalRejected:0,isTotalUnpaidAmount:!0,isTotalUnpaidCustomerLoading:!0,isAverageStartClockLoading:!0,isMedianStartClockLoading:!0,isTotalPendingReviewLoading:!0,isTotalRejectedLoading:!0}},computed:p()(p()({},Object(m["c"])({appConfig:"app/settings"})),{},{avgMedianStartClock:function(){return"avg"===this.cardMiniSummaryTimeTakenType?this.averageWorkingClock:this.medianWorkingClock},unpaidAmountResizeText:function(){var t="1em";return{minFontSize:t}}}),mounted:function(){var t=this;return o()(r()().mark((function a(){return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.cardMiniSummaryTimeTakenType=t.appConfig.dashboardCardMiniSummaryTimeTakenType||"avg",t.cardMiniSummaryUnpaidCustomer=t.appConfig.dashboardCardMiniSummaryUnpaidCustomer||null,a.next=4,Promise.all([t.getTotalUnpaidAmount(),t.getTotalUnpaidCustomer(),t.getTotalUnpaidCustomer(),t.getTotalPendingReview(),t.getTotalRejected()]);case 4:t.$nextTick((function(){var a=t.$store,e=a.getters["tourGuide/finishedGroups"];e.default?e.index||t.$tourGuide.open("index"):t.$tourGuide.open("default")}));case 5:case"end":return a.stop()}}),a)})))()},methods:p()(p()({},Object(m["b"])({appSet:"app/set",appSave:"app/save"})),{},{onCardMiniSummaryUnpaidCustomerChange:function(t){this.cardMiniSummaryUnpaidCustomer===t&&(t=null),this.cardMiniSummaryUnpaidCustomer=t,this.appSet({dashboardCardMiniSummaryUnpaidCustomer:t}),this.appSave(),this.getTotalUnpaidCustomer()},getTotalUnpaidAmount:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isTotalUnpaidAmount=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/total-unpaid-amount");case 4:e=a.sent,n=e.data,"success"===n.status&&(t.totalUnpaidAmount=parseFloat(n.data.unpaid,10)||0,t.totalAmount=parseFloat(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isTotalUnpaidAmount=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getTotalUnpaidCustomer:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isTotalUnpaidCustomerLoading=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/total-unpaid-customer",{params:{type:t.cardMiniSummaryUnpaidCustomer}});case 4:e=a.sent,n=e.data,"success"===n.status&&(t.totalUnpaidCustomer=parseFloat(n.data.unpaid,10)||0,t.totalCustomer=parseFloat(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isTotalUnpaidCustomerLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getAverageStartClock:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isAverageStartClockLoading=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/working-clock/average");case 4:e=a.sent,n=e.data,"success"===n.status&&(t.averageWorkingClock=parseFloat(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isAverageStartClockLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getMedianStartClock:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isMedianStartClockLoading=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/working-clock/median");case 4:e=a.sent,n=e.data,"success"===n.status&&(t.medianWorkingClock=parseFloat(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isMedianStartClockLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getTotalPendingReview:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isTotalPendingReviewLoading=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/total-pending-review");case 4:e=a.sent,n=e.data,"success"===n.status&&(t.totalPendingReview=parseInt(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isTotalPendingReviewLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},getTotalRejected:function(){var t=this;return o()(r()().mark((function a(){var e,n;return r()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isTotalRejectedLoading=!0,a.prev=1,a.next=4,t.$api.get("/v1/data/total-rejected");case 4:e=a.sent,n=e.data,"success"===n.status&&(t.totalRejected=parseInt(n.data.total,10)||0),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](1);case 11:t.isTotalRejectedLoading=!1;case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()}})},tt=X,at=(e("0448"),e("e7a9")),et=e("9c40"),nt=Object(C["a"])(tt,l,u,!1,null,null,null),it=nt.exports;x()(nt,"components",{QBtnGroup:at["a"],QBtn:et["a"]});var st=function(){var t=this,a=t._self._c;return a("div",{staticClass:"content-customer container",class:{"has-franchise":t.franchiseColumnVisible}},["d"===t.$auth.authType?a("q-checkbox",{staticClass:"q-mb-md",attrs:{label:"Juga tampilkan tagihan untuk franchise"},model:{value:t.showFranchise,callback:function(a){t.showFranchise=a},expression:"showFranchise"}}):t._e(),a("card-active-invoice",{attrs:{"show-franchise":t.franchiseColumnVisible}}),a("card-invoice-history")],1)},rt=[],ct=(e("b0c0"),e("2532"),function(){var t=this,a=t._self._c;return a("q-card",{staticClass:"card-active-invoice",class:{"empty-invoice":t.emptyInvoice,multiple:t.entries.length>1},attrs:{flat:t.emptyInvoice,outline:t.emptyInvoice}},[a("q-card-section",[a("div",{staticClass:"card-label"},[a("div",{staticClass:"card-label-text"},[t._v("\n        Tagihan Saat Ini\n      ")]),a("transition",{attrs:{apprear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.emptyInvoice,expression:"!emptyInvoice"}],staticClass:"notification-animation"},[a("img",{attrs:{src:"/img/active-bill-notification.gif",alt:"icon notification"}})])])],1),t.isFetching?a("div",{staticClass:"bill-item fetching"},[a("div",{staticClass:"date"},[a("span",[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",[a("q-skeleton",{attrs:{type:"rect"}})],1)]),t.franchiseColumnVisible?a("div",{staticClass:"invoice"},[a("span",[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",[a("q-skeleton",{attrs:{type:"rect"}})],1)]):t._e(),a("div",{staticClass:"invoice"},[a("span",[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",[a("q-skeleton",{attrs:{type:"rect"}})],1)]),a("div",{staticClass:"status"},[a("span",[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",[a("q-skeleton",{attrs:{type:"rect"}})],1)]),a("div",{staticClass:"due-at"},[a("span",[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",[a("q-skeleton",{attrs:{type:"rect"}})],1)]),a("div",{staticClass:"total-bill"},[a("span",{staticClass:"total-bill-label"},[a("q-skeleton",{attrs:{type:"text"}})],1),a("div",{staticClass:"total-bill-amount"},[a("q-skeleton",{attrs:{type:"rect"}})],1)])]):t.entries.length?t._l(t.entries,(function(e){var n;return a("div",{key:e.id,staticClass:"bill-item",on:{click:function(a){return t.onBillClick(e)}}},[a("div",{staticClass:"date"},[a("span",{staticClass:"span"},[t._v(t._s(t.$t("Month")))]),a("span",{staticClass:"span-invoice"},[t._v(t._s(e.invoice_no))]),a("div",{staticClass:"span-month"},[t._v(t._s(t.formatMonth(e)))]),a("div",{staticClass:"span-due-at"},[t._v(t._s(t.formatDueAt(e)))])]),t.franchiseColumnVisible?a("div",{staticClass:"franchise"},[a("span",{staticClass:"span franchise-name"},[t._v("\n            Franchise\n          ")]),a("div",[t._v(t._s((null===(n=e.franchise)||void 0===n?void 0:n.name)||"-"))])]):t._e(),a("div",{staticClass:"invoice"},[a("span",{staticClass:"span"},[t._v("\n            Invoice\n\n            "),a("router-link",{attrs:{to:"/c/invoice/".concat(e.invoice_no)}},[a("q-icon",{attrs:{name:"chevron_right"}})],1)],1),a("div",[t._v(t._s(e.invoice_no))])]),a("div",{staticClass:"status"},[a("span",{staticClass:"span"},[t._v(t._s(t.$t("Status")))]),a("div",[t._v("\n            "+t._s(e.status_description)+"\n            "),e.status==t.$constant.invoice_status.Rejected&&e.reject_reason?a("q-icon",{staticStyle:{position:"relative",top:"-2px"},attrs:{name:"info",size:"xs"}},[a("q-tooltip",[t._v(t._s(e.reject_reason))])],1):t._e()],1)]),a("div",{staticClass:"due-at"},[a("span",{staticClass:"span"},[t._v(t._s(t.$t("Due")))]),a("div",[t._v(t._s(t.formatDueAt(e)))])]),a("div",{staticClass:"total-bill"},[a("span",{staticClass:"span total-bill-label"},[t._v("\n            "+t._s(t.$t("Total Bill"))+"\n          ")]),a("div",{staticClass:"total-bill-status"},[t._v("\n            "+t._s(e.status_description)+"\n          ")]),a("div",{staticClass:"total-bill-amount"},[t._v("\n            "+t._s(t.formatTotal(e))+"\n          ")])]),t.entries.length>1?a("div",{staticClass:"pay"},[a("q-icon",{staticClass:"pay-goto",staticStyle:{position:"relative",top:"-2px",right:"-5px"},attrs:{name:"chevron_right",size:"xs"}}),[t.$constant.invoice_status.Paid,t.$constant.invoice_status.Rejected,t.$constant.invoice_status.PendingReview].includes(e.status)?a("q-btn",{staticClass:"q-px-md",attrs:{color:"primary",outline:"",to:"/c/pay/".concat(e.uid)}},[t._v("\n            Lihat\n          ")]):a("q-btn",{staticClass:"q-px-md",attrs:{color:"primary",to:"/c/pay/".concat(e.uid)}},[t._v("\n            Bayar\n          ")])],1):t._e()])})):a("div",{staticClass:"empty-entry"},[a("div",{staticClass:"empty"},[t._v(t._s(t.$t("You have no active bill at the moment.")))])])],2),t.isFetching||t.entries.length?a("q-card-actions",[a("q-space"),t.isFetching?a("q-skeleton",{staticClass:"q-btn-lg",attrs:{type:"QBtn"}}):1===t.entries.length?a("q-btn",{staticClass:"q-btn-lg",attrs:{flat:"",to:"/c/invoice/".concat(t.firstInvoice.uid),target:"_blank"}},[t._v("\n      Lihat Invoice & Kwitansi\n    ")]):t._e(),t.isFetching?a("q-skeleton",{staticClass:"q-btn-lg q-ml-sm",attrs:{type:"QBtn"}}):1===t.entries.length?[[t.$constant.invoice_status.Paid,t.$constant.invoice_status.Rejected,t.$constant.invoice_status.PendingReview].includes(t.firstInvoice.status)?a("q-btn",{staticClass:"q-btn-lg q-ml-sm",attrs:{color:"primary",outline:"",to:"/c/pay/".concat(t.firstInvoice.uid)}},[t._v("\n        Lihat\n      ")]):a("q-btn",{staticClass:"q-btn-lg q-ml-sm",attrs:{color:"primary",to:"/c/pay/".concat(t.firstInvoice.uid)}},[t._v("\n        Bayar Sekarang\n      ")])]:t._e()],2):t._e()],1)}),ot=[],lt={name:"CardActiveInvoice",props:{showFranchise:{type:Boolean,default:!1}},data:function(){return{entries:[],isFetching:!0,isLoading:!1,onRequestDebounced:this.$utils.debounce(this.onRequest,300)}},computed:{emptyInvoice:function(){return!this.isFetching&&!this.entries.length},firstInvoice:function(){return this.entries[0]},franchiseColumnVisible:function(){return"f"==this.$auth.authType||this.showFranchise}},watch:{showFranchise:function(t,a){t!==a&&(this.isFetching=!0,this.onRequestDebounced())}},mounted:function(){this.onRequest()},methods:{onRequest:function(t){var a=this;return o()(r()().mark((function e(){var n,i,s;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.isLoading){e.next=2;break}return e.abrupt("return");case 2:return t||(t={pagination:999999999}),a.isFetching=!0,a.isLoading=!0,n={table_pagination:p()({},t.pagination||{})},n.table_pagination.sortBy="published_at",n.table_pagination.descending=!0,a.franchiseColumnVisible&&(n.includes="franchise"),e.prev=9,e.next=12,a.$api.get("/v1/invoices/active",{params:n});case 12:i=e.sent,s=i.data,"success"===s.status&&(a.entries=s.data.invoices),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](9),a.$q.notify(e.t0);case 20:a.isFetching=!1,a.isLoading=!1;case 22:case"end":return e.stop()}}),e,null,[[9,17]])})))()},formatMonth:function(t){var a=M["b"].extractDate(t.due_at||t.published_at,"YYYY-MM-DD");return M["b"].formatDate(a,"MMMM")},formatDueAt:function(t){var a=M["b"].extractDate(t.due_at,"YYYY-MM-DD");return M["b"].formatDate(a,"DD MMM YYYY")},formatTotal:function(t){return this.$utils.currency(t.total,{decimal:".",thousand:",",symbol:"Rp. "})||"-"},onBillClick:function(t){this.$q.screen.lt.md&&this.$router.push("/c/pay/".concat(t.uid))}}},ut=lt,dt=(e("690a"),e("a370")),pt=e("293e"),mt=e("05c0"),vt=e("4b7e"),ht=e("2c91"),ft=Object(C["a"])(ut,ct,ot,!1,null,null,null),gt=ft.exports;x()(ft,"components",{QCard:b["a"],QCardSection:dt["a"],QSkeleton:pt["a"],QIcon:y["a"],QTooltip:mt["a"],QBtn:et["a"],QCardActions:vt["a"],QSpace:ht["a"]});var Ct=function(){var t=this,a=t._self._c;return a("div",{staticClass:"invoice-history-wrapper"},[a("div",{staticClass:"card-label"},[t._v("\n    Riwayat Tagihan\n  ")]),a("q-card",{staticClass:"card-invoice-history",attrs:{flat:""}},[t.isFetching?a("div"):t.entries&&t.entries.length?a("q-card-section",t._l(t.entries,(function(e){return a("router-link",{key:e.id,staticClass:"bill-item",attrs:{to:"/c/bill/".concat(e.uid)}},[a("div",{staticClass:"date"},[a("span",{staticClass:"span"},[t._v(t._s(t.$t("Month")))]),a("span",{staticClass:"span span-invoice"},[t._v(t._s(e.invoice_no))]),a("div",[t._v(t._s(t.formatMonth(e)))])]),a("div",{staticClass:"invoice"},[a("span",{staticClass:"span"},[t._v("\n            Invoice\n\n            "),a("q-icon",{attrs:{name:"chevron_right"}})],1),a("div",[t._v(t._s(e.invoice_no))])]),a("div",{staticClass:"status"},[a("span",{staticClass:"span"},[t._v("Tanggal Bayar")]),a("div",[t._v(t._s(t.formatDate(e.paid_at)))])]),a("div",{staticClass:"total-bill"},[a("span",{staticClass:"span total-bill-label"},[t._v("\n            Total Tagihan\n          ")]),a("div",{staticClass:"total-bill-amount"},[t._v("\n            "+t._s(t.formatMoney(e.total))+"\n          ")])]),a("div",{staticClass:"action"},[a("q-icon",{attrs:{name:"chevron_right"}})],1)])})),1):a("q-card-section",{staticClass:"empty-invoice"},[t._v("\n      Anda belum memiliki riwayat tagihan\n    ")])],1)],1)},bt=[],_t=(e("a15b"),{name:"CardInvoiceHistory",data:function(){return{entries:[],isLoading:!1,isFetching:!0}},computed:{emptyInvoice:function(){return!this.isFetching&&!this.entries.length},firstInvoice:function(){return this.entries[0]}},mounted:function(){this.onRequest()},methods:{onRequest:function(t){var a=this;return o()(r()().mark((function e(){var n,i,s;return r()().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.isLoading){e.next=2;break}return e.abrupt("return");case 2:return t||(t={pagination:999999999}),a.isFetching=!0,a.isLoading=!0,n={table_pagination:p()({},t.pagination||{}),status:"in:".concat([a.$constant.invoice_status.Paid].join("|")),me:"y"},n.table_pagination.sortBy="published_at",n.table_pagination.descending=!0,e.prev=8,e.next=11,a.$api.get("/v1/invoices",{params:n});case 11:i=e.sent,s=i.data,"success"===s.status&&(a.entries=s.data.invoices),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](8),a.$q.notify(e.t0);case 19:a.isFetching=!1,a.isLoading=!1;case 21:case"end":return e.stop()}}),e,null,[[8,16]])})))()},formatMonth:function(t){var a=M["b"].extractDate(t.due_at||t.published_at,"YYYY-MM-DD");return M["b"].formatDate(a,"MMMM YYYY")},formatDate:function(t){var a=M["b"].extractDate(t,"YYYY-MM-DD HH:mm:ss");return M["b"].formatDate(a,"DD MMM YYYY")},formatMoney:function(t){return this.$utils.currency(t,{decimal:".",thousand:",",symbol:"Rp. "})||"-"}}}),yt=_t,kt=(e("a83c"),Object(C["a"])(yt,Ct,bt,!1,null,null,null)),xt=kt.exports;x()(kt,"components",{QCard:b["a"],QCardSection:dt["a"],QIcon:y["a"]});var wt={name:"ContentCustomer",components:{CardActiveInvoice:gt,CardInvoiceHistory:xt},data:function(){return{isNotificationAnimationVisible:!0,showFranchise:!1}},computed:p()(p()({},Object(m["c"])({appSettings:"app/settings"})),{},{franchiseColumnVisible:function(){return"f"==this.$auth.authType||this.showFranchise}}),watch:{"appSettings.isFranchiseBillVisible":{immediate:!0,handler:function(t,a){t!==a&&t!==this.showFranchise&&(this.showFranchise=t)}},showFranchise:function(t,a){t!==a&&t!==this.appSet.isFranchiseBillVisible&&(this.appSet({isFranchiseBillVisible:t}),this.appSave())}},methods:p()(p()({},Object(m["b"])({appSet:"app/set",appSave:"app/save"})),{},{onCardBillMouseEnter:function(){this.isNotificationAnimationVisible=!0;var t=this.$refs.notificationAnimation;console.log(t)},onCardBillMouseLeave:function(){this.isNotificationAnimationVisible=!1;var t=this.$refs.notificationAnimation;console.log(t)}})},$t=wt,qt=(e("c341"),e("8f8e")),Tt=Object(C["a"])($t,st,rt,!1,null,null,null),Mt=Tt.exports;x()(Tt,"components",{QCheckbox:qt["a"]});var St={name:"PageIndex",components:{ContentCustomer:Mt,ContentDashboard:it},meta:function(){return{title:this.$t("Dashboard")+" - "+this.$t("Web Console")}},breadcrumbs:function(){return["Dashboard"]},data:function(){return{}},mounted:function(){return o()(r()().mark((function t(){return r()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},At=St,Ft=(e("c9d5"),e("9989")),Ut=Object(C["a"])(At,n,i,!1,null,null,null);a["default"]=Ut.exports;x()(Ut,"components",{QPage:Ft["a"],QBtn:et["a"]})},"1e21":function(t,a,e){},"1e4e":function(t,a,e){},"51c0":function(t,a,e){},"5a7d":function(t,a,e){},"690a":function(t,a,e){"use strict";e("d88e")},"7e62":function(t,a,e){"use strict";e("1e21")},"84c4":function(t,a,e){"use strict";e("51c0")},a19f:function(t,a,e){},a83c:function(t,a,e){"use strict";e("a19f")},c341:function(t,a,e){"use strict";e("c6f1")},c6f1:function(t,a,e){},c9d5:function(t,a,e){"use strict";e("0599")},d88e:function(t,a,e){}}]);