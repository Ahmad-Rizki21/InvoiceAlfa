(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"05c2":function(e,t,a){"use strict";var r=a("448a"),n=a.n(r),s=(a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("1c16"));t["a"]={computed:{storedViewColumns:function(){return this.$store.getters["datatable/viewColumns"][this.$options.name]||[]}},watch:{storedViewColumns:{immediate:!0,handler:function(e,t){Array.isArray(e)&&e.length&&(this.visibleColumns=n()(e))}},visibleColumns:function(e,t){var a=this.storedViewColumns;(!a.length||Array.isArray(e)&&e.filter((function(e){return a.includes(e)})).length)&&this.storeViewColumns(e)}},methods:{storeViewColumns:Object(s["a"])((function(e){this.$store.dispatch("datatable/setViewColumn",{page:this.$options.name,columns:e})}),1500)}}},"0b38":function(e,t,a){"use strict";a("c27b")},"0bd1":function(e,t,a){},"0cb3":function(e,t,a){},"0f4b":function(e,t,a){"use strict";a("b494")},1855:function(e,t,a){"use strict";a("be8a")},"35b2":function(e,t,a){},"369d":function(e,t,a){},"40b1":function(e,t,a){"use strict";a("369d")},"5c27":function(e,t,a){var r={"./en-us":["1f91"],"./en-us.js":["1f91"],"./id":["7e40",0],"./id.js":["7e40",0]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id="5c27",e.exports=n},"5da6":function(e,t,a){"use strict";a("b5ec")},"602a":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-print-preview",on:{click:e.onClick}},[t("form-invoice",{attrs:{entry:e.invoice,"template-settings":e.templateSettings}}),t("form-receipt",{attrs:{entry:e.receipt,invoice:e.invoiceUpdated.invoice_no?e.invoiceUpdated:e.invoice,"template-settings":e.templateSettings}})],1)},n=[],s=a("a8c8"),i=a("a6f8"),o={name:"FormPrintPreview",components:{FormInvoice:s["a"],FormReceipt:i["a"]},props:{invoice:{type:Object,default:function(){return{}}},invoiceUpdated:{type:Object,default:function(){return{}}},receipt:{type:Object,default:function(){return{}}},templateSettings:{type:[Array,Object],default:function(){return{}}}},methods:{onClick:function(e){var t=e&&e.target||{};t.closest&&t.closest(".print-paper")||this.$emit("close")}}},l=o,c=a("2877"),d=Object(c["a"])(l,r,n,!1,null,null,null);t["a"]=d.exports},6880:function(e,t,a){"use strict";a("0cb3")},"6eb9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("q-layout",{staticClass:"main-layout",attrs:{view:"LHh lpR fFf"}},[t("topbar"),t("sidebar"),t("q-page-container",[t("router-view")],1)],1)},n=[],s=a("ded3"),i=a.n(s),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=(a("caad"),a("2532"),a("b0c0"),a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("2f62")),m=function(){var e=this,t=e._self._c;return t("q-header",{staticClass:"topbar",attrs:{"height-hint":48,bordered:!1}},[t("q-toolbar",[e.$q.screen.lt.md&&e.hasAppToolbarPortal?t("portal-target",{staticClass:"app-toolbar",attrs:{name:"app-toolbar"}}):[e.$root.__currentMeta&&e.$root.__currentMeta.title&&!e.hasAppBreadcrumbsPortal?t("q-toolbar-title",[e._v("\n        "+e._s(e.$root.__currentMeta?e.$root.__currentMeta.title:"")+"\n      ")]):e._e(),e.$q.screen.gt.sm?t("portal-target",{staticClass:"app-breadcrumbs",attrs:{name:"app-breadcrumbs"}}):e._e(),t("div",{staticClass:"sep"}),t("q-select",{attrs:{borderless:"",options:e.localeOption,"emit-value":"",dense:""},scopedSlots:e._u([{key:"selected-item",fn:function(){return[e._v("\n          "+e._s(e.selectedLocaleDisplay)+"\n        ")]},proxy:!0}]),model:{value:e.selectedLocale,callback:function(t){e.selectedLocale=t},expression:"selectedLocale"}}),t("q-btn",{staticClass:"q-ml-md btn-topbar-menu-item-user",attrs:{flat:"",label:e.$auth.user.name||e.$auth.user.email||"Hello, user!","icon-right":"arrow_drop_down"}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom left",self:"top left",offset:[0,6]}},[t("q-list",{staticClass:"topbar-menu"},[t("q-item",{staticClass:"menu-profile",attrs:{clickable:"",to:"/@".concat(e.$auth.user.username||e.$auth.user.hash)}},[t("q-item-section",{staticClass:"q-pr-sm",attrs:{side:""}},[t("avatar-field",{attrs:{value:e.$auth.user.avatar,initial:e.$utils.initials(e.$auth.user.name||e.$auth.user.username||e.$auth.user.email),size:"36px",readonly:""}})],1),t("q-item-section",[t("q-item-label",[e._v(e._s(e.$auth.user.name||"-"))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$auth.user.email))])],1)],1),t("q-separator"),t("q-item",{attrs:{clickable:"",to:"/account/profile"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"settings"}})],1),t("q-item-section",[e._v(e._s(e.$t("Account Settings")))])],1),t("q-item",{attrs:{clickable:"",to:"/account/password"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"lock_open"}})],1),t("q-item-section",[e._v(e._s(e.$t("Change Password")))])],1),t("q-item",{attrs:{clickable:""},on:{click:e.onLogoutClick}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"logout"}})],1),t("q-item-section",[e._v(e._s(e.$t("Logout")))])],1)],1)],1)],1)]],2)],1)},f=[],p=a("9523"),v=a.n(p),b=(a("7db0"),a("ac1f"),a("5319"),a("2b88")),y={name:"Topbar",data:function(){var e=this;return{selectedLocale:null,localeOption:[{label:"Bahasa Indonesia",value:"id",display:"ID"},{label:"English",value:"en",display:"EN"}],syncLocale:this.$utils.debounce(function(){var t=d()(l()().mark((function t(r){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$i18n.locale="en-us"===r?"en":r,a("5c27")("./"+("en"===r?"en-us":r)).then((function(t){e.$q.lang.set(t.default)})),r===e.$store.getters["auth/locale"]){t.next=5;break}return t.next=5,e.authUpdate({locale:"en-us"===r?"en":r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),1e3)}},computed:i()(i()({},Object(u["c"])({appConfig:"app/settings"})),{},{hasAppToolbarPortal:function(){return b["Wormhole"].hasContentFor("app-toolbar")},hasAppBreadcrumbsPortal:function(){return b["Wormhole"].hasContentFor("app-breadcrumbs")},selectedLocaleDisplay:function(){var e=this;if(this.selectedLocale){var t=this.localeOption.find((function(t){return t.value===e.selectedLocale}));if(t)return t.display}return this.$i18n.locale}}),watch:{"$i18n.locale":{immediate:!0,handler:function(e,t){e!==t&&e!==this.selectedLocale&&(this.selectedLocale="en-us"===e?"en":e)}},selectedLocale:function(e,t){e!==t&&e!==this.appConfig.locale&&this.syncLocale(e)}},methods:i()(i()({},Object(u["b"])({appConfigSet:"app/set",authUpdate:"auth/update"})),{},{onToggleSidebar:function(){this.appConfigSet({sidebar:!this.appConfig.sidebar})},onLogoutClick:function(){var e=this;return d()(l()().mark((function t(){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog(v()({title:e.$t("Confirm"),message:e.$t("Are you sure want to logout?"),cancel:!0,ok:e.$t("Yes")},"cancel",e.$t("No"))).onOk(d()(l()().mark((function t(){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/logout");case 2:e.isUserMenuVisible=!1,e.$router.replace("/login");case 4:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})))()}})},h=y,_=(a("0b38"),a("2877")),g=a("e359"),$=a("65c6"),C=a("9c40"),w=a("6ac5"),q=a("ddd8"),x=a("4e73"),E=a("1c1c"),k=a("66e5"),D=a("4074"),Y=a("0170"),M=a("eb85"),S=a("cb32"),F=a("4d5a"),L=a("eebe"),P=a.n(L),T=Object(_["a"])(h,m,f,!1,null,null,null),Q=T.exports;P()(T,"components",{QHeader:g["a"],QToolbar:$["a"],QBtn:C["a"],QToolbarTitle:w["a"],QSelect:q["a"],QMenu:x["a"],QList:E["a"],QItem:k["a"],QItemSection:D["a"],QItemLabel:Y["a"],QSeparator:M["a"],QAvatar:S["a"],QLayout:F["a"]});var A=function(){var e=this,t=e._self._c;return t("q-drawer",{attrs:{"show-if-above":"",bordered:!1,"content-class":"sidebar-content",elevated:!e.$q.dark.mode,width:e.sidebarWidth,mini:e.isMini},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[t("q-toolbar",{staticClass:"sidebar-toolbar"},[t("q-toolbar-title",{class:{"text-center":e.isMini}},[e._v("\n      "+e._s(e.isMini?"W":"Web Console")+"\n    ")])],1),t("q-list",{staticClass:"sidebar-content-list"},[e._l(e.menuList,(function(a,r){return[a.header?t("q-item-label",{key:"header".concat(r),staticClass:"text-grey-8",attrs:{header:""}},[e._v("\n        "+e._s(a.header)+"\n      ")]):a.separator?t("q-separator",{key:"sep".concat(r)}):t("q-item",{key:"item".concat(r),class:a.class,attrs:{clickable:"",to:a.to,target:a.hrefTarget,href:a.href,exact:""}},[a.icon?t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:a.icon}})],1):e._e(),t("q-item-section",[t("q-item-label",[e._v(e._s(a.title))]),a.caption?t("q-item-label",{attrs:{caption:""}},[e._v("\n            "+e._s(a.caption)+"\n          ")]):e._e()],1)],1)]}))],2),t("div",{staticClass:"toolbar-bottom"},[t("q-btn",{attrs:{flat:"",round:"",icon:e.isMini?"chevron_right":"chevron_left"},on:{click:function(t){t.preventDefault(),e.isMini=!e.isMini}}}),e.isMini?e._e():t("q-btn",{attrs:{flat:"",round:"",icon:e.appConfig.dark?"light_mode":"dark_mode"},on:{click:function(t){return t.preventDefault(),e.toggleDarkMode.apply(null,arguments)}}}),e.isMini?e._e():t("q-btn",{staticClass:"btn-sidebar-activate-help",attrs:{flat:"",round:"",icon:"help"},on:{click:function(t){return t.preventDefault(),e.onHelpClick.apply(null,arguments)}}})],1)],1)},N=[],O=(a("4de4"),a("d81d"),{name:"Sidebar",data:function(){return{isVisible:this.$q.screen.gt.sm,isMini:!1,menuList:this.defaultMenuList()}},computed:i()(i()({},Object(u["c"])({appConfig:"app/settings",permissions:"auth/permissions"})),{},{sidebarWidth:function(){return this.$q.screen.md?200:275}}),watch:{isVisible:function(e,t){e!==t&&e!==this.appConfig.sidebar&&this.appConfigSet({sidebar:e})},"appConfig.sidebar":{immediate:!0,handler:function(e,t){e!==t&&void 0!==e&&e!==this.isVisible&&(this.isVisible=e)}},permissions:function(){this.generateAvailableMenu()},"$i18n.locale":function(e,t){var a=this;e!==t&&this.$nextTick((function(){a.generateAvailableMenu()}))}},mounted:function(){this.generateAvailableMenu()},methods:i()(i()({},Object(u["b"])({appConfigSet:"app/set",appConfigSave:"app/save"})),{},{defaultMenuList:function(){return[{header:this.$t("Report"),permissions:["access.dashboard","access.report"]},{title:this.$t("Dashboard"),icon:"home",to:"/",class:"sidebar-menu-item-dashboard",permissions:["access.dashboard"]},{header:this.$t("Data"),permissions:["access.dashboard"]},{title:this.$t("Invoice"),icon:"receipt_long",to:"/invoices",class:"sidebar-menu-item-invoices",permissions:["access.dashboard"]},{title:this.$t("Distribution Center"),icon:"business_center",to:"/distribution-centers",class:"sidebar-menu-item-distribution-centers",permissions:["access.dashboard"]},{header:this.$t("System"),permissions:["manage.users","create.role","edit.role","delete.role","edit.permission"]},{title:this.$t("Users"),icon:"group",to:"/users",class:"sidebar-menu-item-users",permissions:["manage.users"]}]},toggleDarkMode:function(){var e=!this.appConfig.dark;this.appConfigSet({dark:e}),this.$q.dark.set(e),this.appConfigSave()},generateAvailableMenu:function(){this.permissions.includes("access.dashboard")?this.menuList=this.checkMenuItems(this.defaultMenuList()):this.menuList=[]},checkMenuItems:function(e){var t=this;return e.map((function(e){return e.permissions||e.roles?e.permissions&&t.checkMenuItemPermissionAvailability(e)?t.checkMenuItemRoleAvailability(e):e.roles&&t.checkMenuItemRoleAvailability(e)?t.checkMenuItemPermissionAvailability(e):void 0:t.checkMenuItemChildren(e)})).filter((function(e){return!!e}))},checkMenuItemPermissionAvailability:function(e){return e.permissions?this.permissions.some((function(t){return e.permissions.includes(t)}))?this.checkMenuItemChildren(e):null:e},checkMenuItemRoleAvailability:function(e){var t=this;return e.roles?e.roles.find((function(e){return e==t.$auth.user.role_id}))?this.checkMenuItemChildren(e):null:e},checkMenuItemChildren:function(e){return e?e.items&&(e.items.length&&(e.items=this.checkMenuItems(e.items)),!e.items.length)&&e.noAction?null:e:null},onHelpClick:function(){this.$tourGuide.open(this.$route.name)}})}),V=O,I=(a("1855"),a("9404")),B=a("0016"),j=Object(_["a"])(V,A,N,!1,null,null,null),H=j.exports;P()(j,"components",{QDrawer:I["a"],QToolbar:$["a"],QToolbarTitle:w["a"],QList:E["a"],QItemLabel:Y["a"],QSeparator:M["a"],QItem:k["a"],QItemSection:D["a"],QIcon:B["a"],QBtn:C["a"]});var R={name:"MainLayout",preFetch:function(e){return d()(l()().mark((function t(){var a,r,n,s;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.redirect,r=e.store,n=e.currentRoute,r.getters["auth/check"]){t.next=3;break}return t.abrupt("return",a("/login"));case 3:if(s=r.getters["auth/permissions"],!s||!s.length||s.includes("access.dashboard")||"unauthorized-access"===n.name){t.next=6;break}return t.abrupt("return",a("/unauthorized-access"));case 6:return t.next=8,r.dispatch("datatable/initStore");case 8:case"end":return t.stop()}}),t)})))()},components:{Topbar:Q,Sidebar:H},data:function(){return{}},computed:i()({},Object(u["c"])({appConfig:"app/settings"})),created:function(){var e=this;this.$q.dark.set(this.appConfig.dark);var t=this.$store.getters["auth/locale"];this.$i18n.locale="en-us"===t?"en":t,a("5c27")("./"+("en"===t?"en-us":t)).then((function(t){e.$q.lang.set(t.default)}))}},z=R,U=(a("8c4a"),a("09e3")),J=a("f09f"),G=Object(_["a"])(z,r,n,!1,null,null,null);t["default"]=G.exports;P()(G,"components",{QLayout:F["a"],QPageContainer:U["a"],QDrawer:I["a"],QMenu:x["a"],QItem:k["a"],QCard:J["a"],QToolbar:$["a"]})},"6f53":function(e,t,a){},"8c4a":function(e,t,a){"use strict";a("35b2")},a6f8:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-receipt q-pa-sm q-gutter-md",class:{editable:e.isEditable}},[t("div",{staticClass:"print-paper-wrapper A4"},[t("div",{staticClass:"print-paper"},[t("div",{staticClass:"paper-content"},[e._m(0),t("div",{staticClass:"receipt-number"},[t("div",{staticClass:"receipt-number-inner"},[t("div",{staticClass:"receipt-number-label"},[e._v("\n              KWITANSI\n            ")]),t("div",{staticClass:"receipt-number-content"},[e._v("\n              Nomor: "+e._s(e.formEntry.receipt_no)+"\n            ")])])]),t("div",{staticClass:"receipt-detail"},[t("div",{staticClass:"receipt-detail-row"},[e._m(1),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-recipient-company-name"},[e._v("\n                "+e._s(e.formEntry.customer_name)+"\n              ")]),t("div",{staticClass:"receipt-detail-recipient-company-address"},[e._v("\n                "+e._s(e.formEntry.customer_address)+"\n              ")])])]),t("div",{staticClass:"receipt-detail-row"},[e._m(2),t("div",{staticClass:"receipt-detail-value"},[e.isEditable?t("q-input",{attrs:{filled:"",type:"textarea",rows:"1",autogrow:"",borderless:"",name:"receipt_remark",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.receipt_remark,error:!!e.errors.receipt_remark,"error-message":e.errors.receipt_remark},model:{value:e.formEntry.receipt_remark,callback:function(t){e.$set(e.formEntry,"receipt_remark",t)},expression:"formEntry.receipt_remark"}}):[e.formEntry.receipt_remark?t("span",[e._v(e._s(e.formEntry.receipt_remark))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"receipt-detail-row"},[e._m(3),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-grand-total"},[e._v("\n                Rp "+e._s(e.formattedGrandTotal)+"\n              ")])])]),t("div",{staticClass:"receipt-detail-row"},[e._m(4),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-grand-total-text"},[e._v("\n                # "+e._s(e.formattedGrandTotalTerbilang)+" #\n              ")])])])]),t("div",{staticClass:"receipt-date"},[t("div",{staticClass:"receipt-date-inner"},[e._v("\n            Jakarta, "+e._s(e.formattedPublishedAt)+"\n          ")])]),t("div",{staticClass:"receipt-footer"},[e._m(5),t("div",{staticClass:"receipt-signature"},[t("div",{staticClass:"receipt-signature-name"},[e._v("\n              ("+e._s(e.invoice.signatory_name)+")\n            ")]),t("div",{staticClass:"receipt-signature-role"},[e._v("\n              "+e._s(e.invoice.signatory_position)+"\n            ")])])])])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-header"},[t("div",{staticClass:"company-logo-wrapper"},[t("img",{staticClass:"company-logo",attrs:{src:"/img/artacom.png",alt:"artacom logo"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Sudah Terima dari\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Pekerjaan\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Jumlah\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Terbilang\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-owner"},[t("div",{staticClass:"receipt-owner-name"},[e._v("\n              Artacomindo Jejaring Nusa\n            ")]),t("div",{staticClass:"receipt-owner-address"},[e._v("\n              Menara Palma Lt. 12, Jl. HR. Rasuna Said Blok X2 Kav.6-Jakarta 12950\n            ")]),t("div",{staticClass:"receipt-owner-contact"},[e._v("\n              Telp: 021-293911111, 894 5212, 894 4821\n            ")])])}],s=a("448a"),i=a.n(s),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=a("ded3"),m=a.n(u),f=(a("cb29"),a("e260"),a("d3b7"),a("ddb0"),a("99af"),a("4de4"),a("bd4c")),p=a("1c16"),v={receipt_remark:null},b={name:"FormReceipt",props:{entry:{type:Object,default:function(){return{}}},invoice:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0},templateSettings:{type:[Object,Array],default:function(){return{}}}},data:function(){var e=this;return{formEntry:v,isLoading:!1,rules:{receipt_remark:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Receipt remark")})}]},errors:v,isEditable:!0,defaultFormEntry:v,formServices:[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}]}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedPublishedAt:function(){if(this.invoice.published_at)return f["b"].formatDate(f["b"].extractDate(this.invoice.published_at,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedGrandTotalTerbilang:function(){var e=this.invoice.grand_total||this.invoice.total||0;return e?this.$utils.terbilang(e):""},formattedGrandTotal:function(){return this.$utils.currency(this.invoice.grand_total||this.invoice.total||0,{decimal:".",thousand:","})}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},"formEntry.receipt_remark":Object(p["a"])((function(e,t){this.$emit("updated",this.formEntry)}),300),formServices:{deep:!0,handler:function(e){var t=this;this.$nextTick((function(){t.$forceUpdate()}))}}},methods:{fill:function(e){if(e=m()(m()({},v),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=f["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=f["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm");else{var t={};for(var a in v)t[a]=e[a];this.defaultFormEntry=t}e.approval_date&&(e.approval_date=f["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=f["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY")),e.due_at&&(e.due_at=f["b"].formatDate(e.due_at,"DD/MM/YYYY")),e.published_at&&(e.published_at=f["b"].formatDate(e.published_at,"DD/MM/YYYY")),this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.errors=v,this.$refs.form&&this.$refs.form.resetValidation()},validate:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.rules,r=!0,t.t0=l()().keys(a);case 3:if((t.t1=t.t0()).done){t.next=16;break}s=t.t1.value,i=0;case 6:if(!(i<a[s].length)){t.next=14;break}return t.next=9,a[s][i](e.formEntry[s]);case 9:n=t.sent,"string"===typeof n&&(e.errors[s]=n,!0===r&&(r=n));case 11:i++,t.next=6;break;case 14:t.next=3;break;case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t)})))()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i,o,c;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=m()({},e.formEntry),r.approval_date&&(r.approval_date=f["b"].formatDate(f["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=f["b"].formatDate(f["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:i=t.sent,o=i.data,"success"===o.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",o.data.store),e.isEditable=!1),o.message?e.$q.notify({message:o.message}):"success"===o.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=m()(m()({},v),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onFormServiceAdd:function(){this.formServices=[].concat(i()(this.formServices),[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}])},onFormServiceDelete:function(e){this.formServices=this.formServices.filter((function(t){return t.id!==e}))},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(d()(l()().mark((function t(){var a,r;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},y=b,h=(a("db30"),a("2877")),_=a("27f9"),g=a("eebe"),$=a.n(g),C=Object(h["a"])(y,r,n,!1,null,null,null);t["a"]=C.exports;$()(C,"components",{QInput:_["a"]})},a8c8:function(e,t,a){"use strict";a("a4d3"),a("e01a");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-invoice q-pa-sm q-gutter-md",class:{editable:e.isEditable}},[t("div",{staticClass:"print-paper-wrapper A4"},[t("div",{staticClass:"print-paper"},[t("div",{staticClass:"paper-content"},[e._m(0),t("div",{staticClass:"invoice-recipient"},[t("div",{staticClass:"invoice-recipient-row"},[e._m(1),t("div",{staticClass:"invoice-recipient-value"},[t("div",{staticClass:"invoice-recipient-company-name"},[e._v("\n                "+e._s(e.formEntry.customer_name)+"\n              ")]),t("div",{staticClass:"invoice-recepient-company-address"},[e._v("\n                "+e._s(e.formEntry.customer_address)+"\n              ")])])]),t("div",{staticClass:"invoice-recipient-row"},[e._m(2),t("div",{staticClass:"invoice-recipient-value"},[e._v("\n              "+e._s(e.formEntry.invoice_no)+"\n            ")])]),t("div",{staticClass:"invoice-recipient-row"},[e._m(3),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedPublishedAt,filled:"",borderless:"",name:"published_at",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.published_at,error:!!e.errors.published_at,"error-message":e.errors.published_at}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.published_at,callback:function(t){e.$set(e.formEntry,"published_at",t)},expression:"formEntry.published_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedPublishedAt?t("span",[e._v(e._s(e.formattedPublishedAt))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(4),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"offering_letter_reference_number",autocomplete:"off",dense:""},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}}):[e.formEntry.offering_letter_reference_number?t("span",[e._v(e._s(e.formEntry.offering_letter_reference_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(5),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:""},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}}):[e.formEntry.fo_offering_letter_reference_number?t("span",[e._v(e._s(e.formEntry.fo_offering_letter_reference_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(6),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedApprovalDate,filled:"",borderless:"",name:"approval_date",autocomplete:"off",dense:""}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedApprovalDate?t("span",[e._v(e._s(e.formattedApprovalDate))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(7),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedFoApprovalDate,filled:"",borderless:"",name:"fo_approval_date",autocomplete:"off",dense:""}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedFoApprovalDate?t("span",[e._v(e._s(e.formattedFoApprovalDate))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(8),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"issuance_number",autocomplete:"off",dense:""},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}}):[e.formEntry.issuance_number?t("span",[e._v(e._s(e.formEntry.issuance_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row last-row"},[e._m(9),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"fo_issuance_number",autocomplete:"off",dense:""},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}}):[e.formEntry.fo_issuance_number?t("span",[e._v(e._s(e.formEntry.fo_issuance_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])]),t("div",{staticClass:"invoice-table"},[e._m(10),e._l(e.formServices,(function(a,r){return[t("form-invoice-service",{key:"srv"+a.id,ref:"formService".concat(r),refInFor:!0,attrs:{index:r,id:a.id,editable:e.isEditable,description:a.description,qty:a.qty,"unit-price":a.unit_price},on:{"update:description":function(t){return e.$set(a,"description",t)},"update:qty":function(t){return e.$set(a,"qty",t)},"update:unitPrice":function(t){return e.$set(a,"unit_price",t)},"update:unit-price":function(t){return e.$set(a,"unit_price",t)},delete:e.onFormServiceDelete}})]})),e.isEditable?t("div",{staticClass:"invoice-table-row"},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"}),t("div",{staticClass:"invoice-table-description"},[t("q-btn",{staticClass:"btn-form-invoice-service-delete",staticStyle:{"min-width":"5rem",width:"60%",margin:"0 auto",display:"block"},attrs:{unelevated:"",color:"primary",size:"sm",padding:"sm",icon:"add"},on:{click:function(t){return t.preventDefault(),e.onFormServiceAdd.apply(null,arguments)}}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("Add")))])])],1)]),e._m(11)]):e._e()],2),t("div",{staticClass:"invoice-payment"},[t("div",{staticClass:"invoice-payment-left"},[e._v("\n            Pembayaran dapat ditransfer ke rekening:"),t("br"),e._v("\n            "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferName])),t("br"),e._v("\n            A/C "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferAccountNumber])),t("br"),e._v("\n            A/N "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferAccountName])+"\n          ")]),t("div",{staticClass:"invoice-payment-right"},[t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                Sub Total\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedSubTotal)+"\n              ")])]),t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                VAT (PPN "+e._s(e.formEntry.ppn_percentage)+"%)\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedPpnTotal)+"\n              ")])]),t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                "+e._s(e.$t("Stamp Duty"))+"\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"stamp_duty",autocomplete:"off",dense:""},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.formEntry.stamp_duty,callback:function(t){e.$set(e.formEntry,"stamp_duty",t)},expression:"formEntry.stamp_duty"}}):[e.formEntry.stamp_duty?t("span",[e._v(e._s(e.formEntry.stamp_duty))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-payment-right-row last-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                Total\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedGrandTotal)+"\n              ")])])])]),t("div",{staticClass:"invoice-note"},[t("div",{staticClass:"invoice-note-row"},[e._v("\n            Â \n          ")]),t("div",{staticClass:"invoice-note-row"},[e._v("\n            Terbilang: "),t("em",{staticClass:"transfer-text"},[e._v("# "+e._s(e.formattedGrandTotalTerbilang)+" #")])]),t("div",{staticClass:"invoice-note-row bold"},[t("div",{staticClass:"invoice-note-row-split"},[t("div",{staticClass:"invoice-note-row-split-left"},[e._v("\n                Term Of Payment\n              ")]),t("div",{staticClass:"invoice-note-row-split-right"},[t("div",{staticClass:"invoice-due-at-wrapper"},[t("span",{staticClass:"invoice-due-at-sep"},[e._v(":")]),e.isEditable?t("q-input",{attrs:{value:e.formattedDueAt,filled:"",borderless:"",name:"due_at",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.due_at,error:!!e.errors.due_at,"error-message":e.errors.due_at}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.due_at,callback:function(t){e.$set(e.formEntry,"due_at",t)},expression:"formEntry.due_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedDueAt?t("span",[e._v(e._s(e.formattedDueAt))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])])]),t("div",{staticClass:"invoice-note-row"},[t("div",{staticClass:"note-wrapper"},[t("span",{staticClass:"note-label"},[e._v("\n                Catatan:\n              ")]),t("div",{staticClass:"note-input-wrapper"},[e.isEditable?t("text-editor",{attrs:{filled:"",borderless:"","min-height":"1rem",name:"note",autocomplete:"off",dense:""},model:{value:e.formEntry.note,callback:function(t){e.$set(e.formEntry,"note",t)},expression:"formEntry.note"}}):[e.formEntry.note?t("span",{domProps:{innerHTML:e._s(e.formEntry.note)}}):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])])]),t("div",{staticClass:"invoice-signature"},[t("div",{staticClass:"invoice-signature-inner"},[t("div",{staticClass:"invoice-signature-date"},[e._v("\n              Jakarta, "+e._s(e.formattedPublishedAt)+"\n            ")]),t("div",{staticClass:"invoice-signature-person"},[t("div",{staticClass:"invoice-signature-person-name"},[e._v("\n                ("+e._s(e.formEntry.signatory_name)+")\n              ")]),t("div",{staticClass:"invoice-signature-person-role"},[e._v("\n                "+e._s(e.formEntry.signatory_position)+"\n              ")])])])])])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-header"},[t("div",{staticClass:"invoice-header-inner"},[t("div",{staticClass:"company-logo-wrapper"},[t("img",{staticClass:"company-logo",attrs:{src:"/img/artacom.png",alt:"artacom logo"}})]),t("div",{staticClass:"invoice-header-company"},[t("h1",{staticClass:"company-name"},[e._v("Artacomindo Jejaring Nusa")]),t("p",{staticClass:"company-address"},[e._v("Menara Palma Lt. 12, Jl. HR. Rasuna Said Blok X2 Kav.6-Jakarta 12950")])])]),t("div",{staticClass:"invoice-header-bottom"},[e._v("\n            INVOICE\n          ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Kepada Yth/To\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Nomor Invoice/Invoice Number\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal/Date\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Surat Penawaran/Our Ref.\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Surat Penawaran FO/Our Ref.\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal Persetujuan SAT-HO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal Persetujuan SAT-HO untuk FO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Dasar untuk menerbitkan Invoice Tagihan\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Dasar untuk menerbitkan Invoice Tagihan FO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-row invoice-table-header"},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"},[e._v("\n                No.\n              ")]),t("div",{staticClass:"invoice-table-description"},[e._v("\n                Description\n              ")])]),t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"},[e._v("\n                Qty\n              ")]),t("div",{staticClass:"invoice-table-unit-price"},[e._v("\n                Unit Price\n              ")]),t("div",{staticClass:"invoice-table-sub-total"},[e._v("\n                Sub Total\n              ")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"}),t("div",{staticClass:"invoice-table-unit-price"}),t("div",{staticClass:"invoice-table-sub-total"})])}],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("448a"),d=a.n(c),u=a("ded3"),m=a.n(u),f=(a("d3b7"),a("159b"),a("cb29"),a("d81d"),a("e260"),a("ddb0"),a("99af"),a("4de4"),a("bd4c")),p=a("1c16"),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-row form-invoice-service"},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"},[e._v("\n      "+e._s(e.index+1)+"\n    ")]),t("div",{staticClass:"invoice-table-description"},[e.editable?t("q-input",{attrs:{filled:"",type:"textarea",rows:"1",autogrow:"",borderless:"",name:"description[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.description,"error-message":e.errors.description},model:{value:e.inputDescription,callback:function(t){e.inputDescription=t},expression:"inputDescription"}}):[e.inputDescription?t("span",[e._v(e._s(e.inputDescription))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"},[e.editable?t("q-input",{attrs:{filled:"",borderless:"",name:"qty[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.qty,"error-message":e.errors.qty},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.inputQty,callback:function(t){e.inputQty=t},expression:"inputQty"}}):[e.inputQty?t("span",[e._v(e._s(e.formatCurrency(e.inputQty)))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2),t("div",{staticClass:"invoice-table-unit-price",class:{editable:e.editable}},[e.editable?t("q-input",{attrs:{filled:"",borderless:"",name:"qty[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.unit_price,"error-message":e.errors.unit_price},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.inputUnitPrice,callback:function(t){e.inputUnitPrice=t},expression:"inputUnitPrice"}}):[e.inputUnitPrice?t("span",[e._v(e._s(e.formatCurrency(e.inputUnitPrice)))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2),t("div",{staticClass:"invoice-table-sub-total"},[e._v("\n      "+e._s(e.formattedSubTotal)+"\n    ")])]),e.editable&&e.index>0?t("q-btn",{staticClass:"btn-form-invoice-service-delete",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete.apply(null,arguments)}}},[t("q-tooltip",[e._v("\n      "+e._s(e.$t("Delete"))+"\n    ")])],1):e._e()],1)},b=[],y=(a("a9e3"),{name:"FormInvoiceService",props:{index:[String,Number],id:[String,Number],description:String,qty:[String,Number],unitPrice:[String,Number],editable:{type:Boolean,default:!1}},data:function(){return{inputDescription:null,inputQty:null,inputUnitPrice:null,errors:{description:null,qty:null,unit_price:null}}},computed:{subTotal:function(){return(parseFloat(this.inputQty,10)||0)*(parseFloat(this.inputUnitPrice,10)||0)||0},formattedSubTotal:function(){return this.formatCurrency(this.subTotal)}},watch:{description:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputDescription&&(this.inputDescription=e)}},inputDescription:function(e,t){e!==t&&e!==this.description&&(this.$emit("update:description",e),this.errors.description=null)},qty:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputQty&&(this.inputQty=e)}},inputQty:function(e,t){e!==t&&e!==this.qty&&(this.$emit("update:qty",e),this.errors.qty=null)},unitPrice:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputUnitPrice&&(this.inputUnitPrice=e)}},inputUnitPrice:function(e,t){e!==t&&e!==this.unitPrice&&(this.$emit("update:unit-price",e),this.errors.unit_price=null)}},methods:{formatCurrency:function(e){return e?this.$utils.currency(e,{decimal:".",thousand:","}):0},onDelete:function(){this.$emit("delete",this.id)},validate:function(){var e={description:null,qty:null,unit_price:null};return this.inputDescription||(e.description=this.$t("{field} is required",{field:this.$t("description")})),this.inputQty||(e.qty=this.$t("{field} is required",{field:this.$t("qty")})),""!==this.inputUnitPrice&&null!==this.inputUnitPrice||(e.unit_price=this.$t("{field} is required",{field:this.$t("unit price")})),this.errors=e,e.description||e.qty||e.unit_price||!0}}}),h=y,_=(a("5da6"),a("2877")),g=a("27f9"),$=a("9c40"),C=a("05c0"),w=a("eebe"),q=a.n(w),x=Object(_["a"])(h,v,b,!1,null,null,null),E=x.exports;q()(x,"components",{QInput:g["a"],QBtn:$["a"],QTooltip:C["a"]});var k={distribution_center_id:null,franchise_id:null,published_at:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,approval_date:null,fo_approval_date:null,issuance_number:null,fo_issuance_number:null,sub_total:null,ppn_percentage:null,ppn_total:null,stamp_duty:null,total:null,due_at:null,note:"",signatory_name:null,signatory_position:null},D={name:"FormPage",components:{FormInvoiceService:E},props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,syncing:Boolean,fetching:Boolean,editable:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},templateSettings:{type:[Object,Array],default:function(){return{}}}},data:function(){var e=this;return{formEntry:k,isSyncing:!1,isLoading:!1,rules:{published_at:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Publish date")})}],due_at:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Due date")})}]},errors:k,isEditable:!0,defaultFormEntry:k,formServices:[],emitChanges:null}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.formEntry.approval_date)return f["b"].formatDate(f["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedFoApprovalDate:function(){if(this.formEntry.fo_approval_date)return f["b"].formatDate(f["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedPublishedAt:function(){if(this.formEntry.published_at)return f["b"].formatDate(f["b"].extractDate(this.formEntry.published_at,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedDueAt:function(){if(this.formEntry.due_at)return f["b"].formatDate(f["b"].extractDate(this.formEntry.due_at,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedGrandTotalTerbilang:function(){return this.$utils.terbilang(this.grandTotal)},grandTotal:function(){return this.subTotal+this.ppnTotal+this.stampDuty},formattedGrandTotal:function(){return this.$utils.currency(this.grandTotal,{decimal:".",thousand:","})},ppnTotal:function(){return this.subTotal*((this.formEntry.ppn_percentage||0)/100)},formattedPpnTotal:function(){return this.$utils.currency(this.ppnTotal,{decimal:".",thousand:","})},subTotal:function(){var e=0;return this.formServices.forEach((function(t){if(t.qty&&t.unit_price){var a=(parseFloat(t.qty,10)||0)*(parseFloat(t.unit_price,10)||0)||0;e+=a}})),e},formattedSubTotal:function(){return this.$utils.currency(this.subTotal,{decimal:".",thousand:","})},stampDuty:function(){return this.formEntry.stamp_duty&&parseFloat(this.formEntry.stamp_duty,10)||0}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},isLoading:function(e,t){e!==t&&e!==this.loading&&this.$emit("update:loading",e)},syncing:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isSyncing&&(this.isSyncing=!0)}},isSyncing:function(e,t){e!==t&&e!==this.syncing&&this.$emit("update:syncing",e)},formEntry:{deep:!0,handler:function(e){var t=this;this.isSyncing=!0,this.$nextTick((function(){setTimeout((function(){t.emitChanges()}),100)}))}},formServices:{deep:!0,handler:function(e){var t=this;this.isSyncing=!0,this.$nextTick((function(){t.$forceUpdate(),setTimeout((function(){t.emitChanges()}),100)}))}},templateSettings:{deep:!0,handler:function(e){var t=this;if(this.isCreate){var a=e||{},r=this.$constant.setting_key||{};this.formEntry.ppn_percentage=a[r.PpnPercentage]?parseFloat(a[r.PpnPercentage]):null,this.formEntry.stamp_duty=a[r.StampDuty]?parseFloat(a[r.StampDuty]):null,this.formEntry.signatory_name=a[r.SignatoryName],this.formEntry.signatory_position=a[r.SignatoryPosition],this.formEntry.note=a[r.InvoiceNote],this.$nextTick((function(){t.$forceUpdate()}))}}}},mounted:function(){var e=this;this.emitChanges=Object(p["a"])((function(){e.$emit("updated",m()(m()({},e.formEntry),{},{services:d()(e.formServices.map((function(e){return m()({},e)}))),sub_total:e.subTotal,ppn:e.ppnTotal,grand_total:e.grandTotal,grand_total_terbilang:e.formattedGrandTotalTerbilang})),e.isSyncing=!1}),1500)},methods:{fill:function(e){var t=this;if(e=m()(m()({},k),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=f["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=f["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm");else{var a={};for(var r in k)a[r]=e[r];this.defaultFormEntry=a}e.approval_date&&(e.approval_date=f["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=f["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY")),e.due_at&&(e.due_at=f["b"].formatDate(e.due_at,"DD/MM/YYYY")),e.published_at&&(e.published_at=f["b"].formatDate(e.published_at,"DD/MM/YYYY")),this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId);var n=e.invoice_services||[];delete e.invoice_services,this.formEntry=e,n.length?this.formServices=n:this.formServices=[this.generateFormService()],this.$refs.form&&this.$refs.form.resetValidation(),setTimeout((function(){t.emitChanges()}),250)},validate:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c,d,u,m;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.rules,r=!0,t.t0=i()().keys(a);case 3:if((t.t1=t.t0()).done){t.next=16;break}s=t.t1.value,o=0;case 6:if(!(o<a[s].length)){t.next=14;break}return t.next=9,a[s][o](e.formEntry[s]);case 9:n=t.sent,"string"===typeof n&&(e.errors[s]=n,!0===r&&(r=n));case 11:o++,t.next=6;break;case 14:t.next=3;break;case 16:for(l=e.formServices,c=l.length,m=0;m<c;m++)u=e.$refs["formService".concat(m)],Array.isArray(u)&&(u=u[0]),u&&(d=u.validate(),!0===r&&(r=d));return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t)})))()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=m()({},e.formEntry),r.approval_date&&(r.approval_date=f["b"].formatDate(f["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=f["b"].formatDate(f["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",l.data.store),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=m()(m()({},k),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onFormServiceAdd:function(){this.formServices=[].concat(d()(this.formServices),[this.generateFormService()])},generateFormService:function(){return{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}},onFormServiceDelete:function(e){this.formServices=this.formServices.filter((function(t){return t.id!==e}))},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},Y=D,M=a("4e73"),S=a("52ee"),F=a("7f67"),L=Object(_["a"])(Y,r,n,!1,null,null,null);t["a"]=L.exports;q()(L,"components",{QInput:g["a"],QMenu:M["a"],QDate:S["a"],QBtn:$["a"]}),q()(L,"directives",{ClosePopup:F["a"]})},b494:function(e,t,a){},b5b6:function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("q-card-section",[t("div",{staticClass:"row"},[t("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(t){e.$set(e.formEntry,"code",t)},expression:"formEntry.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(t){e.$set(e.formEntry,"location",t)},expression:"formEntry.location"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(t){e.$set(e.formEntry,"address",t)},expression:"formEntry.address"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}})],1)]),t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Login Credentials")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.email,label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly,rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(t){e.$set(e.formEntry,"email",t)},expression:"formEntry.email"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.username,label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly,rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(t){e.$set(e.formEntry,"username",t)},expression:"formEntry.username"}})],1)]),e.isCreate?t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 co-lg-3"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password,label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly,rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-3"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password_confirmation,label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly,rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)]):e._e(),e.readonly?[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),t("div",{staticClass:"col-xs-12 col-md-3"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?t("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[t("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[t("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[t("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[t("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?t("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1),e.isCreate?e._e():t("div",{staticClass:"table-relation"},[t("div",{staticClass:"table-relation-header"},[t("q-tabs",{attrs:{shrink:"","no-caps":""},model:{value:e.childTab,callback:function(t){e.childTab=t},expression:"childTab"}},[t("q-tab",{attrs:{name:"franchise",label:e.$t("Franchise")}}),t("q-tab",{attrs:{name:"store",label:e.$t("Store")}})],1),t("q-space"),"franchise"===e.childTab&&e.$auth.can("create.franchise")?t("q-btn",{staticClass:"btn-page-franchise-create",attrs:{color:"primary",size:"sm",icon:"add"},on:{click:e.onTableRelationFranchiseCreate}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("New {entity}",{entity:e.$t("Franchise")})))])]):e._e(),"store"===e.childTab&&e.$auth.can("create.store")?t("q-btn",{staticClass:"btn-page-store-create",attrs:{color:"primary",size:"sm",icon:"add"},on:{click:e.onTableRelationStoreCreate}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("New {entity}",{entity:e.$t("Store")})))])]):e._e()],1),e.entry&&e.entry.id?[t("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["franchise"===e.childTab?t("table-franchise",{key:"franchise",attrs:{"distribution-center":e.entry,"as-relation":""}}):"store"===e.childTab?t("table-store",{key:"store",attrs:{customer:e.entry}}):e._e()],1)]:e._e()],2)],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("ded3"),d=a.n(c),u=(a("ac1f"),a("00b4"),a("cb29"),a("14d9"),a("bd4c")),m=(a("841c"),a("4de4"),a("d3b7"),a("d81d"),a("e260"),a("ddb0"),function(){var e=this,t=e._self._c;return t("q-card",[t("q-toolbar",[t("div",{staticClass:"col col-md-3 col-lg-2 quick-search-datatable"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("name")}),"stack-label":"",debounce:300,dense:"",clearable:"","clear-icon":"close"},on:{input:function(t){return e.onRequest()}},model:{value:e.search.fuzzy.value,callback:function(t){e.$set(e.search.fuzzy,"value",t)},expression:"search.fuzzy.value"}})],1),t("div",{staticClass:"col col-md-3 col-lg-2 q-ml-auto row"},[t("q-btn",{staticClass:"q-ml-auto btn-datatable-advanced-search",attrs:{unelevated:"",color:"default",size:"sm",icon:"search",disable:e.isLoading},on:{click:e.onAdvancedSearch}},[e._v("\n        "+e._s(e.$t("Advanced Search"))+"\n      ")]),t("q-btn",{staticClass:"q-ml-sm btn-datatable-view-columns",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"view_column"}},[t("q-tooltip",[e._v("\n          "+e._s(e.$t("View Column"))+"\n        ")]),t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md",staticStyle:{"min-width":"200px"}},[t("div",{staticClass:"column"},[t("q-option-group",{staticStyle:{"margin-left":"-16px"},attrs:{options:e.columns.map((function(e){return{label:e.realLabel||e.label,value:e.name}})).filter((function(e){return e.label})),type:"checkbox",size:"xs"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1)])])],1)],1)]),t("q-table",{attrs:{data:e.entries,columns:e.columns,"visible-columns":e.visibleColumns,loading:e.isLoading,pagination:e.pagination,"binary-state-sort":"","row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"body-cell-id",fn:function(a){var r=a.rowIndex;return[t("q-td",[e._v(e._s(r+1))])]}},{key:"body-cell-status",fn:function(e){var a=e.row;return[t("q-td",{staticClass:"text-center"},[t("q-icon",{staticClass:"q-mr-lg",attrs:{name:a.status?"check":"close"}})],1)]}},{key:"body-cell-action",fn:function(a){var r=a.row;return[t("q-td",{staticClass:"text-right table-cell-action"},[t("q-btn",{staticClass:"btn-datatable-view-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"visibility"},on:{click:function(t){return t.preventDefault(),e.onView(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("View"))+"\n          ")])],1),r.has_password?r.has_password&&e.$auth.can("edit.franchise")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-update-password-user",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"lock_open"},on:{click:function(t){return t.preventDefault(),e.onEditPassword(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Update {entity}",{entity:e.$t("Password")}))+"\n          ")])],1):e._e():t("q-btn",{staticClass:"q-ml-xs btn-datatable-set-login-credentials-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"login"},on:{click:function(t){return t.preventDefault(),e.onSetLoginCredentials(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Set login credentials"))+"\n          ")])],1),e.$auth.can("delete.franchise")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-delete-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Delete"))+"\n          ")])],1):e._e()],1)]}},{key:"no-data",fn:function(a){var r=a.icon,n=a.message,s=a.filter;return[t("div",{staticClass:"full-width row flex-center text-center q-gutter-sm"},[t("q-icon",{attrs:{size:"2em",name:s?"filter_b_and_w":r}}),t("span",[e._v("\n          "+e._s(n)+"\n        ")])],1)]}}])}),t("q-dialog",{model:{value:e.isFormLoginCredentialsVisible,callback:function(t){e.isFormLoginCredentialsVisible=t},expression:"isFormLoginCredentialsVisible"}},[t("form-login-credentials",{attrs:{entry:e.formEntry,loading:e.isLoading},on:{success:e.onFormLoginCredentialsSuccess,cancel:e.onFormLoginCredentialsCancel}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.isFormPasswordVisible,callback:function(t){e.isFormPasswordVisible=t},expression:"isFormPasswordVisible"}},[t("form-password",{attrs:{entry:e.formPassword,loading:e.isLoading},on:{success:e.onFormPasswordSuccess,cancel:e.onFormPasswordCancel}})],1)],1)}),f=[],p=(a("b64b"),a("e9c4"),function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm",class:{readonly:e.readonly}},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e.readonly?e._e():t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("".concat(e.isCreate?"Create":"Update"," {entity}"),{entity:e.$t("Customer")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-8"},[t("q-input",{attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,dense:"",name:"name",autocomplete:"off",rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1),t("div",{staticClass:"col-xs-12 col-md-4"},[t("q-input",{attrs:{label:e.$t("Terminal Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,name:"terminal_name",autocomplete:"off",dense:"",rules:e.rules.terminal_name,error:!!e.errors.terminal_name,"error-message":e.errors.terminal_name},model:{value:e.formEntry.terminal_name,callback:function(t){e.$set(e.formEntry,"terminal_name",t)},expression:"formEntry.terminal_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[t("q-input",{attrs:{label:e.$t("Online At"),filled:!e.readonly,name:"online_at",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.online_at,error:!!e.errors.online_at,"error-message":e.errors.online_at,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.online_at)?void 0:e.$t("Valid format: DD/MM/YYYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}})],1),t("div",{staticClass:"col-xs-12 col-md-8 col-lg-7"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Coordinate")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Latitude"),filled:!e.readonly,type:"number",step:"any",name:"latitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.latitude,error:!!e.errors.latitude,"error-message":e.errors.latitude},model:{value:e.formEntry.latitude,callback:function(t){e.$set(e.formEntry,"latitude",t)},expression:"formEntry.latitude"}})],1),t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Longitude"),filled:!e.readonly,type:"number",step:"any",name:"longitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.longitude,error:!!e.errors.longitude,"error-message":e.errors.longitude},model:{value:e.formEntry.longitude,callback:function(t){e.$set(e.formEntry,"longitude",t)},expression:"formEntry.longitude"}})],1)])]),t("div",{staticClass:"col-xs-12"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("PIC")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-7"},[t("q-input",{attrs:{label:e.$t("PIC Name"),filled:!e.readonly,rows:"1",name:"pic_name",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_name,error:!!e.errors.pic_name,"error-message":e.errors.pic_name},model:{value:e.formEntry.pic_name,callback:function(t){e.$set(e.formEntry,"pic_name",t)},expression:"formEntry.pic_name"}})],1),t("div",{staticClass:"col-xs-12 col-md-5"},[t("q-input",{attrs:{label:e.$t("PIC Phone Number"),filled:!e.readonly,rows:"1",name:"pic_phone_number",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_phone_number,error:!!e.errors.pic_phone_number,"error-message":e.errors.pic_phone_number},model:{value:e.formEntry.pic_phone_number,callback:function(t){e.$set(e.formEntry,"pic_phone_number",t)},expression:"formEntry.pic_phone_number"}})],1)])]),e.readonly?e._e():t("div",{staticClass:"col-xs-12"},[t("q-toggle",{attrs:{label:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),name:"status"},model:{value:e.formEntry.status,callback:function(t){e.$set(e.formEntry,"status",t)},expression:"formEntry.status"}})],1),e.readonly?[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),label:e.$t("Status"),borderless:"",readonly:"",dense:""}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:""}})],1)]:e._e()],2)]),t("q-separator"),e.readonly?t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Close"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}})],1):t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)}),v=[],b=(a("5319"),a("99af"),{terminal_name:null,location:null,mttr_hour:null,mttr_minute:null,total_time_hour:null,total_time_minute:null,online_at:null,latitude:null,longitude:null,pic_name:null,pic_phone_number:null,pic_phone_number2:null,status:1}),y={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return b}},readonly:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:b,isLoading:!1,rules:{terminal_name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Terminal name")})}],location:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Location")})}],online_at:[function(t){return!t||!!t&&e.$utils.isDateValid(t)||e.$t("{field} is invalid",{field:e.$t("Online at")})}],latitude:[],longitude:[],pic_name:[],pic_phone_number:[],sla:[]},errors:b}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},b),e),e.created_at&&(e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm")),e.online_at&&(e.online_at=u["b"].formatDate(e.online_at,"DD/MM/YYYY")),e.status=Boolean(parseInt(e.status,10)),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.status=r.status?1:0,e.$utils.isDateValid(r.online_at)&&(r.online_at=u["b"].formatDate(u["b"].extractDate(r.online_at,"DD/MM/YYYY"),"YYYY-MM-DD")),delete r.mttr_hour,delete r.mttr_minute,delete r.total_time_hour,delete r.total_time_minute,e.isLoading=!0,t.prev=17,n=r.id?"/v1/customers/".concat(r.id):"/v1/customers",s=r.id?"patch":"post",t.next=22,e.$api[s](n,r);case 22:o=t.sent,l=o.data,"success"===l.status&&e.$emit("success"),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Customer")})}):e.$t("Failed to save {entity}",{entity:e.$t("customer")}),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](17),t.t0.validation?e.errors=d()(d()({},b),t.t0.validation.errors):e.$q.notify(t.t0);case 31:e.isLoading=!1;case 32:case"end":return t.stop()}}),t,null,[[17,28]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")},onDoubleInputChildKeydown:function(e){var t=String(e.target.value).replace(/[^0-9]/g,""),a=/^[0-9]$/i.test(e.key);a&&(t="".concat(t).concat(e.key)),(t>59||String(t).length>2)&&a&&e.preventDefault()}}},h=y,_=(a("be9e"),a("2877")),g=a("f09f"),$=a("0378"),C=a("a370"),w=a("27f9"),q=a("0016"),x=a("7cbe"),E=a("52ee"),k=a("9c40"),D=a("9564"),Y=a("eb85"),M=a("4b7e"),S=a("7f67"),F=a("eebe"),L=a.n(F),P=Object(_["a"])(h,p,v,!1,null,"122ce88b",null);P.exports;L()(P,"components",{QCard:g["a"],QForm:$["a"],QCardSection:C["a"],QInput:w["a"],QIcon:q["a"],QPopupProxy:x["a"],QDate:E["a"],QBtn:k["a"],QToggle:D["a"],QSeparator:Y["a"],QCardActions:M["a"]}),L()(P,"directives",{ClosePopup:S["a"]});var T=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm"},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("Login Credentials"))+"\n    ")]),t("small",{staticClass:"q-px-md"},[e._v("\n      "+e._s(e.entry.name)+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"email",label:e.$t("Email")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(t){e.$set(e.formEntry,"email",t)},expression:"formEntry.email"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{label:e.$t("Username"),filled:"",dense:"","stack-label":"",rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(t){e.$set(e.formEntry,"username",t)},expression:"formEntry.username"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Confirm Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)])]),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("Save"),color:"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},Q=[],A={email:null,username:null,password:null,password_confirmation:null},N={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return A}},asView:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:A,isLoading:!1,rules:{username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:A}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},A),e),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.form.validate();case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return r={email:e.formEntry.email,username:e.formEntry.username,password:e.formEntry.password,password_confirmation:e.formEntry.password_confirmation},e.isLoading=!0,t.prev=9,t.next=12,e.$api.patch("/v1/franchises/".concat(e.entry.id),r);case 12:n=t.sent,s=n.data,"success"===s.status&&e.$emit("success"),"success"===s.status?e.$q.notify({message:e.$t("{entity} updated",{entity:e.$t("Login Credentials")})}):e.$t("Failed to update {entity}",{entity:e.$t("login credentials")}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),t.t0.validation?e.errors=d()(d()({},A),t.t0.validation.errors):e.$q.notify(t.t0);case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")}}},O=N,V=(a("0f4b"),Object(_["a"])(O,T,Q,!1,null,"e227b5ba",null)),I=V.exports;L()(V,"components",{QCard:g["a"],QForm:$["a"],QCardSection:C["a"],QInput:w["a"],QSeparator:Y["a"],QCardActions:M["a"],QBtn:k["a"]});var B=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm"},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("Update {entity}",{entity:e.$t("Password")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Confirm Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)])]),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("Update"),color:"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},j=[],H={name:null,password:null,password_confirmation:null},R={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return H}},asView:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:H,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:H}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},H),e),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.form.validate();case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return r={password:e.formEntry.password,password_confirmation:e.formEntry.password_confirmation},e.isLoading=!0,t.prev=9,t.next=12,e.$api.patch("/v1/customers/".concat(e.formEntry.id),r);case 12:n=t.sent,s=n.data,"success"===s.status&&e.$emit("success"),"success"===s.status?e.$q.notify({message:e.$t("{entity} updated",{entity:e.$t("Password")})}):e.$t("Failed to update {entity}",{entity:e.$t("password")}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),t.t0.validation?e.errors=d()(d()({},H),t.t0.validation.errors):e.$q.notify(t.t0);case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")}}},z=R,U=(a("6880"),Object(_["a"])(z,B,j,!1,null,"68cd8c64",null)),J=U.exports;L()(U,"components",{QCard:g["a"],QForm:$["a"],QCardSection:C["a"],QInput:w["a"],QSeparator:Y["a"],QCardActions:M["a"],QBtn:k["a"]});var G=a("05c2"),K={name:"TableFranchise",components:{FormLoginCredentials:I,FormPassword:J},props:{distributionCenter:{type:Object,default:function(){return{}}},asRelation:{type:Boolean,default:!1}},mixins:[G["a"]],data:function(){var e={fuzzy:{value:null}};return{entries:[],columns:[{name:"id",field:"id",label:"#",realLabel:this.$t("ID"),align:"left",style:"max-width: 25px",headerClasses:"table-header-id",classes:"table-cell-id",sortable:!0},{name:"code",field:"code",label:this.$t("Code"),headerClasses:"table-header-code",classes:"table-cell-code",align:"left",sortable:!0},{name:"name",field:"name",label:this.$t("Name"),headerClasses:"table-header-name",classes:"table-cell-name",align:"left",sortable:!0},{name:"location",field:"location",label:this.$t("Location"),headerClasses:"table-header-location",classes:"table-cell-location",align:"left",sortable:!0},{name:"created_at",field:"created_at",label:this.$t("Created At"),align:"left",headerClasses:"table-header-created_at",classes:"table-cell-created_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY HH:mm")},sortable:!0},{name:"action",label:"",align:"right",headerClasses:"table-header-action",classes:"table-cell-action",required:!0}],visibleColumns:["id","location","name","created_at"],isLoading:!1,isAdvancedSearchVisible:!1,isFormEntryVisible:!1,isFormEntryReadonly:!1,isFormPasswordVisible:!1,isFormLoginCredentialsVisible:!1,formEntry:{},formPassword:{},pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:15,rowsNumber:0},selected:[],search:e,advancedSearch:e}},mounted:function(){var e=this;return l()(i()().mark((function t(){return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onRequest();case 2:return t.next=4,e.$nextTick();case 4:case"end":return t.stop()}}),t)})))()},methods:{onRequest:function(e){var t=this;return l()(i()().mark((function a(){var r,n,s;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isLoading){a.next=2;break}return a.abrupt("return");case 2:if(!t.asRelation||t.distributionCenter.id){a.next=4;break}return a.abrupt("return");case 4:return e||(e={pagination:t.pagination}),t.isLoading=!0,r={table_pagination:d()({},e.pagination||{}),table_search:d()({},t.search)},t.asRelation&&(r.table_search.distribution_center_id={value:t.distributionCenter.id}),a.prev=8,a.next=11,t.$api.get("/v1/franchises",{params:r});case 11:n=a.sent,s=n.data,"success"===s.status&&(t.entries=s.data.franchises,t.selected=s.data.franchises,t.pagination=d()(d()({},t.pagination),s.pagination)),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](8),t.$q.notify(a.t0);case 19:t.isLoading=!1;case 20:case"end":return a.stop()}}),a,null,[[8,16]])})))()},onAdvancedSearch:function(){this.advancedSearch=JSON.parse(JSON.stringify(this.search)),this.isAdvancedSearchVisible=!0},onAdvancedSearchSubmit:function(){this.search=this.$utils.merge({},this.advancedSearch),this.onRequest(),this.isAdvancedSearchVisible=!1},onFormEntryCreate:function(){this.$router.push("/franchises/create"),this.formEntry={},this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormEntrySuccess:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1,this.onRequest()},onFormEntryCancel:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormPasswordSuccess:function(){this.isFormPasswordVisible=!1},onFormPasswordCancel:function(){this.isFormPasswordVisible=!1},onFormLoginCredentialsSuccess:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={},this.onRequest()},onFormLoginCredentialsCancel:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={}},onView:function(e){this.franchise.id?this.$router.push({path:"/franchises/".concat(e.id),query:{franchise_id:this.franchise.id}}):this.$router.push("/franchises/".concat(e.id)),this.formEntry=d()({},e),this.isFormEntryReadonly=!0,this.isFormEntryVisible=!1},onEdit:function(e){this.formEntry=d()({},e),this.isFormEntryReadonly=!1,this.isFormEntryVisible=!0},onEditPassword:function(e){this.formPassword=d()({},e),this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!0},onSetLoginCredentials:function(e){this.formEntry=d()({},e),this.isFormPasswordVisible=!1,this.isFormLoginCredentialsVisible=!0},onDelete:function(e){var t=this;this.isLoading||(this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!1,this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("franchise")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function a(){var r,n;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.delete("/v1/franchises/".concat(e.id));case 3:r=a.sent,n=r.data,n.message?(t.$q.notify({message:n.message}),t.onRequest()):"success"===n.status?(t.$q.notify({message:t.$t("{entity} deleted",{entity:t.$t("Franchise")})}),t.onRequest()):t.$t("Failed to delete {entity}",{entity:t.$t("franchise")}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.$q.notify(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).onCancel((function(){t.isLoading=!1})))}}},W=K,Z=a("65c6"),X=a("05c0"),ee=a("4e73"),te=a("9f0a"),ae=a("eaac"),re=a("db86"),ne=a("24e8"),se=Object(_["a"])(W,m,f,!1,null,null,null),ie=se.exports;L()(se,"components",{QCard:g["a"],QToolbar:Z["a"],QInput:w["a"],QBtn:k["a"],QTooltip:X["a"],QMenu:ee["a"],QOptionGroup:te["a"],QTable:ae["a"],QTd:re["a"],QIcon:q["a"],QDialog:ne["a"]});var oe=function(){var e=this,t=e._self._c;return t("q-card",[t("q-toolbar",[t("div",{staticClass:"col col-md-3 col-lg-2 quick-search-datatable"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("name")}),"stack-label":"",debounce:300,dense:"",clearable:"","clear-icon":"close"},on:{input:function(t){return e.onRequest()}},model:{value:e.search.fuzzy.value,callback:function(t){e.$set(e.search.fuzzy,"value",t)},expression:"search.fuzzy.value"}})],1),t("div",{staticClass:"col col-md-3 col-lg-2 q-ml-auto row"},[t("q-btn",{staticClass:"q-ml-auto btn-datatable-advanced-search",attrs:{unelevated:"",color:"default",size:"sm",icon:"search",disable:e.isLoading},on:{click:e.onAdvancedSearch}},[e._v("\n        "+e._s(e.$t("Advanced Search"))+"\n      ")]),t("q-btn",{staticClass:"q-ml-sm btn-datatable-view-columns",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"view_column"}},[t("q-tooltip",[e._v("\n          "+e._s(e.$t("View Column"))+"\n        ")]),t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md",staticStyle:{"min-width":"200px"}},[t("div",{staticClass:"column"},[t("q-option-group",{staticStyle:{"margin-left":"-16px"},attrs:{options:e.columns.map((function(e){return{label:e.realLabel||e.label,value:e.name}})).filter((function(e){return e.label})),type:"checkbox",size:"xs"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1)])])],1)],1)]),t("q-table",{attrs:{data:e.entries,columns:e.columns,"visible-columns":e.visibleColumns,loading:e.isLoading,pagination:e.pagination,"binary-state-sort":"","row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"body-cell-id",fn:function(a){var r=a.rowIndex;return[t("q-td",[e._v(e._s(r+1))])]}},{key:"body-cell-status",fn:function(e){var a=e.row;return[t("q-td",{staticClass:"text-center"},[t("q-icon",{staticClass:"q-mr-lg",attrs:{name:a.status?"check":"close"}})],1)]}},{key:"body-cell-action",fn:function(a){var r=a.row;return[t("q-td",{staticClass:"text-right table-cell-action"},[t("q-btn",{staticClass:"btn-datatable-view-store",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"visibility"},on:{click:function(t){return t.preventDefault(),e.onView(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("View"))+"\n          ")])],1),e.$auth.can("delete.store")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-delete-store",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Delete"))+"\n          ")])],1):e._e()],1)]}},{key:"no-data",fn:function(a){var r=a.icon,n=a.message,s=a.filter;return[t("div",{staticClass:"full-width row flex-center text-center q-gutter-sm"},[t("q-icon",{attrs:{size:"2em",name:s?"filter_b_and_w":r}}),t("span",[e._v("\n          "+e._s(n)+"\n        ")])],1)]}}])})],1)},le=[],ce=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm",class:{readonly:e.readonly}},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e.readonly?e._e():t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("".concat(e.isCreate?"Create":"Update"," {entity}"),{entity:e.$t("Customer")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-8"},[t("q-input",{attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,dense:"",name:"name",autocomplete:"off",rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1),t("div",{staticClass:"col-xs-12 col-md-4"},[t("q-input",{attrs:{label:e.$t("Terminal Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,name:"terminal_name",autocomplete:"off",dense:"",rules:e.rules.terminal_name,error:!!e.errors.terminal_name,"error-message":e.errors.terminal_name},model:{value:e.formEntry.terminal_name,callback:function(t){e.$set(e.formEntry,"terminal_name",t)},expression:"formEntry.terminal_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[t("q-input",{attrs:{label:e.$t("Online At"),filled:!e.readonly,name:"online_at",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.online_at,error:!!e.errors.online_at,"error-message":e.errors.online_at,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.online_at)?void 0:e.$t("Valid format: DD/MM/YYYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}})],1),t("div",{staticClass:"col-xs-12 col-md-8 col-lg-7"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Coordinate")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Latitude"),filled:!e.readonly,type:"number",step:"any",name:"latitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.latitude,error:!!e.errors.latitude,"error-message":e.errors.latitude},model:{value:e.formEntry.latitude,callback:function(t){e.$set(e.formEntry,"latitude",t)},expression:"formEntry.latitude"}})],1),t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Longitude"),filled:!e.readonly,type:"number",step:"any",name:"longitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.longitude,error:!!e.errors.longitude,"error-message":e.errors.longitude},model:{value:e.formEntry.longitude,callback:function(t){e.$set(e.formEntry,"longitude",t)},expression:"formEntry.longitude"}})],1)])]),t("div",{staticClass:"col-xs-12"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("PIC")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-7"},[t("q-input",{attrs:{label:e.$t("PIC Name"),filled:!e.readonly,rows:"1",name:"pic_name",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_name,error:!!e.errors.pic_name,"error-message":e.errors.pic_name},model:{value:e.formEntry.pic_name,callback:function(t){e.$set(e.formEntry,"pic_name",t)},expression:"formEntry.pic_name"}})],1),t("div",{staticClass:"col-xs-12 col-md-5"},[t("q-input",{attrs:{label:e.$t("PIC Phone Number"),filled:!e.readonly,rows:"1",name:"pic_phone_number",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_phone_number,error:!!e.errors.pic_phone_number,"error-message":e.errors.pic_phone_number},model:{value:e.formEntry.pic_phone_number,callback:function(t){e.$set(e.formEntry,"pic_phone_number",t)},expression:"formEntry.pic_phone_number"}})],1)])]),e.readonly?e._e():t("div",{staticClass:"col-xs-12"},[t("q-toggle",{attrs:{label:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),name:"status"},model:{value:e.formEntry.status,callback:function(t){e.$set(e.formEntry,"status",t)},expression:"formEntry.status"}})],1),e.readonly?[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),label:e.$t("Status"),borderless:"",readonly:"",dense:""}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:""}})],1)]:e._e()],2)]),t("q-separator"),e.readonly?t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Close"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}})],1):t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},de=[],ue={terminal_name:null,location:null,mttr_hour:null,mttr_minute:null,total_time_hour:null,total_time_minute:null,online_at:null,latitude:null,longitude:null,pic_name:null,pic_phone_number:null,pic_phone_number2:null,status:1},me={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return ue}},readonly:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:ue,isLoading:!1,rules:{terminal_name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Terminal name")})}],location:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Location")})}],online_at:[function(t){return!t||!!t&&e.$utils.isDateValid(t)||e.$t("{field} is invalid",{field:e.$t("Online at")})}],latitude:[],longitude:[],pic_name:[],pic_phone_number:[],sla:[]},errors:ue}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},ue),e),e.created_at&&(e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm")),e.online_at&&(e.online_at=u["b"].formatDate(e.online_at,"DD/MM/YYYY")),e.status=Boolean(parseInt(e.status,10)),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.status=r.status?1:0,e.$utils.isDateValid(r.online_at)&&(r.online_at=u["b"].formatDate(u["b"].extractDate(r.online_at,"DD/MM/YYYY"),"YYYY-MM-DD")),delete r.mttr_hour,delete r.mttr_minute,delete r.total_time_hour,delete r.total_time_minute,e.isLoading=!0,t.prev=17,n=r.id?"/v1/customers/".concat(r.id):"/v1/customers",s=r.id?"patch":"post",t.next=22,e.$api[s](n,r);case 22:o=t.sent,l=o.data,"success"===l.status&&e.$emit("success"),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Customer")})}):e.$t("Failed to save {entity}",{entity:e.$t("customer")}),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](17),t.t0.validation?e.errors=d()(d()({},ue),t.t0.validation.errors):e.$q.notify(t.t0);case 31:e.isLoading=!1;case 32:case"end":return t.stop()}}),t,null,[[17,28]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")},onDoubleInputChildKeydown:function(e){var t=String(e.target.value).replace(/[^0-9]/g,""),a=/^[0-9]$/i.test(e.key);a&&(t="".concat(t).concat(e.key)),(t>59||String(t).length>2)&&a&&e.preventDefault()}}},fe=me,pe=(a("40b1"),Object(_["a"])(fe,ce,de,!1,null,"28628f4f",null));pe.exports;L()(pe,"components",{QCard:g["a"],QForm:$["a"],QCardSection:C["a"],QInput:w["a"],QIcon:q["a"],QPopupProxy:x["a"],QDate:E["a"],QBtn:k["a"],QToggle:D["a"],QSeparator:Y["a"],QCardActions:M["a"]}),L()(pe,"directives",{ClosePopup:S["a"]});var ve={name:"TableStore",props:{distributionCenter:{type:Object,default:function(){return{}}},asRelation:{type:Boolean,default:!1}},mixins:[G["a"]],data:function(){var e={fuzzy:{value:null}};return{entries:[],columns:[{name:"id",field:"id",label:"#",realLabel:this.$t("ID"),align:"left",style:"max-width: 25px",headerClasses:"table-header-id",classes:"table-cell-id",sortable:!0},{name:"code",field:"code",label:this.$t("Code"),headerClasses:"table-header-code",classes:"table-cell-code",align:"left",sortable:!0},{name:"name",field:"name",label:this.$t("Name"),headerClasses:"table-header-name",classes:"table-cell-name",align:"left",sortable:!0},{name:"location",field:"location",label:this.$t("Location"),headerClasses:"table-header-location",classes:"table-cell-location",align:"left",sortable:!0},{name:"created_at",field:"created_at",label:this.$t("Created At"),align:"left",headerClasses:"table-header-created_at",classes:"table-cell-created_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY HH:mm")},sortable:!0},{name:"action",label:"",align:"right",headerClasses:"table-header-action",classes:"table-cell-action",required:!0}],visibleColumns:["id","location","name","created_at"],isLoading:!1,isAdvancedSearchVisible:!1,isFormEntryVisible:!1,isFormEntryReadonly:!1,isFormPasswordVisible:!1,isFormLoginCredentialsVisible:!1,formEntry:{},formPassword:{},pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:15,rowsNumber:0},selected:[],search:e,advancedSearch:e}},mounted:function(){var e=this;return l()(i()().mark((function t(){return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onRequest();case 2:return t.next=4,e.$nextTick();case 4:case"end":return t.stop()}}),t)})))()},methods:{onRequest:function(e){var t=this;return l()(i()().mark((function a(){var r,n,s;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isLoading){a.next=2;break}return a.abrupt("return");case 2:if(!t.asRelation||t.distributionCenter.id){a.next=4;break}return a.abrupt("return");case 4:return e||(e={pagination:t.pagination}),t.isLoading=!0,r={table_pagination:d()({},e.pagination||{}),table_search:d()({},t.search)},t.asRelation&&(r.table_search.distribution_center_id={value:t.distributionCenter.id}),a.prev=8,a.next=11,t.$api.get("/v1/stores",{params:r});case 11:n=a.sent,s=n.data,"success"===s.status&&(t.entries=s.data.stores,t.selected=s.data.stores,t.pagination=d()(d()({},t.pagination),s.pagination)),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](8),t.$q.notify(a.t0);case 19:t.isLoading=!1;case 20:case"end":return a.stop()}}),a,null,[[8,16]])})))()},onAdvancedSearch:function(){this.advancedSearch=JSON.parse(JSON.stringify(this.search)),this.isAdvancedSearchVisible=!0},onAdvancedSearchSubmit:function(){this.search=this.$utils.merge({},this.advancedSearch),this.onRequest(),this.isAdvancedSearchVisible=!1},onFormEntryCreate:function(){this.$router.push("/stores/create"),this.formEntry={},this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormEntrySuccess:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1,this.onRequest()},onFormEntryCancel:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormPasswordSuccess:function(){this.isFormPasswordVisible=!1},onFormPasswordCancel:function(){this.isFormPasswordVisible=!1},onFormLoginCredentialsSuccess:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={},this.onRequest()},onFormLoginCredentialsCancel:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={}},onView:function(e){this.store.id?this.$router.push({path:"/stores/".concat(e.id),query:{store_id:this.store.id}}):this.$router.push("/stores/".concat(e.id)),this.formEntry=d()({},e),this.isFormEntryReadonly=!0,this.isFormEntryVisible=!1},onEdit:function(e){this.formEntry=d()({},e),this.isFormEntryReadonly=!1,this.isFormEntryVisible=!0},onEditPassword:function(e){this.formPassword=d()({},e),this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!0},onSetLoginCredentials:function(e){this.formEntry=d()({},e),this.isFormPasswordVisible=!1,this.isFormLoginCredentialsVisible=!0},onDelete:function(e){var t=this;this.isLoading||(this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!1,this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function a(){var r,n;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.delete("/v1/stores/".concat(e.id));case 3:r=a.sent,n=r.data,n.message?(t.$q.notify({message:n.message}),t.onRequest()):"success"===n.status?(t.$q.notify({message:t.$t("{entity} deleted",{entity:t.$t("Store")})}),t.onRequest()):t.$t("Failed to delete {entity}",{entity:t.$t("store")}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.$q.notify(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).onCancel((function(){t.isLoading=!1})))}}},be=ve,ye=Object(_["a"])(be,oe,le,!1,null,null,null),he=ye.exports;L()(ye,"components",{QCard:g["a"],QToolbar:Z["a"],QInput:w["a"],QBtn:k["a"],QTooltip:X["a"],QMenu:ee["a"],QOptionGroup:te["a"],QTable:ae["a"],QTd:re["a"],QIcon:q["a"]});var _e={code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null},ge={name:"FormPage",components:{TableStore:he,TableFranchise:ie},props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:_e,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:_e,isEditable:!1,defaultFormEntry:_e,childTab:"franchise"}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))}},methods:{fill:function(e){if(e=d()(d()({},_e),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var t={};for(var a in _e)t[a]=e[a];this.defaultFormEntry=t}this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.approval_date&&(r.approval_date=u["b"].formatDate(u["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=u["b"].formatDate(u["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/distribution-centers/".concat(r.id):"/v1/distribution-centers",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=d()({},e.formEntry),e.$emit("success",l.data.distribution_center),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Distribution center")})}):e.$t("Failed to save {entity}",{entity:e.$t("distribution center")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=d()(d()({},_e),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("distribution center")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/distribution-centers/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Distribution center")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("distribution center")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))},onTableRelationFranchiseCreate:function(){this.$router.push({path:"/franchises/create",query:{distribution_center_id:this.entry.id}})},onTableRelationStoreCreate:function(){this.$router.push({path:"/stores/create",query:{distribution_center_id:this.entry.id}})}}},$e=ge,Ce=(a("cfdd"),a("293e")),we=a("1c1c"),qe=a("66e5"),xe=a("4074"),Ee=a("429b"),ke=a("7460"),De=a("2c91"),Ye=a("8572"),Me=Object(_["a"])($e,r,n,!1,null,"8fa8dfd6",null);t["a"]=Me.exports;L()(Me,"components",{QCard:g["a"],QForm:$["a"],QCardSection:C["a"],QSkeleton:Ce["a"],QInput:w["a"],QIcon:q["a"],QPopupProxy:x["a"],QDate:E["a"],QBtn:k["a"],QMenu:ee["a"],QList:we["a"],QItem:qe["a"],QItemSection:xe["a"],QCardActions:M["a"],QSeparator:Y["a"],QTabs:Ee["a"],QTab:ke["a"],QSpace:De["a"],QField:Ye["a"]}),L()(Me,"directives",{ClosePopup:S["a"]})},b5ec:function(e,t,a){},ba3f:function(e,t,a){"use strict";a("d789")},be8a:function(e,t,a){},be9e:function(e,t,a){"use strict";a("6f53")},c27b:function(e,t,a){},cfdd:function(e,t,a){"use strict";a("0bd1")},d734:function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("q-card-section",[t("div",{staticClass:"row"},[t("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-6"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("autocomplete-distribution-center",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Distribution Center")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"distribution_center_id",autocomplete:"off",disable:!!e.parentDistributionCenterId,dense:!e.readonly,rules:e.rules.distribution_center_id,error:!!e.errors.distribution_center_id,"error-message":e.errors.distribution_center_id},model:{value:e.formEntry.distribution_center_id,callback:function(t){e.$set(e.formEntry,"distribution_center_id",t)},expression:"formEntry.distribution_center_id"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(t){e.$set(e.formEntry,"code",t)},expression:"formEntry.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(t){e.$set(e.formEntry,"location",t)},expression:"formEntry.location"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(t){e.$set(e.formEntry,"address",t)},expression:"formEntry.address"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}})],1)]),e.readonly?[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),t("div",{staticClass:"col-xs-12 col-md-3"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?t("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[t("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[t("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[t("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[t("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?t("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1)],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("ded3"),d=a.n(c),u=(a("ac1f"),a("00b4"),a("cb29"),a("bd4c")),m={distribution_center_id:null,code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null},f={name:"FormPage",props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:m,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:m,isEditable:!1,defaultFormEntry:m,childTab:"store",loginAccessToggle:!1}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))}},methods:{fill:function(e){if(e=d()(d()({},m),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var t={};for(var a in m)t[a]=e[a];this.defaultFormEntry=t}this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.approval_date&&(r.approval_date=u["b"].formatDate(u["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=u["b"].formatDate(u["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=d()({},e.formEntry),e.$emit("success",l.data.store),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=d()(d()({},m),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},p=f,v=(a("ba3f"),a("2877")),b=a("f09f"),y=a("0378"),h=a("a370"),_=a("293e"),g=a("27f9"),$=a("0016"),C=a("7cbe"),w=a("52ee"),q=a("9c40"),x=a("4e73"),E=a("1c1c"),k=a("66e5"),D=a("4074"),Y=a("4b7e"),M=a("8572"),S=a("7f67"),F=a("eebe"),L=a.n(F),P=Object(v["a"])(p,r,n,!1,null,"15e5d8a6",null);t["a"]=P.exports;L()(P,"components",{QCard:b["a"],QForm:y["a"],QCardSection:h["a"],QSkeleton:_["a"],QInput:g["a"],QIcon:$["a"],QPopupProxy:C["a"],QDate:w["a"],QBtn:q["a"],QMenu:x["a"],QList:E["a"],QItem:k["a"],QItemSection:D["a"],QCardActions:Y["a"],QField:M["a"]}),L()(P,"directives",{ClosePopup:S["a"]})},d789:function(e,t,a){},db30:function(e,t,a){"use strict";a("dfd6")},dfd6:function(e,t,a){}}]);