(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0d67":function(t,n,a){"use strict";a.r(n);a("caad");var i=function(){var t=this,n=t._self._c;return n("q-page",{staticClass:"page-index"},[n("portal",{attrs:{to:"app-breadcrumbs"}},[n("breadcrumbs")],1),"u"===t.$auth.authType?void 0:["d","f"].includes(t.$auth.authType)?[n("content-customer")]:t._e()],2)},s=[],e=a("7ec2"),c=a.n(e),o=a("c973"),r=a.n(o),l=function(){var t=this,n=t._self._c;return n("div",{staticClass:"content-customer container"},[n("card-active-invoice"),n("card-invoice-history")],1)},u=[],v=(a("e260"),a("d3b7"),a("ddb0"),a("2532"),function(){var t=this,n=t._self._c;return n("q-card",{staticClass:"card-active-invoice",class:{"empty-invoice":t.emptyInvoice,multiple:t.entries.length>1},attrs:{flat:t.emptyInvoice,outline:t.emptyInvoice}},[n("q-card-section",[n("div",{staticClass:"card-label"},[n("div",{staticClass:"card-label-text"},[t._v("\n        Tagihan Saat Ini\n      ")]),n("transition",{attrs:{apprear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.emptyInvoice,expression:"!emptyInvoice"}],staticClass:"notification-animation"},[n("img",{attrs:{src:"/img/active-bill-notification.gif",alt:"icon notification"}})])])],1),t.isFetching?n("div",{staticClass:"bill-item fetching"},[n("div",{staticClass:"date"},[n("span",[n("q-skeleton",{attrs:{type:"text"}})],1),n("div",[n("q-skeleton",{attrs:{type:"rect"}})],1)]),n("div",{staticClass:"invoice"},[n("span",[n("q-skeleton",{attrs:{type:"text"}})],1),n("div",[n("q-skeleton",{attrs:{type:"rect"}})],1)]),n("div",{staticClass:"status"},[n("span",[n("q-skeleton",{attrs:{type:"text"}})],1),n("div",[n("q-skeleton",{attrs:{type:"rect"}})],1)]),n("div",{staticClass:"due-at"},[n("span",[n("q-skeleton",{attrs:{type:"text"}})],1),n("div",[n("q-skeleton",{attrs:{type:"rect"}})],1)]),n("div",{staticClass:"total-bill"},[n("span",{staticClass:"total-bill-label"},[n("q-skeleton",{attrs:{type:"text"}})],1),n("div",{staticClass:"total-bill-amount"},[n("q-skeleton",{attrs:{type:"rect"}})],1)])]):t.entries.length?t._l(t.entries,(function(a){return n("div",{key:a.id,staticClass:"bill-item"},[n("div",{staticClass:"date"},[n("span",{staticClass:"span"},[t._v(t._s(t.$t("Month")))]),n("span",{staticClass:"span-invoice"},[t._v(t._s(a.invoice_no))]),n("div",[t._v(t._s(t.formatMonth(a)))])]),n("div",{staticClass:"invoice"},[n("span",{staticClass:"span"},[t._v("\n            Invoice\n\n            "),n("router-link",{attrs:{to:"/c/invoice/".concat(a.invoice_no)}},[n("q-icon",{attrs:{name:"chevron_right"}})],1)],1),n("div",[t._v(t._s(a.invoice_no))])]),n("div",{staticClass:"status"},[n("span",{staticClass:"span"},[t._v(t._s(t.$t("Status")))]),n("div",[t._v("\n            "+t._s(a.status_description)+"\n            "),a.status==t.$constant.invoice_status.Rejected&&a.reject_reason?n("q-icon",{attrs:{name:"info",size:"xs"}},[n("q-tooltip",[t._v(t._s(a.reject_reason))])],1):t._e()],1)]),n("div",{staticClass:"due-at"},[n("span",{staticClass:"span"},[t._v(t._s(t.$t("Due")))]),n("div",[t._v(t._s(t.formatDueAt(a)))])]),n("div",{staticClass:"total-bill"},[n("span",{staticClass:"span total-bill-label"},[t._v("\n            "+t._s(t.$t("Total Bill"))+"\n          ")]),n("div",{staticClass:"total-bill-amount"},[t._v("\n            "+t._s(t.formatTotal(a))+"\n          ")])]),t.entries.length>1?n("div",{staticClass:"pay"},[[t.$constant.invoice_status.Paid,t.$constant.invoice_status.Rejected,t.$constant.invoice_status.PendingReview].includes(a.status)?n("q-btn",{staticClass:"q-px-md",attrs:{color:"primary",outline:"",to:"/c/pay/".concat(a.uid)}},[t._v("\n            Lihat\n          ")]):n("q-btn",{staticClass:"q-px-md",attrs:{color:"primary",to:"/c/pay/".concat(a.uid)}},[t._v("\n            Bayar\n          ")])],1):t._e()])})):n("div",{staticClass:"empty-entry"},[n("div",{staticClass:"empty"},[t._v(t._s(t.$t("You have no active bill at the moment.")))])])],2),t.isFetching||t.entries.length?n("q-card-actions",[n("q-space"),t.isFetching?n("q-skeleton",{staticClass:"q-btn-lg",attrs:{type:"QBtn"}}):1===t.entries.length?n("q-btn",{staticClass:"q-btn-lg",attrs:{flat:"",to:"/c/invoice/".concat(t.firstInvoice.uid),target:"_blank"}},[t._v("\n      Lihat Invoice & Kwitansi\n    ")]):t._e(),t.isFetching?n("q-skeleton",{staticClass:"q-btn-lg q-ml-sm",attrs:{type:"QBtn"}}):1===t.entries.length?[[t.$constant.invoice_status.Paid,t.$constant.invoice_status.Rejected,t.$constant.invoice_status.PendingReview].includes(t.firstInvoice.status)?n("q-btn",{staticClass:"q-btn-lg q-ml-sm",attrs:{color:"primary",outline:"",to:"/c/pay/".concat(t.firstInvoice.uid)}},[t._v("\n        Lihat\n      ")]):n("q-btn",{staticClass:"q-btn-lg q-ml-sm",attrs:{color:"primary",to:"/c/pay/".concat(t.firstInvoice.uid)}},[t._v("\n        Bayar Sekarang\n      ")])]:t._e()],2):t._e()],1)}),d=[],p=a("ded3"),m=a.n(p),f=a("bd4c"),h={name:"CardActiveInvoice",data:function(){return{entries:[],isFetching:!0,isLoading:!1}},computed:{emptyInvoice:function(){return!this.isFetching&&!this.entries.length},firstInvoice:function(){return this.entries[0]}},mounted:function(){this.onRequest()},methods:{onRequest:function(t){var n=this;return r()(c()().mark((function a(){var i,s,e;return c()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.isLoading){a.next=2;break}return a.abrupt("return");case 2:return t||(t={pagination:999999999}),n.isFetching=!0,n.isLoading=!0,i={table_pagination:m()({},t.pagination||{})},a.prev=6,a.next=9,n.$api.get("/v1/invoices/active",{params:i});case 9:s=a.sent,e=s.data,"success"===e.status&&(n.entries=e.data.invoices),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](6),n.$q.notify(a.t0);case 17:n.isFetching=!1,n.isLoading=!1;case 19:case"end":return a.stop()}}),a,null,[[6,14]])})))()},formatMonth:function(t){var n=f["b"].extractDate(t.due_at||t.published_at,"YYYY-MM-DD");return f["b"].formatDate(n,"MMMM")},formatDueAt:function(t){var n=f["b"].extractDate(t.due_at,"YYYY-MM-DD");return f["b"].formatDate(n,"DD MMM YYYY")},formatTotal:function(t){return this.$utils.currency(t.total,{decimal:".",thousand:",",symbol:"Rp. "})||"-"}}},_=h,b=(a("3449"),a("2877")),C=a("f09f"),g=a("a370"),y=a("293e"),q=a("0016"),M=a("05c0"),x=a("9c40"),Y=a("4b7e"),k=a("2c91"),D=a("eebe"),$=a.n(D),I=Object(b["a"])(_,v,d,!1,null,null,null),w=I.exports;$()(I,"components",{QCard:C["a"],QCardSection:g["a"],QSkeleton:y["a"],QIcon:q["a"],QTooltip:M["a"],QBtn:x["a"],QCardActions:Y["a"],QSpace:k["a"]});var Q=function(){var t=this,n=t._self._c;return n("div",{staticClass:"invoice-history-wrapper"},[n("div",{staticClass:"card-label"},[t._v("\n    Riwayat Tagihan\n  ")]),n("q-card",{staticClass:"card-invoice-history",attrs:{flat:""}},[n("q-card-section",t._l(t.entries,(function(a){return n("router-link",{key:a.id,staticClass:"bill-item",attrs:{to:"/c/bill/".concat(a.uid)}},[n("div",{staticClass:"date"},[n("span",[t._v(t._s(t.$t("Month")))]),n("div",[t._v(t._s(t.formatMonth(a)))])]),n("div",{staticClass:"invoice"},[n("span",[t._v("\n            Invoice\n\n            "),n("q-icon",{attrs:{name:"chevron_right"}})],1),n("div",[t._v(t._s(a.invoice_no))])]),n("div",{staticClass:"status"},[n("span",[t._v("Tanggal Bayar")]),n("div",[t._v(t._s(t.formatDate(a.paid_at)))])]),n("div",{staticClass:"total-bill"},[n("span",{staticClass:"total-bill-label"},[t._v("\n            Total Tagihan\n          ")]),n("div",{staticClass:"total-bill-amount"},[t._v("\n            "+t._s(t.formatMoney(a.total))+"\n          ")])]),n("div",{staticClass:"action"},[n("q-icon",{attrs:{name:"chevron_right"}})],1)])})),1)],1)],1)},F=[],L=(a("a15b"),{name:"CardInvoiceHistory",data:function(){return{entries:[],isLoading:!1,isFetching:!0}},computed:{emptyInvoice:function(){return!this.isFetching&&!this.entries.length},firstInvoice:function(){return this.entries[0]}},mounted:function(){this.onRequest()},methods:{onRequest:function(t){var n=this;return r()(c()().mark((function a(){var i,s,e;return c()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n.isLoading){a.next=2;break}return a.abrupt("return");case 2:return t||(t={pagination:999999999}),n.isFetching=!0,n.isLoading=!0,i={table_pagination:m()({},t.pagination||{}),status:"in:".concat([n.$constant.invoice_status.Paid].join("|"))},a.prev=6,a.next=9,n.$api.get("/v1/invoices",{params:i});case 9:s=a.sent,e=s.data,"success"===e.status&&(n.entries=e.data.invoices),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](6),n.$q.notify(a.t0);case 17:n.isFetching=!1,n.isLoading=!1;case 19:case"end":return a.stop()}}),a,null,[[6,14]])})))()},formatMonth:function(t){var n=f["b"].extractDate(t.due_at||t.published_at,"YYYY-MM-DD");return f["b"].formatDate(n,"MMMM YYYY")},formatDate:function(t){var n=f["b"].extractDate(t,"YYYY-MM-DD HH:mm:ss");return f["b"].formatDate(n,"DD MMM YYYY")},formatMoney:function(t){return this.$utils.currency(t,{decimal:".",thousand:",",symbol:"Rp. "})||"-"}}}),R=L,T=(a("544e"),Object(b["a"])(R,Q,F,!1,null,null,null)),j=T.exports;$()(T,"components",{QCard:C["a"],QCardSection:g["a"],QIcon:q["a"]});var A={name:"ContentCustomer",components:{CardActiveInvoice:w,CardInvoiceHistory:j},data:function(){return{isNotificationAnimationVisible:!0}},methods:{onCardBillMouseEnter:function(){this.isNotificationAnimationVisible=!0;var t=this.$refs.notificationAnimation;console.log(t)},onCardBillMouseLeave:function(){this.isNotificationAnimationVisible=!1;var t=this.$refs.notificationAnimation;console.log(t)}}},B=A,P=(a("63c4"),Object(b["a"])(B,l,u,!1,null,null,null)),S=P.exports,O={name:"PageIndex",components:{ContentCustomer:S},meta:function(){return{title:this.$t("Dashboard")+" - "+this.$t("Web Console")}},breadcrumbs:function(){return["Dashboard"]},data:function(){return{}},mounted:function(){return r()(c()().mark((function t(){return c()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},H=O,N=(a("8a5d"),a("9989")),V=Object(b["a"])(H,i,s,!1,null,null,null);n["default"]=V.exports;$()(V,"components",{QPage:N["a"],QBtn:x["a"]})},1631:function(t,n,a){},2118:function(t,n,a){},3449:function(t,n,a){"use strict";a("2118")},4276:function(t,n,a){},"544e":function(t,n,a){"use strict";a("4276")},"63c4":function(t,n,a){"use strict";a("1631")},"8a5d":function(t,n,a){"use strict";a("ddb8")},ddb8:function(t,n,a){}}]);