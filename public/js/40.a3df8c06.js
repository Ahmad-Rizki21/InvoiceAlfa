(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{"7c2d":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"bulk-print-content"},e._l(e.invoices,(function(n,i){var r;return t("div",{key:n.id,staticClass:"bulk-print-inner"},[t("form-print-preview",{attrs:{invoice:n,receipt:e.receipts[n.id],stores:null===(r=n.distribution_center)||void 0===r?void 0:r.stores,"template-settings":e.templateSettings}})],1)})),0)},r=[],s=n("ded3"),c=n.n(s),o=n("7ec2"),a=n.n(o),u=n("c973"),v=n.n(u),d=(n("14d9"),n("d3b7"),n("159b"),n("602a")),p={name:"PageInvoiceShow",components:{FormPrintPreview:d["a"]},meta:function(){return{title:this.$t("Invoice")}},breadcrumbs:function(){var e=["home",{text:this.$t("Invoices"),to:"/invoices"}];return this.invoice&&this.invoice.invoice_no&&e.push({text:this.invoice.invoice_no}),e},data:function(){return{isLoading:!1,invoice:{invoice_no:null},receipt:{receipt_no:null},stores:[],invoices:[],receipts:{},formInvoiceUpdated:{},templateSettings:{}}},created:function(){var e=this;return v()(a()().mark((function t(){return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.requestSettings();case 2:return t.next=4,e.requestInvoice();case 4:case"end":return t.stop()}}),t)})))()},methods:{requestInvoice:function(){var e=this;return v()(a()().mark((function t(){var n,i,r,s,o;return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,n=String(e.$route.query.id),i={edit:1,includes:"invoiceServices",id:"in:"+n,includeStores:"n"!==e.$route.query.store?"y":"n"},t.prev=5,t.next=8,e.$api.get("/v1/invoices",{params:i});case 8:r=t.sent,s=r.data,"success"===s.status&&(e.invoices=s.data.invoices,e.receipts={},o={},s.data.invoices.forEach((function(e){o[e.id]=c()({},e)}))),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),e.$q.notify(t.t0);case 16:e.isLoading=!1,window.doPrinting&&e.$nextTick((function(){setTimeout((function(){window.print(),window.doPrint&&setTimeout((function(){window.doPrint()}),500)}),100)}));case 18:case"end":return t.stop()}}),t,null,[[5,13]])})))()},requestStores:function(){var e=this;return v()(a()().mark((function t(){var n,i,r;return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.invoice.distribution_center_id){t.next=2;break}return t.abrupt("return");case 2:return n={distribution_center_id:e.invoice.distribution_center_id},t.prev=3,t.next=6,e.$api.get("/v1/stores",{params:n});case 6:i=t.sent,r=i.data,"success"===r.status&&(e.stores=r.data.stores),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),e.$q.notify(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))()},requestSettings:function(){var e=this;return v()(a()().mark((function t(){var n,i;return a()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.get("/v1/settings");case 3:n=t.sent,i=n.data,"success"===i.status&&(e.templateSettings=i.data.settings),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},onSuccess:function(e){},onPrint:function(){this.isFormPrintPreviewVisible=!1},onPreview:function(){this.isFormPrintPreviewVisible=!0}}},l=p,f=n("2877"),w=Object(f["a"])(l,i,r,!1,null,null,null);t["default"]=w.exports}}]);