(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"05c2":function(e,t,a){"use strict";var r=a("448a"),n=a.n(r),s=(a("b0c0"),a("4de4"),a("d3b7"),a("caad"),a("2532"),a("1c16"));t["a"]={computed:{storedViewColumns:function(){return this.$store.getters["datatable/viewColumns"][this.$options.name]||[]}},watch:{storedViewColumns:{immediate:!0,handler:function(e,t){Array.isArray(e)&&e.length&&(this.visibleColumns=n()(e))}},visibleColumns:function(e,t){var a=this.storedViewColumns;(!a.length||Array.isArray(e)&&e.filter((function(e){return a.includes(e)})).length)&&this.storeViewColumns(e)}},methods:{storeViewColumns:Object(s["a"])((function(e){this.$store.dispatch("datatable/setViewColumn",{page:this.$options.name,columns:e})}),1500)}}},"0b61":function(e,t,a){},"0cb3":function(e,t,a){},"0d6f":function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("q-card-section",[t("div",{staticClass:"row"},[t("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-6"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("autocomplete-distribution-center",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Distribution Center")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"distribution_center_id",autocomplete:"off",disable:!!e.parentDistributionCenterId,dense:!e.readonly,rules:e.rules.distribution_center_id,error:!!e.errors.distribution_center_id,"error-message":e.errors.distribution_center_id},model:{value:e.formEntry.distribution_center_id,callback:function(t){e.$set(e.formEntry,"distribution_center_id",t)},expression:"formEntry.distribution_center_id"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(t){e.$set(e.formEntry,"code",t)},expression:"formEntry.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("NPWP"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"npwp",mask:"##.###.###.#-###.###",autocomplete:"off",dense:!e.readonly,rules:e.rules.npwp,error:!!e.errors.npwp,"error-message":e.errors.npwp},model:{value:e.formEntry.npwp,callback:function(t){e.$set(e.formEntry,"npwp",t)},expression:"formEntry.npwp"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(t){e.$set(e.formEntry,"location",t)},expression:"formEntry.location"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(t){e.$set(e.formEntry,"address",t)},expression:"formEntry.address"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Landline Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"landline_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.landline_number,error:!!e.errors.landline_number,"error-message":e.errors.landline_number},model:{value:e.formEntry.landline_number,callback:function(t){e.$set(e.formEntry,"landline_number",t)},expression:"formEntry.landline_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Phone Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"phone_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.phone_number,error:!!e.errors.phone_number,"error-message":e.errors.phone_number},model:{value:e.formEntry.phone_number,callback:function(t){e.$set(e.formEntry,"phone_number",t)},expression:"formEntry.phone_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}})],1)]),t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Virtual Account")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.transfer_to_virtual_account_bank_name,label:e.$t("Bank Name"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_bank_name",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Bank Name"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_bank_name",autocomplete:"off",dense:!e.readonly,rules:e.rules.transfer_to_virtual_account_bank_name,error:!!e.errors.transfer_to_virtual_account_bank_name,"error-message":e.errors.transfer_to_virtual_account_bank_name},model:{value:e.formEntry.transfer_to_virtual_account_bank_name,callback:function(t){e.$set(e.formEntry,"transfer_to_virtual_account_bank_name",t)},expression:"formEntry.transfer_to_virtual_account_bank_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.transfer_to_virtual_account_number,label:e.$t("Virtual Account Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Virtual Account Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.transfer_to_virtual_account_number,error:!!e.errors.transfer_to_virtual_account_number,"error-message":e.errors.transfer_to_virtual_account_number},model:{value:e.formEntry.transfer_to_virtual_account_number,callback:function(t){e.$set(e.formEntry,"transfer_to_virtual_account_number",t)},expression:"formEntry.transfer_to_virtual_account_number"}})],1)]),e.isCreate||e.formEntry.has_password?t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Login Credentials")))]):e._e(),e.isCreate?t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("q-checkbox",{model:{value:e.createAccessLogin,callback:function(t){e.createAccessLogin=t},expression:"createAccessLogin"}},[e._v("\n                "+e._s(e.$t("Create {entity}",{entity:e.$t("Login Credentials")}))+"\n              ")])],1):e._e(),e.isCreate&&e.createAccessLogin||!e.isCreate&&!e.readonly||e.formEntry.has_password?t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.email,label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Email"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly,rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(t){e.$set(e.formEntry,"email",t)},expression:"formEntry.email"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.username,label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly,rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(t){e.$set(e.formEntry,"username",t)},expression:"formEntry.username"}})],1)]):e._e(),e.isCreate&&e.createAccessLogin?t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password,label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly,rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password_confirmation,label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly,rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)]):e._e(),e.readonly?[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),t("div",{staticClass:"col-xs-12 col-md-3"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?t("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[t("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[t("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[t("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[t("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?t("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1),e.isCreate?e._e():t("div",{staticClass:"table-relation"},[e.entry&&e.entry.id?[t("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["franchise"===e.childTab?t("table-franchise",{key:"franchise",attrs:{"distribution-center":e.entry,"as-relation":""}}):"store"===e.childTab?t("table-store",{key:"store",attrs:{customer:e.entry}}):e._e()],1)]:e._e()],2)],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("ded3"),d=a.n(c),u=(a("ac1f"),a("00b4"),a("cb29"),a("14d9"),a("bd4c")),m={code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null,landline_number:null,phone_number:null},f={name:"FormPage",props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:m,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!e.createAccessLogin||!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!e.createAccessLogin||!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:m,isEditable:!1,defaultFormEntry:m,childTab:"franchise",createAccessLogin:!1}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))}},methods:{fill:function(e){if(e=d()(d()({},m),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var t={};for(var a in m)t[a]=e[a];this.defaultFormEntry=t}this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.approval_date&&(r.approval_date=u["b"].formatDate(u["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=u["b"].formatDate(u["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.distribution_center_id=r.distribution_center_id||e.$route.query.distribution_center_id,e.isLoading=!0,t.prev=14,n=r.id?"/v1/franchises/".concat(r.id):"/v1/franchises",s=r.id?"patch":"post",t.next=19,e.$api[s](n,r);case 19:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=d()({},e.formEntry),e.$emit("success",l.data.franchise),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Franchise")})}):e.$t("Failed to save {entity}",{entity:e.$t("franchise")}),t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](14),t.t0.validation?(c=d()(d()({},m),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 28:e.isLoading=!1;case 29:case"end":return t.stop()}}),t,null,[[14,25]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("franchise")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/franchises/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Franchise")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("franchise")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))},onTableRelationFranchiseCreate:function(){this.$router.push({path:"/franchises/create",query:{distribution_center_id:this.entry.id}})},onTableRelationStoreCreate:function(){this.$router.push({path:"/stores/create",query:{distribution_center_id:this.entry.id}})}}},p=f,v=(a("7b5a"),a("2877")),h=a("f09f"),b=a("0378"),y=a("a370"),_=a("293e"),g=a("27f9"),w=a("0016"),$=a("7cbe"),C=a("52ee"),x=a("9c40"),q=a("8f8e"),k=a("4e73"),E=a("1c1c"),D=a("66e5"),Y=a("4074"),M=a("4b7e"),P=a("eb85"),S=a("8572"),F=a("7f67"),L=a("eebe"),T=a.n(L),A=Object(v["a"])(p,r,n,!1,null,"3e5015a6",null);t["a"]=A.exports;T()(A,"components",{QCard:h["a"],QForm:b["a"],QCardSection:y["a"],QSkeleton:_["a"],QInput:g["a"],QIcon:w["a"],QPopupProxy:$["a"],QDate:C["a"],QBtn:x["a"],QCheckbox:q["a"],QMenu:k["a"],QList:E["a"],QItem:D["a"],QItemSection:Y["a"],QCardActions:M["a"],QSeparator:P["a"],QField:S["a"]}),T()(A,"directives",{ClosePopup:F["a"]})},"0f4b":function(e,t,a){"use strict";a("b494")},1496:function(e,t,a){},1650:function(e,t,a){},"21f1":function(e,t,a){"use strict";var r=a("9523"),n=a.n(r),s=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"card-bill-detail",attrs:{flat:""}},[t("q-card-section",[t("div",{staticClass:"row-detail invoice-no"},[t("div",{staticClass:"key"},[e.fetching?t("q-skeleton",{attrs:{type:"text"}}):[e._v("\n          "+e._s(e.$t("Invoice No"))+"\n        ")]],2),t("div",{staticClass:"value"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):[e._v("\n          "+e._s(e.invoice.invoice_no)+"\n        ")]],2)]),t("div",{staticClass:"row-detail"},[t("div",{staticClass:"key"},[e.fetching?t("q-skeleton",{attrs:{type:"text"}}):[e._v("\n          "+e._s(e.$t("Receipt No"))+"\n        ")]],2),t("div",{staticClass:"value"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):[e._v("\n          "+e._s(e.invoice.receipt_no)+"\n        ")]],2)]),t("div",{staticClass:"row-detail"},[t("div",{staticClass:"key"},[e.fetching?t("q-skeleton",{attrs:{type:"text"}}):[e._v("\n          "+e._s(e.$t("Total"))+"\n        ")]],2),t("div",{staticClass:"value font-weight-bold"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):[e._v("\n          "+e._s(e.formatMoney(e.invoice.total))+"\n\n          "),t("q-btn",{staticClass:"btn-copy",attrs:{size:"sm",flat:"",rounded:"",padding:"sm",icon:"content_copy"},on:{click:function(t){return e.onTotalCopy(e.invoice.total)}}})]],2)]),t("div",{staticClass:"row-detail"},[t("div",{staticClass:"key"},[e.fetching?t("q-skeleton",{attrs:{type:"text"}}):[e._v("\n          "+e._s(e.$t("Due date"))+"\n        ")]],2),t("div",{staticClass:"value font-weight-bold"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):[e._v("\n          "+e._s(e.formatDate(e.invoice.due_at))+"\n        ")]],2)]),t("div",{staticClass:"row-detail status",class:n()({},"invoice-status-".concat(e.invoice.status),!0)},[t("div",{staticClass:"key"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):[e._v("\n          "+e._s(e.$t("status"))+"\n        ")]],2),t("div",{staticClass:"value",class:n()({},"status-color-".concat(e.invoice.status),!0)},[e.fetching?e._e():[e._v("\n          "+e._s(e.invoice.status_description)+"\n        ")]],2)])])],1)},i=[],o=a("bd4c"),l={name:"CardBillDetail",props:{invoice:{type:Object,default:function(){return{}}},fetching:Boolean},methods:{formatMonth:function(e){var t=o["b"].extractDate(e.due_at||e.published_at,"YYYY-MM-DD");return o["b"].formatDate(t,"MMMM")},formatDate:function(e){var t=o["b"].extractDate(e,"YYYY-MM-DD");return o["b"].formatDate(t,"DD MMMM YYYY")},formatMoney:function(e){return e?this.$utils.currency(e||0,{decimal:".",thousand:",",symbol:"Rp. "}):"Rp. -"},formatTotal:function(e){return this.$utils.currency(e.total,{decimal:".",thousand:","})||"-"},onTotalCopy:function(e){this.$utils.copyToClipboard(e),this.$q.notify({message:this.$t("{entity} copied to clipboard",{entity:this.$t("Payment amount")})})}}},c=l,d=(a("378b"),a("2877")),u=a("f09f"),m=a("a370"),f=a("293e"),p=a("9c40"),v=a("b498"),h=a("0016"),b=a("eebe"),y=a.n(b),_=Object(d["a"])(c,s,i,!1,null,null,null);t["a"]=_.exports;y()(_,"components",{QCard:u["a"],QCardSection:m["a"],QSkeleton:f["a"],QBtn:p["a"],QColor:v["a"],QIcon:h["a"]})},2234:function(e,t,a){"use strict";a("1496")},"23d7":function(e,t,a){},"2e09":function(e,t,a){"use strict";a("1650")},"347b":function(e,t,a){},"369d":function(e,t,a){},"378b":function(e,t,a){"use strict";a("9d8b")},"40b1":function(e,t,a){"use strict";a("369d")},5125:function(e,t,a){"use strict";a("0481"),a("4069");var r=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"card-payment-proof",class:{dragging:e.isDragging},attrs:{flat:e.flat},on:{dragover:e.onDragOver,dragenter:e.onDragEnter,dragleave:e.onDragLeave,drop:e.onDrop}},[e.showPaymentDate?t("q-card-section",[t("p",{staticClass:"label-header label-actual-payment"},[e._v("\n      "+e._s(e.$t("Actual Payment Date"))+"\n    ")]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col col-md-6 col-lg-5 col-xl-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.isFetching,expression:"!isFetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("Payment Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"actual_payment_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Paid at"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"actual_payment_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.actual_payment_date,error:!!e.errors.actual_payment_date,"error-message":e.errors.actual_payment_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.actualPaymentDate)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY",options:e.actualPaymentDateOptions},model:{value:e.actualPaymentDate,callback:function(t){e.actualPaymentDate=t},expression:"actualPaymentDate"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}],null,!1,2087295570),model:{value:e.actualPaymentDate,callback:function(t){e.actualPaymentDate=t},expression:"actualPaymentDate"}})],1)])]):e._e(),t("q-card-section",[t("p",{staticClass:"label-header"},[e._v("\n      "+e._s(e.$t("Payment Proof"))+"\n    ")]),t("p",{staticClass:"label-meta"},[e._v("\n      "+e._s(e.$t("Select max 5 photos of payment proof and click Upload."))+"\n    ")]),t("div",{staticClass:"bill-attachments"},e._l(e.paymentProofs,(function(a,r){return t("bill-attachment",{key:"attch".concat(a.id),attrs:{preview:e.paymentProofs[r].preview,"min-dimension":e.attachmentRules.minDimension,"max-file-size":e.attachmentRules.maxFileSize,accept:e.attachmentRules.accept,url:a.url,readonly:e.isUploading,editable:e.editable,addable:e.addable&&!a.preview,uploading:e.uploadingPaymentProofs[a.id]},on:{"update:preview":function(t){return e.$set(e.paymentProofs[r],"preview",t)},input:function(t){return e.onAttachmentInput(a,r)},deleted:function(t){return e.onAttachmentDeleted(a,r)}},model:{value:e.paymentProofs[r].file,callback:function(t){e.$set(e.paymentProofs[r],"file",t)},expression:"paymentProofs[i].file"}})})),1)]),e.uploadable?t("q-card-actions",[t("q-space"),t("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.canUpload,expression:"canUpload"}],staticClass:"q-px-xl",attrs:{color:"primary",icon:"send",loading:e.isUploading},on:{click:e.onUpload}},[t("span",{staticClass:"q-ml-sm"},[e._v(e._s(e.$t("Submit")))])])],1):e._e()],1)},n=[],s=a("448a"),i=a.n(s),o=a("9523"),l=a.n(o),c=a("ded3"),d=a.n(c),u=a("7ec2"),m=a.n(u),f=a("c973"),p=a.n(f),v=(a("cb29"),a("d81d"),a("7db0"),a("d3b7"),a("14d9"),a("4de4"),a("caad"),a("2532"),a("d9e2"),a("c740"),a("99af"),a("bd4c")),h=function(){var e=this,t=e._self._c;return e.addable||!e.empty?t("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.readonly,expression:"!readonly"},{name:"show",rawName:"v-show",value:!(e.readonly&&e.empty),expression:"!(readonly && empty)"}],staticClass:"bill-attachment",class:{readonly:e.readonly,empty:e.empty},on:{click:e.onWrapperClick}},[e.preview||e.internalPreview?[e.url?t("a",{staticClass:"attachment-image",attrs:{href:e.url,target:"_blank"}},[t("img",{attrs:{src:e.preview||e.internalPreview}})]):t("div",{staticClass:"attachment-image"},[t("img",{attrs:{src:e.preview||e.internalPreview}})])]:t("div",{staticClass:"icon-add",on:{click:e.onClick}},[t("q-icon",{attrs:{name:"add_a_photo"}})],1),!e.readonly&&!e.empty&&!e.url||e.editable&&!e.empty?t("div",{staticClass:"action"},[t("q-btn",{attrs:{flat:"",icon:"cancel",ripple:!1},on:{click:function(t){return t.preventDefault(),e.onDelete.apply(null,arguments)}}})],1):e._e(),e.uploading?t("div",{staticClass:"upload-loading"},[t("q-spinner-dots",{attrs:{color:"primary",size:"2em"}})],1):e._e(),t("q-file",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"file",attrs:{filled:"",rounded:"",label:"Restricted to images","max-file-size":e.maxFileSize,accept:e.acceptRules},on:{input:e.onChange,rejected:e.onRejected},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})],2):e._e()},b=[],y=(a("a9e3"),a("e6cf"),a("e260"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("88a7"),a("271a"),a("5494"),{name:"BillAttachment",props:{value:{type:[String,Object,Array,File],default:function(){return null}},url:{type:String,default:null},preview:{type:String,required:!1},initial:{type:String,required:!1},addable:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},accept:{type:String,required:!1},readonly:{type:Boolean,default:!1},size:{type:String,required:!1},maxFileSize:{type:Number},minDimension:{type:Number},uploading:{type:Boolean}},data:function(){return{internalSize:"64px",internalValue:null,internalPreview:null,errorMessages:[]}},computed:{acceptRules:function(){return this.accept?this.accept:"image/png, image/jpeg, image/jpg, image/svg+xml, image/heic, image/heif"},avatarSize:function(){return this.size||this.internalSize},empty:function(){return!(this.preview||this.internalPreview)}},methods:{onWrapperClick:function(e){this.url&&this.$emit("click",e)},onClick:function(){if(!this.readonly){var e=this.$refs.file;document.getElementById(e.inputAttrs.id).click()}},onChange:function(e){var t=this;return p()(m()().mark((function a(){var r;return m()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.errorMessages=[],e&&e.type){a.next=4;break}return t.internalValue=null,a.abrupt("return");case 4:return a.next=6,t.checkDimension(e);case 6:if(r=a.sent,r){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,t.generateFilePreview(e);case 11:t.internalPreview=a.sent,t.internalValue=e,t.$emit("update:preview",t.internalPreview),t.$emit("input",e);case 15:case"end":return a.stop()}}),a)})))()},generateFilePreview:function(e){return new Promise((function(t){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsDataURL(e)}))},checkDimension:function(e){var t=this;return p()(m()().mark((function a(){var r;return m()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.validateDimension(e);case 2:return r=a.sent,r||t.onRejected([{failedPropValidation:"max-dimension",file:e}]),a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},validateDimension:function(e,t){var a=this;return p()(m()().mark((function r(){var n;return m()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=window.URL||window.webkitURL,n&&n.createObjectURL&&"Image"in window){r.next=3;break}return r.abrupt("return",Promise.resolve(!0));case 3:return t=t||a.minDimension,r.abrupt("return",new Promise((function(a){try{var r=new Image,s=n.createObjectURL(e);r.onload=function(){var e=r.width,i=r.height;console.log(t),n.revokeObjectURL(s),a(e>=t&&i>=t)},r.src=s}catch(i){a(!1);try{n.revokeObjectURL(objectUrl)}catch(o){}}})));case 5:case"end":return r.stop()}}),r)})))()},onRejected:function(e){var t,a=this.$t("Selected file is not accepted. Please use another one.");e&&e[0]&&e[0].failedPropValidation&&(t=e[0].failedPropValidation,"accept"===t?a=this.$t("The selected file is unsupported. Supported files: {entity}",{entity:".png, .jpg, .jpeg, .svg, .heic"}):"max-file-size"===t?a=this.$t("File size exceeds maximum limit: {max}",{max:this.$utils.humanStorageSize(this.maxFileSize)}):"max-dimension"===t&&(a=this.$t("Image resolution must be greater than {resolution}",{resolution:"".concat(this.minDimension,"x").concat(this.minDimension)}))),this.$q.notify({type:"negative",message:a})},onDelete:function(){this.internalValue=null,this.internalPreview=null,this.$emit("deleted")}}}),_=y,g=(a("d561"),a("2877")),w=a("0016"),$=a("9c40"),C=a("8380"),x=a("cb32"),q=a("7d53"),k=a("714f"),E=a("eebe"),D=a.n(E),Y=Object(g["a"])(_,h,b,!1,null,null,null),M=Y.exports;D()(Y,"components",{QIcon:w["a"],QBtn:$["a"],QSpinnerDots:C["a"],QAvatar:x["a"],QFile:q["a"]}),D()(Y,"directives",{Ripple:k["a"]});var P={name:"CardPaymentProof",components:{BillAttachment:M},props:{invoice:{type:Object,default:function(){return{}}},fetching:Boolean,flat:Boolean,uploadable:{type:Boolean,default:!0},editable:Boolean,addable:{type:Boolean,default:!0},showPaymentDate:{type:Boolean,default:!1}},data:function(){var e=this;return{isFetching:!1,isLoading:!1,isDragging:!1,isUploading:!1,settings:{},paymentProofs:[],uploadingPaymentProofs:{},deletePaymentProofs:[],paymentProofRemark:"",canUpload:!0,actualPaymentDate:null,attachmentRules:{maxFileSize:10485760,minDimension:300,accept:"image/png, image/jpeg, image/jpg, image/svg+xml, image/heic, image/heif"},rules:{actual_payment_date:[function(t){return!t||!!t&&e.$utils.isDateValid(t)||e.$t("{field} is invalid",{field:e.$t("Date")})}]},errors:{}}},computed:{constant:function(){return this.$constant.setting_key},readonly:function(){return!(this.uploadable||this.editable||this.addable)},formattedActualPaymentDate:function(){if(this.readonly&&this.actualPaymentDate)return v["b"].formatDate(v["b"].extractDate(this.actualPaymentDate,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{invoice:{deep:!0,immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){e&&e.id?(e.actual_payment_date?t.actualPaymentDate=v["b"].formatDate(e.actual_payment_date,"DD/MM/YYYY"):t.actualPaymentDate=null,t.canUpload=!0,t.editable?t.fill(t.invoice.invoice_payment_proofs):t.onRequest()):t.actualPaymentDate=null}))}}},methods:{fill:function(e){var t=(e||[]).map((function(e){return e.file=e.file||null,e.preview=e.preview||e.url||null,e}));t.length<5?t.find((function(e){return!e.preview}))||t.push(this.generateBlankAttachment()):this.canUpload=!1,this.paymentProofs=t},onRequest:function(){var e=this;return p()(m()().mark((function t(){var a,r,n;return m()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isFetching=!0,e.isLoading=!0,e.deletePaymentProofs=[],a={invoice_id:e.invoice.id},t.prev=6,t.next=9,e.$api.get("/v1/invoices/payment-proofs",{params:a});case 9:r=t.sent,n=r.data,"success"===n.status?e.fill(n.data.invoice_payment_proofs):e.paymentProofs=[e.generateBlankAttachment()],t.next=18;break;case 14:t.prev=14,t.t0=t["catch"](6),e.$q.notify(t.t0),e.paymentProofs=[e.generateBlankAttachment()];case 18:e.isFetching=!1,e.isLoading=!1;case 20:case"end":return t.stop()}}),t,null,[[6,14]])})))()},onSubmit:function(){var e=this;return p()(m()().mark((function t(){var a,r,n;return m()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={actual_payment_date:null},e.actualPaymentDate&&(a.actual_payment_date=v["b"].formatDate(v["b"].extractDate(e.actualPaymentDate,"DD/MM/YYYY"),"YYYY-MM-DD")),t.prev=2,t.next=5,e.$api.patch("/v1/invoices/".concat(e.invoice.id),a);case 5:if(r=t.sent,n=r.data,"success"!==n.status){t.next=9;break}return t.abrupt("return",!0);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.$q.notify(t.t0);case 14:return t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))()},onUpload:function(){var e=arguments,t=this;return p()(m()().mark((function a(){var r,n,s,i,o,l;return m()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.length>0&&void 0!==e[0]&&e[0],n={},t.actualPaymentDate&&(n.actual_payment_date=v["b"].formatDate(v["b"].extractDate(t.actualPaymentDate,"DD/MM/YYYY"),"YYYY-MM-DD")),s=t.paymentProofs.filter((function(e){return!!e.file})),i=t.paymentProofs.filter((function(e){return!!e.id&&!String(e.id).includes("new")})).length>0,s.length||t.deletePaymentProofs.length||i){a.next=10;break}if(t.$q.notify({type:"negative",message:t.$t("Please add at least 1 photo to upload")}),!r){a.next=9;break}throw new Error(t.$t("Please add at least 1 photo to upload"));case 9:return a.abrupt("return");case 10:if(!t.isUploading){a.next=12;break}return a.abrupt("return");case 12:return a.next=14,t.onSubmit();case 14:if(o=a.sent,o){a.next=17;break}return a.abrupt("return",!1);case 17:return t.uploadingPaymentProofs={},t.isUploading=!0,!1,a.prev=20,a.next=23,t.onDelete();case 23:a.sent,a.next=32;break;case 26:if(a.prev=26,a.t0=a["catch"](20),t.isUploading=!1,!r){a.next=31;break}throw a.t0;case 31:return a.abrupt("return");case 32:return a.prev=32,a.next=35,t.onUploadItemIndex(-1);case 35:l=a.sent,l>=0&&!i?t.$q.notify({message:t.$t("Payment proofs successfully sent")}):t.$q.notify({message:t.$t("Payment proofs successfully updated")}),t.$emit("uploaded"),a.next=44;break;case 40:if(a.prev=40,a.t1=a["catch"](32),!r){a.next=44;break}throw a.t1;case 44:t.paymentProofs.filter((function(e){return!!e.url})).length>=5&&(t.canUpload=!1),t.isUploading=!1;case 46:case"end":return a.stop()}}),a,null,[[20,26],[32,40]])})))()},onUploadItemIndex:function(e){var t=arguments,a=this;return p()(m()().mark((function r(){var n,s,i,o,c,u;return m()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:0,!(e>=5)){r.next=3;break}return r.abrupt("return",n);case 3:if(e++,s=a.paymentProofs.find((function(t,a){return a===e})),s&&s.file){r.next=7;break}return r.abrupt("return",a.onUploadItemIndex(e));case 7:return a.uploadingPaymentProofs=d()(d()({},a.uploadingPaymentProofs),{},l()({},s.id,!0)),i=new FormData,i.append("id",a.invoice.id),i.append("payment_proof",s.file),r.prev=11,r.next=14,a.$api.post("/v1/invoices/payment-proofs",i,{headers:{"Content-Type":"multipart/form-data"}});case 14:if(o=r.sent,c=o.data,a.uploadingPaymentProofs=d()(d()({},a.uploadingPaymentProofs),{},l()({},s.id,!1)),"success"!==c.status){r.next=25;break}return u=c.data.invoice_payment_proof||{},u.file=null,u.preview=u.url,a.paymentProofs[e]=u,r.abrupt("return",a.onUploadItemIndex(e,++n));case 25:a.$q.notify({message:c.message});case 26:r.next=33;break;case 28:throw r.prev=28,r.t0=r["catch"](11),a.$q.notify(r.t0),a.uploadingPaymentProofs=d()(d()({},a.uploadingPaymentProofs),{},l()({},s.id,!1)),r.t0;case 33:return r.abrupt("return",n);case 34:case"end":return r.stop()}}),r,null,[[11,28]])})))()},onDelete:function(){var e=this;return p()(m()().mark((function t(){var a,r,n;return m()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={id:e.deletePaymentProofs.map((function(e){return e.id}))},a.id.length){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,e.$api.post("/v1/invoices/payment-proofs/delete",a);case 6:r=t.sent,n=r.data,"success"===n.status&&(e.deletePaymentProofs=[]),t.next=15;break;case 11:throw t.prev=11,t.t0=t["catch"](3),e.$q.notify(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},onDragOver:function(e){e.preventDefault();var t=this.paymentProofs;(t.length<5||t.find((function(e){return!e.preview})))&&(this.isDragging=!0)},onDragEnter:function(e){var t=this.paymentProofs;(t.length<5||t.find((function(e){return!e.preview})))&&(this.isDragging=!0)},onDragLeave:function(e){this.isDragging=!1},onDrop:function(e){var t=this;return p()(m()().mark((function a(){var r,n,s,o,l,c,u;return m()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.preventDefault(),t.isDragging=!1,r=t.paymentProofs,n=t.attachmentRules,s=r.findIndex((function(e){return!e.preview})),!(r.length<5||-1!==s)){a.next=28;break}if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length)){a.next=28;break}if(o=e.dataTransfer.files[0],!(o.size>n.maxFileSize)){a.next=11;break}return t.$q.notify({type:"negative",message:t.$t("File size exceeds maximum limit: {max}",{max:t.$utils.humanStorageSize(n.maxFileSize)})}),a.abrupt("return");case 11:if(o.type&&n.accept.includes(o.type)){a.next=14;break}return t.$q.notify({type:"negative",message:t.$t("The selected file is unsupported. Supported files: {entity}",{entity:".png, .jpg, .jpeg, .svg, .heic"})}),a.abrupt("return");case 14:return l=n.minDimension,a.next=17,M.methods.validateDimension(o,l);case 17:if(c=a.sent,c){a.next=21;break}return t.$q.notify({type:"negative",message:t.$t("Image resolution must be greater than {resolution}",{resolution:"".concat(l,"x").concat(l)})}),a.abrupt("return");case 21:return a.next=23,M.methods.generateFilePreview(o);case 23:u=a.sent,t.paymentProofs[s]=d()(d()({},t.paymentProofs[s]),{},{file:o,preview:u}),t.paymentProofs=i()(t.paymentProofs),t.$emit("updated",t.paymentProofs),t.addBlankAttachment();case 28:case"end":return a.stop()}}),a)})))()},onAttachmentInput:function(e,t){this.addBlankAttachment(),this.$emit("updated",this.paymentProofs)},onAttachmentDeleted:function(e,t){var a=this;this.paymentProofs=this.paymentProofs.filter((function(t){return t.id!==e.id})),this.addBlankAttachment(),e.url&&this.deletePaymentProofs.push(e),this.$nextTick((function(){a.$emit("updated",a.paymentProofs)}))},addBlankAttachment:function(){var e=this;this.$nextTick((function(){e.paymentProofs.length<5&&!e.paymentProofs.find((function(e){return!e.preview}))&&(e.paymentProofs=[].concat(i()(e.paymentProofs),[e.generateBlankAttachment()]))}))},generateBlankAttachment:function(){return{id:"new:"+this.$utils.generateId(),preview:null,file:null}},actualPaymentDateOptions:function(e){return e<=v["b"].formatDate(new Date,"YYYY/MM/DD")}}},S=P,F=(a("575d"),a("f09f")),L=a("a370"),T=a("293e"),A=a("27f9"),N=a("7cbe"),I=a("52ee"),Q=a("4b7e"),O=a("2c91"),V=a("7f67"),B=Object(g["a"])(S,r,n,!1,null,null,null);t["a"]=B.exports;D()(B,"components",{QCard:F["a"],QCardSection:L["a"],QSkeleton:T["a"],QInput:A["a"],QIcon:w["a"],QPopupProxy:N["a"],QDate:I["a"],QBtn:$["a"],QCardActions:Q["a"],QSpace:O["a"]}),D()(B,"directives",{ClosePopup:V["a"]})},"575d":function(e,t,a){"use strict";a("8777")},"5c27":function(e,t,a){var r={"./en-us":["1f91"],"./en-us.js":["1f91"],"./id":["7e40",0],"./id.js":["7e40",0]};function n(e){if(!a.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],n=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(n)}))}n.keys=function(){return Object.keys(r)},n.id="5c27",e.exports=n},"602a":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-print-preview",on:{click:e.onClick}},[t("form-invoice",{attrs:{entry:e.invoice,"template-settings":e.templateSettings,"show-signatures":e.showSignatures}}),t("form-receipt",{attrs:{entry:e.receipt,invoice:e.invoiceUpdated.invoice_no?e.invoiceUpdated:e.invoice,"template-settings":e.templateSettings,"show-signatures":e.showSignatures}}),e.stores.length?t("form-store",{attrs:{entries:e.stores,invoice:e.invoiceUpdated.invoice_no?e.invoiceUpdated:e.invoice,"template-settings":e.templateSettings}}):e._e()],1)},n=[],s=a("a8c8"),i=a("a6f8"),o=a("9226"),l={name:"FormPrintPreview",components:{FormInvoice:s["a"],FormReceipt:i["a"],FormStore:o["a"]},props:{invoice:{type:Object,default:function(){return{}}},invoiceUpdated:{type:Object,default:function(){return{}}},receipt:{type:Object,default:function(){return{}}},stores:{type:Array,default:function(){return[]}},templateSettings:{type:[Array,Object],default:function(){return{}}},showSignatures:{type:Boolean,default:!1}},methods:{onClick:function(e){var t=e&&e.target||{};t.closest&&t.closest(".print-paper")||this.$emit("close")}}},c=l,d=a("2877"),u=Object(d["a"])(c,r,n,!1,null,null,null);t["a"]=u.exports},6682:function(e,t,a){"use strict";a("8120")},6880:function(e,t,a){"use strict";a("0cb3")},"6eb9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("q-layout",{staticClass:"main-layout",attrs:{view:"LHh lpR fFf"}},[t("topbar"),t("sidebar"),t("q-page-container",[t("router-view")],1)],1)},n=[],s=a("ded3"),i=a.n(s),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=(a("caad"),a("2532"),a("b0c0"),a("e260"),a("d3b7"),a("e6cf"),a("3ca3"),a("ddb0"),a("2f62")),m=function(){var e=this,t=e._self._c;return t("q-header",{staticClass:"topbar",attrs:{"height-hint":48,bordered:!1}},[t("q-toolbar",[e.$q.screen.lt.md&&e.hasAppToolbarPortal?t("portal-target",{staticClass:"app-toolbar",attrs:{name:"app-toolbar"}}):[e.$root.__currentMeta&&e.$root.__currentMeta.title&&!e.hasAppBreadcrumbsPortal?t("q-toolbar-title",[e._v("\n        "+e._s(e.$root.__currentMeta?e.$root.__currentMeta.title:"")+"\n      ")]):e._e(),e.$q.screen.gt.sm?t("portal-target",{staticClass:"app-breadcrumbs",attrs:{name:"app-breadcrumbs"}}):e._e(),t("div",{staticClass:"sep"}),t("q-select",{attrs:{borderless:"",options:e.localeOption,"emit-value":"",dense:""},scopedSlots:e._u([{key:"selected-item",fn:function(){return[e._v("\n          "+e._s(e.selectedLocaleDisplay)+"\n        ")]},proxy:!0}]),model:{value:e.selectedLocale,callback:function(t){e.selectedLocale=t},expression:"selectedLocale"}}),t("q-btn",{staticClass:"q-ml-md btn-topbar-menu-item-user",attrs:{flat:"",label:e.$auth.user.name||e.$auth.user.email||"Hello, user!","icon-right":"arrow_drop_down"}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom left",self:"top left",offset:[0,6]}},[t("q-list",{staticClass:"topbar-menu"},[t("q-item",{staticClass:"menu-profile",attrs:{clickable:"",to:"/@".concat(e.$auth.user.username||e.$auth.user.hash)}},[t("q-item-section",{staticClass:"q-pr-sm",attrs:{side:""}},[t("avatar-field",{attrs:{value:e.$auth.user.avatar,initial:e.$utils.initials(e.$auth.user.name||e.$auth.user.username||e.$auth.user.email),size:"36px",readonly:""}})],1),t("q-item-section",[t("q-item-label",[e._v(e._s(e.$auth.user.name||"-"))]),t("q-item-label",{attrs:{caption:""}},[e._v(e._s(e.$auth.user.email))])],1)],1),t("q-separator"),t("q-item",{attrs:{clickable:"",to:"/account/profile"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"settings"}})],1),t("q-item-section",[e._v(e._s(e.$t("Account Settings")))])],1),t("q-item",{attrs:{clickable:"",to:"/account/password"}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"lock_open"}})],1),t("q-item-section",[e._v(e._s(e.$t("Change Password")))])],1),t("q-item",{attrs:{clickable:""},on:{click:e.onLogoutClick}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"logout"}})],1),t("q-item-section",[e._v(e._s(e.$t("Logout")))])],1)],1)],1)],1)]],2)],1)},f=[],p=a("9523"),v=a.n(p),h=(a("7db0"),a("ac1f"),a("5319"),a("2b88")),b={name:"Topbar",data:function(){var e=this;return{selectedLocale:null,localeOption:[{label:"Bahasa Indonesia",value:"id",display:"ID"},{label:"English",value:"en",display:"EN"}],syncLocale:this.$utils.debounce(function(){var t=d()(l()().mark((function t(r){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$i18n.locale="en-us"===r?"en":r,a("5c27")("./"+("en"===r?"en-us":r)).then((function(t){e.$q.lang.set(t.default)})),r===e.$store.getters["auth/locale"]){t.next=5;break}return t.next=5,e.authUpdate({locale:"en-us"===r?"en":r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),1e3)}},computed:i()(i()({},Object(u["c"])({appConfig:"app/settings"})),{},{hasAppToolbarPortal:function(){return h["Wormhole"].hasContentFor("app-toolbar")},hasAppBreadcrumbsPortal:function(){return h["Wormhole"].hasContentFor("app-breadcrumbs")},selectedLocaleDisplay:function(){var e=this;if(this.selectedLocale){var t=this.localeOption.find((function(t){return t.value===e.selectedLocale}));if(t)return t.display}return this.$i18n.locale}}),watch:{"$i18n.locale":{immediate:!0,handler:function(e,t){e!==t&&e!==this.selectedLocale&&(this.selectedLocale="en-us"===e?"en":e)}},selectedLocale:function(e,t){e!==t&&e!==this.appConfig.locale&&this.syncLocale(e)}},methods:i()(i()({},Object(u["b"])({appConfigSet:"app/set",authUpdate:"auth/update"})),{},{onToggleSidebar:function(){this.appConfigSet({sidebar:!this.appConfig.sidebar})},onLogoutClick:function(){var e=this;return d()(l()().mark((function t(){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$q.dialog(v()({title:e.$t("Confirm"),message:e.$t("Are you sure want to logout?"),cancel:!0,ok:e.$t("Yes")},"cancel",e.$t("Nope"))).onOk(d()(l()().mark((function t(){return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/logout");case 2:e.isUserMenuVisible=!1,e.$router.replace("/login");case 4:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})))()}})},y=b,_=(a("aad6"),a("2877")),g=a("e359"),w=a("65c6"),$=a("9c40"),C=a("6ac5"),x=a("ddd8"),q=a("4e73"),k=a("1c1c"),E=a("66e5"),D=a("4074"),Y=a("0170"),M=a("eb85"),P=a("cb32"),S=a("4d5a"),F=a("eebe"),L=a.n(F),T=Object(_["a"])(y,m,f,!1,null,null,null),A=T.exports;L()(T,"components",{QHeader:g["a"],QToolbar:w["a"],QBtn:$["a"],QToolbarTitle:C["a"],QSelect:x["a"],QMenu:q["a"],QList:k["a"],QItem:E["a"],QItemSection:D["a"],QItemLabel:Y["a"],QSeparator:M["a"],QAvatar:P["a"],QLayout:S["a"]});var N=function(){var e=this,t=e._self._c;return t("q-drawer",{attrs:{"show-if-above":"",bordered:!1,"content-class":"sidebar-content",elevated:!e.$q.dark.mode,width:e.sidebarWidth,mini:e.isMini},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[t("q-toolbar",{staticClass:"sidebar-toolbar"},[t("q-toolbar-title",{class:{"text-center":e.isMini}},[e._v("\n      "+e._s(e.isMini?"W":"Web Console")+"\n    ")])],1),t("q-list",{staticClass:"sidebar-content-list"},[e._l(e.menuList,(function(a,r){return[a.header?t("q-item-label",{key:"header".concat(r),staticClass:"text-grey-8",attrs:{header:""}},[e._v("\n        "+e._s(a.header)+"\n      ")]):a.separator?t("q-separator",{key:"sep".concat(r)}):t("q-item",{key:"item".concat(r),class:a.class,attrs:{clickable:"",to:a.to,target:a.hrefTarget,href:a.href,exact:""}},[a.icon?t("q-item-section",{attrs:{avatar:""}},[t("q-icon",{attrs:{name:a.icon}})],1):e._e(),t("q-item-section",[t("q-item-label",[e._v(e._s(a.title))]),a.caption?t("q-item-label",{attrs:{caption:""}},[e._v("\n            "+e._s(a.caption)+"\n          ")]):e._e()],1)],1)]}))],2),t("div",{staticClass:"toolbar-bottom"},[t("q-btn",{attrs:{flat:"",round:"",icon:e.isMini?"chevron_right":"chevron_left"},on:{click:function(t){t.preventDefault(),e.isMini=!e.isMini}}}),e.isMini?e._e():t("q-btn",{attrs:{flat:"",round:"",icon:e.appConfig.dark?"light_mode":"dark_mode"},on:{click:function(t){return t.preventDefault(),e.toggleDarkMode.apply(null,arguments)}}}),e.isMini?e._e():t("q-btn",{staticClass:"btn-sidebar-activate-help",attrs:{flat:"",round:"",icon:"help"},on:{click:function(t){return t.preventDefault(),e.onHelpClick.apply(null,arguments)}}})],1)],1)},I=[],Q=(a("4de4"),a("d81d"),{name:"Sidebar",data:function(){return{isVisible:this.$q.screen.gt.sm,isMini:!1,menuList:this.defaultMenuList()}},computed:i()(i()({},Object(u["c"])({appConfig:"app/settings",permissions:"auth/permissions"})),{},{sidebarWidth:function(){return this.$q.screen.md?200:275}}),watch:{isVisible:function(e,t){e!==t&&e!==this.appConfig.sidebar&&this.appConfigSet({sidebar:e})},"appConfig.sidebar":{immediate:!0,handler:function(e,t){e!==t&&void 0!==e&&e!==this.isVisible&&(this.isVisible=e)}},permissions:function(){this.generateAvailableMenu()},"$i18n.locale":function(e,t){var a=this;e!==t&&this.$nextTick((function(){a.generateAvailableMenu()}))}},mounted:function(){this.generateAvailableMenu()},methods:i()(i()({},Object(u["b"])({appConfigSet:"app/set",appConfigSave:"app/save"})),{},{defaultMenuList:function(){return[{header:this.$t("Report"),permissions:["access.dashboard","access.report"]},{title:this.$t("Dashboard"),icon:"home",to:"/",class:"sidebar-menu-item-dashboard",permissions:["access.dashboard"]},{header:this.$t("Data"),permissions:["access.dashboard"]},{title:this.$t("Invoice"),icon:"receipt_long",to:"/invoices",class:"sidebar-menu-item-invoices",permissions:["access.dashboard"]},{title:this.$t("Distribution Center"),icon:"business_center",to:"/distribution-centers",class:"sidebar-menu-item-distribution-centers",permissions:["access.dashboard"]},{header:this.$t("System"),permissions:["manage.users","create.role","edit.role","delete.role","edit.permission"]},{title:this.$t("Settings"),icon:"settings",to:"/settings",class:"sidebar-menu-item-settings",permissions:["manage.users"]},{title:this.$t("Users"),icon:"group",to:"/users",class:"sidebar-menu-item-users",permissions:["manage.users"]}]},toggleDarkMode:function(){var e=!this.appConfig.dark;this.appConfigSet({dark:e}),this.$q.dark.set(e),this.appConfigSave()},generateAvailableMenu:function(){this.permissions.includes("access.dashboard")?this.menuList=this.checkMenuItems(this.defaultMenuList()):this.menuList=[]},checkMenuItems:function(e){var t=this;return e.map((function(e){return e.permissions||e.roles?e.permissions&&t.checkMenuItemPermissionAvailability(e)?t.checkMenuItemRoleAvailability(e):e.roles&&t.checkMenuItemRoleAvailability(e)?t.checkMenuItemPermissionAvailability(e):void 0:t.checkMenuItemChildren(e)})).filter((function(e){return!!e}))},checkMenuItemPermissionAvailability:function(e){return e.permissions?this.permissions.some((function(t){return e.permissions.includes(t)}))?this.checkMenuItemChildren(e):null:e},checkMenuItemRoleAvailability:function(e){var t=this;return e.roles?e.roles.find((function(e){return e==t.$auth.user.role_id}))?this.checkMenuItemChildren(e):null:e},checkMenuItemChildren:function(e){return e?e.items&&(e.items.length&&(e.items=this.checkMenuItems(e.items)),!e.items.length)&&e.noAction?null:e:null},onHelpClick:function(){this.$tourGuide.open(this.$route.name)}})}),O=Q,V=(a("a7ed"),a("9404")),B=a("0016"),j=Object(_["a"])(O,N,I,!1,null,null,null),R=j.exports;L()(j,"components",{QDrawer:V["a"],QToolbar:w["a"],QToolbarTitle:C["a"],QList:k["a"],QItemLabel:Y["a"],QSeparator:M["a"],QItem:E["a"],QItemSection:D["a"],QIcon:B["a"],QBtn:$["a"]});var U={name:"MainLayout",preFetch:function(e){return d()(l()().mark((function t(){var a,r,n,s;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.redirect,r=e.store,n=e.currentRoute,r.getters["auth/check"]){t.next=3;break}return t.abrupt("return",a("/login"));case 3:if(s=r.getters["auth/permissions"],!s||!s.length||s.includes("access.dashboard")||"unauthorized-access"===n.name){t.next=6;break}return t.abrupt("return",a("/unauthorized-access"));case 6:return t.next=8,r.dispatch("datatable/initStore");case 8:return t.next=10,r.dispatch("imports/initStore");case 10:case"end":return t.stop()}}),t)})))()},components:{Topbar:A,Sidebar:R},data:function(){return{}},computed:i()({},Object(u["c"])({appConfig:"app/settings"})),created:function(){var e=this;this.$q.dark.set(this.appConfig.dark);var t=this.$store.getters["auth/locale"];this.$i18n.locale="en-us"===t?"en":t,a("5c27")("./"+("en"===t?"en-us":t)).then((function(t){e.$q.lang.set(t.default)}))},beforeDestroy:function(){this.$ws.close()}},z=U,H=(a("f11b"),a("09e3")),J=a("f09f"),G=Object(_["a"])(z,r,n,!1,null,null,null);t["default"]=G.exports;L()(G,"components",{QLayout:S["a"],QPageContainer:H["a"],QDrawer:V["a"],QMenu:q["a"],QItem:E["a"],QCard:J["a"],QToolbar:w["a"]})},"6fee":function(e,t,a){"use strict";a("95dc")},"721a":function(e,t,a){},"7b5a":function(e,t,a){"use strict";a("721a")},8120:function(e,t,a){},8219:function(e,t,a){},8777:function(e,t,a){},9226:function(e,t,a){"use strict";a("e260"),a("d3b7"),a("ddb0"),a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-store-printable q-pa-sm q-gutter-md",class:{editable:e.isEditable}},[t("div",{staticClass:"print-paper-wrapper A4"},[t("div",{staticClass:"print-paper"},[t("div",{staticClass:"paper-content"},[e._m(0),t("div",{staticClass:"table-store-list"},[e._m(1),e._l(e.entries,(function(a,r){return t("div",{key:a.id,staticClass:"store-list-row",class:{last:r===e.entries.length-1}},[t("div",{staticClass:"store-list-no"},[e._v("\n              "+e._s(++r)+"\n            ")]),t("div",{staticClass:"store-list-name"},[e._v("\n              "+e._s(a.name)+"\n            ")]),t("div",{staticClass:"store-list-address"},[e._v("\n              "+e._s(a.address)+"\n            ")])])}))],2)])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"store-list-header"},[t("div",{staticClass:"company-logo-wrapper"},[t("img",{staticClass:"company-logo",attrs:{src:"/img/artacom.png",alt:"artacom logo"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"store-list-row store-list-header"},[t("div",{staticClass:"store-list-no"},[e._v("\n              No.\n            ")]),t("div",{staticClass:"store-list-name"},[e._v("\n              Name\n            ")]),t("div",{staticClass:"store-list-address"},[e._v("\n              Address\n            ")])])}],s=a("448a"),i=a.n(s),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=a("ded3"),m=a.n(u),f=(a("caad"),a("2532"),a("cb29"),a("99af"),a("4de4"),a("bd4c")),p=a("1c16"),v={receipt_remark:null},h={name:"FormStore",props:{entries:{type:Array,default:function(){return[]}},invoice:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0},templateSettings:{type:[Object,Array],default:function(){return{}}}},data:function(){var e=this;return{formEntry:v,isLoading:!1,rules:{receipt_remark:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Receipt remark")})}]},errors:v,isEditable:!0,defaultFormEntry:v,formServices:[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}]}},computed:{isCreate:function(){return!this.entries.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedPublishedAt:function(){if(this.invoice.published_at){var e="DD/MM/YYYY";return this.invoice.published_at.includes("-")&&(e="YYYY-MM-DD"),f["b"].formatDate(f["b"].extractDate(this.invoice.published_at,e),"DD-MMMM-YYYY")}},formattedGrandTotalTerbilang:function(){var e=this.invoice.grand_total||this.invoice.total||0;return e?this.$utils.terbilang(e):""},formattedGrandTotal:function(){return this.$utils.currency(this.invoice.grand_total||this.invoice.total||0,{decimal:".",thousand:","})}},watch:{entries:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},"formEntry.receipt_remark":Object(p["a"])((function(e,t){this.$emit("updated",this.formEntry)}),300),formServices:{deep:!0,handler:function(e){var t=this;this.$nextTick((function(){t.$forceUpdate()}))}}},methods:{fill:function(e){if(e=m()(m()({},v),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=f["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=f["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm");else{var t={};for(var a in v)t[a]=e[a];this.defaultFormEntry=t}e.approval_date&&(e.approval_date=f["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=f["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY")),e.due_at&&(e.due_at=f["b"].formatDate(e.due_at,"DD/MM/YYYY")),e.published_at&&(e.published_at=f["b"].formatDate(e.published_at,"DD/MM/YYYY")),this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.errors=v,this.$refs.form&&this.$refs.form.resetValidation()},validate:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.rules,r=!0,t.t0=l()().keys(a);case 3:if((t.t1=t.t0()).done){t.next=16;break}s=t.t1.value,i=0;case 6:if(!(i<a[s].length)){t.next=14;break}return t.next=9,a[s][i](e.formEntry[s]);case 9:n=t.sent,"string"===typeof n&&(e.errors[s]=n,!0===r&&(r=n));case 11:i++,t.next=6;break;case 14:t.next=3;break;case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t)})))()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i,o,c;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=m()({},e.formEntry),r.approval_date&&(r.approval_date=f["b"].formatDate(f["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=f["b"].formatDate(f["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:i=t.sent,o=i.data,"success"===o.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",o.data.store),e.isEditable=!1),o.message?e.$q.notify({message:o.message}):"success"===o.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=m()(m()({},v),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onFormServiceAdd:function(){this.formServices=[].concat(i()(this.formServices),[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}])},onFormServiceDelete:function(e){this.formServices=this.formServices.filter((function(t){return t.id!==e}))},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(d()(l()().mark((function t(){var a,r;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entries.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},b=h,y=(a("6fee"),a("2877")),_=Object(y["a"])(b,r,n,!1,null,null,null);t["a"]=_.exports},9235:function(e,t,a){},"95dc":function(e,t,a){},"9d8b":function(e,t,a){},a6f8:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-receipt q-pa-sm q-gutter-md",class:{editable:e.isEditable}},[t("div",{staticClass:"print-paper-wrapper A4"},[t("div",{staticClass:"print-paper"},[t("div",{staticClass:"paper-content"},[e._m(0),t("div",{staticClass:"receipt-number"},[t("div",{staticClass:"receipt-number-inner"},[t("div",{staticClass:"receipt-number-label"},[e._v("\n              KWITANSI\n            ")]),t("div",{staticClass:"receipt-number-content"},[e._v("\n              Nomor: "+e._s(e.formEntry.receipt_no)+"\n            ")])])]),t("div",{staticClass:"receipt-detail"},[t("div",{staticClass:"receipt-detail-row"},[e._m(1),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-recipient-company-name"},[e._v("\n                "+e._s(e.formEntry.customer_name)+"\n              ")]),t("div",{staticClass:"receipt-detail-recipient-company-address"},[e._v("\n                "+e._s(e.formEntry.customer_address)+"\n              ")])])]),t("div",{staticClass:"receipt-detail-row"},[e._m(2),t("div",{staticClass:"receipt-detail-value"},[e.isEditable?t("q-input",{attrs:{filled:"",type:"textarea",rows:"1",autogrow:"",borderless:"",name:"receipt_remark",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.receipt_remark,error:!!e.errors.receipt_remark,"error-message":e.errors.receipt_remark},model:{value:e.formEntry.receipt_remark,callback:function(t){e.$set(e.formEntry,"receipt_remark",t)},expression:"formEntry.receipt_remark"}}):[e.formEntry.receipt_remark?t("span",[e._v(e._s(e.formEntry.receipt_remark))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"receipt-detail-row"},[e._m(3),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-grand-total"},[e._v("\n                Rp "+e._s(e.formattedGrandTotal)+"\n              ")])])]),t("div",{staticClass:"receipt-detail-row"},[e._m(4),t("div",{staticClass:"receipt-detail-value"},[t("div",{staticClass:"receipt-detail-grand-total-text"},[e._v("\n                # "+e._s(e.formattedGrandTotalTerbilang)+" #\n              ")])])])]),t("div",{staticClass:"receipt-date"},[t("div",{staticClass:"receipt-date-inner"},[e._v("\n            Jakarta, "+e._s(e.formattedPublishedAt)+"\n\n            "),e.showSignatures&&e.templateSettings[e.$constant.setting_key.SignatureImage]?t("div",{staticClass:"person-signature"},[t("img",{staticClass:"signature",attrs:{src:e.templateSettings[e.$constant.setting_key.SignatureImage]}})]):e._e(),e.showSignatures&&e.templateSettings[e.$constant.setting_key.StampImage]?t("div",{staticClass:"signature-stamp"},[t("img",{staticClass:"signature",attrs:{src:e.templateSettings[e.$constant.setting_key.StampImage]}})]):e._e(),e.showSignatures&&e.formEntry.total>=5e6?t("div",{staticClass:"signature-stamp-duty"},[t("img",{staticClass:"signature",attrs:{src:"/img/emtr.png"}})]):e._e()])]),t("div",{staticClass:"receipt-footer"},[e._m(5),t("div",{staticClass:"receipt-signature"},[t("div",{staticClass:"receipt-signature-name"},[e._v("\n              ("+e._s(e.invoice.signatory_name)+")\n            ")]),t("div",{staticClass:"receipt-signature-role"},[e._v("\n              "+e._s(e.invoice.signatory_position)+"\n            ")])])])])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-header"},[t("div",{staticClass:"company-logo-wrapper"},[t("img",{staticClass:"company-logo",attrs:{src:"/img/artacom.png",alt:"artacom logo"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Sudah Terima dari\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Pekerjaan\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Jumlah\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-detail-key"},[t("div",{staticClass:"receipt-detail-label"},[e._v("\n                Terbilang\n              ")]),t("div",{staticClass:"receipt-detail-colon"},[e._v("\n                :\n              ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"receipt-owner"},[t("div",{staticClass:"receipt-owner-name"},[e._v("\n              Artacomindo Jejaring Nusa\n            ")]),t("div",{staticClass:"receipt-owner-address"},[e._v("\n              Menara Palma Lt. 12, Jl. HR. Rasuna Said Blok X2 Kav.6-Jakarta 12950\n            ")]),t("div",{staticClass:"receipt-owner-contact"},[e._v("\n              Telp: 021-293911111, 894 5212, 894 4821\n            ")])])}],s=a("448a"),i=a.n(s),o=a("7ec2"),l=a.n(o),c=a("c973"),d=a.n(c),u=a("ded3"),m=a.n(u),f=(a("caad"),a("2532"),a("cb29"),a("e260"),a("d3b7"),a("ddb0"),a("99af"),a("4de4"),a("bd4c")),p=a("1c16"),v={receipt_remark:null},h={name:"FormReceipt",props:{entry:{type:Object,default:function(){return{}}},invoice:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0},templateSettings:{type:[Object,Array],default:function(){return{}}},showSignatures:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:v,isLoading:!1,rules:{receipt_remark:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Receipt remark")})}]},errors:v,isEditable:!0,defaultFormEntry:v,formServices:[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}]}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedPublishedAt:function(){if(this.invoice.published_at){var e="DD/MM/YYYY";return this.invoice.published_at.includes("-")&&(e="YYYY-MM-DD"),f["b"].formatDate(f["b"].extractDate(this.invoice.published_at,e),"DD-MMMM-YYYY")}},formattedGrandTotalTerbilang:function(){var e=this.invoice.grand_total||this.invoice.total||0;return e?this.$utils.terbilang(e):""},formattedGrandTotal:function(){return this.$utils.currency(this.invoice.grand_total||this.invoice.total||0,{decimal:".",thousand:","})}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},"formEntry.receipt_remark":Object(p["a"])((function(e,t){this.$emit("updated",this.formEntry)}),300),formServices:{deep:!0,handler:function(e){var t=this;this.$nextTick((function(){t.$forceUpdate()}))}}},methods:{fill:function(e){if(e=m()(m()({},v),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=f["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=f["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm");else{var t={};for(var a in v)t[a]=e[a];this.defaultFormEntry=t}e.approval_date&&(e.approval_date=f["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=f["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY")),e.due_at&&(e.due_at=f["b"].formatDate(e.due_at,"DD/MM/YYYY")),e.published_at&&(e.published_at=f["b"].formatDate(e.published_at,"DD/MM/YYYY")),this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.errors=v,this.$refs.form&&this.$refs.form.resetValidation()},validate:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.rules,r=!0,t.t0=l()().keys(a);case 3:if((t.t1=t.t0()).done){t.next=16;break}s=t.t1.value,i=0;case 6:if(!(i<a[s].length)){t.next=14;break}return t.next=9,a[s][i](e.formEntry[s]);case 9:n=t.sent,"string"===typeof n&&(e.errors[s]=n,!0===r&&(r=n));case 11:i++,t.next=6;break;case 14:t.next=3;break;case 16:return t.abrupt("return",r);case 17:case"end":return t.stop()}}),t)})))()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return d()(l()().mark((function t(){var a,r,n,s,i,o,c;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=m()({},e.formEntry),r.approval_date&&(r.approval_date=f["b"].formatDate(f["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=f["b"].formatDate(f["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:i=t.sent,o=i.data,"success"===o.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",o.data.store),e.isEditable=!1),o.message?e.$q.notify({message:o.message}):"success"===o.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=m()(m()({},v),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onFormServiceAdd:function(){this.formServices=[].concat(i()(this.formServices),[{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}])},onFormServiceDelete:function(e){this.formServices=this.formServices.filter((function(t){return t.id!==e}))},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(d()(l()().mark((function t(){var a,r;return l()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},b=h,y=(a("2e09"),a("2877")),_=a("27f9"),g=a("eebe"),w=a.n(g),$=Object(y["a"])(b,r,n,!1,null,null,null);t["a"]=$.exports;w()($,"components",{QInput:_["a"]})},a7ed:function(e,t,a){"use strict";a("23d7")},a8c8:function(e,t,a){"use strict";a("a4d3"),a("e01a");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-invoice q-pa-sm q-gutter-md",class:{editable:e.isEditable}},[t("div",{staticClass:"print-paper-wrapper A4"},[t("div",{staticClass:"print-paper"},[t("div",{staticClass:"paper-content"},[e._m(0),t("div",{staticClass:"invoice-recipient"},[t("div",{staticClass:"invoice-recipient-row"},[e._m(1),t("div",{staticClass:"invoice-recipient-value"},[t("div",{staticClass:"invoice-recipient-company-name"},[e._v("\n                "+e._s(e.formEntry.customer_name)+"\n              ")]),t("div",{staticClass:"invoice-recepient-company-address"},[e._v("\n                "+e._s(e.formEntry.customer_address)+"\n              ")])])]),t("div",{staticClass:"invoice-recipient-row"},[e._m(2),t("div",{staticClass:"invoice-recipient-value"},[(e.isEditable,[e.formEntry.customer_npwp?t("span",[e._v(e._s(e.formEntry.customer_npwp))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})])],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(3),t("div",{staticClass:"invoice-recipient-value"},[e._v("\n              "+e._s(e.formEntry.invoice_no)+"\n            ")])]),t("div",{staticClass:"invoice-recipient-row"},[e._m(4),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedPublishedAt,filled:"",borderless:"",name:"published_at",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.published_at,error:!!e.errors.published_at,"error-message":e.errors.published_at}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.published_at,callback:function(t){e.$set(e.formEntry,"published_at",t)},expression:"formEntry.published_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedPublishedAt?t("span",[e._v(e._s(e.formattedPublishedAt))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(5),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"offering_letter_reference_number",autocomplete:"off",dense:""},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}}):[e.formEntry.offering_letter_reference_number?t("span",[e._v(e._s(e.formEntry.offering_letter_reference_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(6),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:""},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}}):[e.formEntry.fo_offering_letter_reference_number?t("span",[e._v(e._s(e.formEntry.fo_offering_letter_reference_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(7),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedApprovalDate,filled:"",borderless:"",name:"approval_date",autocomplete:"off",dense:""}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedApprovalDate?t("span",[e._v(e._s(e.formattedApprovalDate))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(8),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{value:e.formattedFoApprovalDate,filled:"",borderless:"",name:"fo_approval_date",autocomplete:"off",dense:""}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedFoApprovalDate?t("span",[e._v(e._s(e.formattedFoApprovalDate))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row"},[e._m(9),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"issuance_number",autocomplete:"off",dense:""},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}}):[e.formEntry.issuance_number?t("span",[e._v(e._s(e.formEntry.issuance_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-recipient-row last-row"},[e._m(10),t("div",{staticClass:"invoice-recipient-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"fo_issuance_number",autocomplete:"off",dense:""},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}}):[e.formEntry.fo_issuance_number?t("span",[e._v(e._s(e.formEntry.fo_issuance_number))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])]),t("div",{staticClass:"invoice-table"},[e._m(11),e._l(e.formServices,(function(a,r){return[t("form-invoice-service",{key:"srv"+a.id,ref:"formService".concat(r),refInFor:!0,attrs:{index:r,id:a.id,editable:e.isEditable,description:a.description,qty:a.qty,"unit-price":a.unit_price},on:{"update:description":function(t){return e.$set(a,"description",t)},"update:qty":function(t){return e.$set(a,"qty",t)},"update:unitPrice":function(t){return e.$set(a,"unit_price",t)},"update:unit-price":function(t){return e.$set(a,"unit_price",t)},delete:e.onFormServiceDelete}})]})),t("form-invoice-service",{attrs:{index:null,id:e.$utils.generateId(),editable:!1}}),e.isEditable?t("div",{staticClass:"invoice-table-row"},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"}),t("div",{staticClass:"invoice-table-description"},[t("q-btn",{staticClass:"btn-form-invoice-service-delete",staticStyle:{"min-width":"5rem",width:"60%",margin:"0 auto",display:"block"},attrs:{unelevated:"",color:"primary",size:"sm",padding:"sm",icon:"add"},on:{click:function(t){return t.preventDefault(),e.onFormServiceAdd.apply(null,arguments)}}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("Add")))])])],1)]),e._m(12)]):e._e()],2),t("div",{staticClass:"invoice-payment"},[t("div",{staticClass:"invoice-payment-left"},[e.isEditable?t("q-btn-dropdown",{staticClass:"btn-edit",attrs:{size:"sm",icon:"edit",flat:"",dense:"",color:"primary",rounded:""}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.onTransferToTypeChange(e.$constant.transfer_to_type.VirtualAccount)}}},[e._v("\n                  "+e._s(e.$t("Virtual Account"))+"\n                ")]),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.onTransferToTypeChange(e.$constant.transfer_to_type.BankTransfer)}}},[e._v("\n                  "+e._s(e.$t("Bank Transfer"))+"\n                ")])],1)],1):e._e(),e.formEntry.transfer_to_type==e.$constant.transfer_to_type.BankTransfer?[e._v("\n              Pembayaran dapat ditransfer ke rekening:"),t("br"),e._v("\n              "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferName])),t("br"),e._v("\n              A/C "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferAccountNumber])),t("br"),e._v("\n              A/N "+e._s(e.templateSettings[e.$constant.setting_key.BankTransferAccountName])+"\n            ")]:e.formEntry.transfer_to_type==e.$constant.transfer_to_type.VirtualAccount?[e._v("\n              Pembayaran dapat ditransfer ke:"),t("br"),t("div",{staticClass:"virtual-account-detail"},[e._v("\n                "+e._s(e.customer.transfer_to_virtual_account_bank_name)+" Virtual Account"),t("br"),e._v("\n                "+e._s(e.customer.transfer_to_virtual_account_number)+"\n              ")])]:e._e()],2),t("div",{staticClass:"invoice-payment-right"},[t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                Sub Total\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedSubTotal)+"\n              ")])]),t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                VAT (PPN "+e._s(e.formEntry.ppn_percentage)+"%)\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedPpnTotal)+"\n              ")])]),t("div",{staticClass:"invoice-payment-right-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                "+e._s(e.$t("Stamp Duty"))+"\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e.isEditable?t("q-input",{attrs:{filled:"",borderless:"",name:"stamp_duty",autocomplete:"off",dense:""},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.formEntry.stamp_duty,callback:function(t){e.$set(e.formEntry,"stamp_duty",t)},expression:"formEntry.stamp_duty"}}):[e.formEntry.stamp_duty?t("span",[e._v(e._s(e.formEntry.stamp_duty))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-payment-right-row last-row"},[t("div",{staticClass:"invoice-payment-right-key"},[e._v("\n                Total\n              ")]),t("div",{staticClass:"invoice-payment-right-value"},[e._v("\n                "+e._s(e.formattedGrandTotal)+"\n              ")])])])]),t("div",{staticClass:"invoice-note"},[t("div",{staticClass:"invoice-note-row"},[e._v("\n            \n          ")]),t("div",{staticClass:"invoice-note-row"},[e._v("\n            Terbilang: "),t("em",{staticClass:"transfer-text"},[e._v("# "+e._s(e.formattedGrandTotalTerbilang)+" #")])]),t("div",{staticClass:"invoice-note-row bold"},[t("div",{staticClass:"invoice-note-row-split"},[t("div",{staticClass:"invoice-note-row-split-left"},[e._v("\n                "+e._s(e.$t("Due date"))+"\n              ")]),t("div",{staticClass:"invoice-note-row-split-right"},[t("div",{staticClass:"invoice-due-at-wrapper"},[t("span",{staticClass:"invoice-due-at-sep"},[e._v(":")]),e.isEditable?t("q-input",{attrs:{value:e.formattedDueAt,filled:"",borderless:"",name:"due_at",autocomplete:"off",dense:"","lazy-rules":"ondemand",rules:e.rules.due_at,error:!!e.errors.due_at,"error-message":e.errors.due_at}},[t("q-menu",[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.due_at,callback:function(t){e.$set(e.formEntry,"due_at",t)},expression:"formEntry.due_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1):[e.formattedDueAt?t("span",[e._v(e._s(e.formattedDueAt))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])])]),t("div",{staticClass:"invoice-note-row"},[t("div",{staticClass:"note-wrapper"},[t("span",{staticClass:"note-label"},[e._v("\n                Catatan:\n              ")]),t("div",{staticClass:"note-input-wrapper"},[e.isEditable?t("text-editor",{attrs:{filled:"",borderless:"","min-height":"1rem",name:"note",autocomplete:"off",dense:""},model:{value:e.formEntry.note,callback:function(t){e.$set(e.formEntry,"note",t)},expression:"formEntry.note"}}):[e.formEntry.note?t("span",{domProps:{innerHTML:e._s(e.formEntry.note)}}):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)])])]),t("div",{staticClass:"invoice-signature"},[t("div",{staticClass:"invoice-signature-inner"},[t("div",{staticClass:"invoice-signature-date",class:{expand:!e.templateSettings[e.$constant.setting_key.SignatureImage]}},[e._v("\n              Jakarta, "+e._s(e.formattedPublishedAt)+"\n            ")]),e.showSignatures&&e.templateSettings[e.$constant.setting_key.SignatureImage]?t("div",{staticClass:"person-signature"},[t("img",{staticClass:"signature",attrs:{src:e.templateSettings[e.$constant.setting_key.SignatureImage]}})]):e._e(),e.showSignatures&&e.templateSettings[e.$constant.setting_key.StampImage]?t("div",{staticClass:"signature-stamp"},[t("img",{staticClass:"signature",attrs:{src:e.templateSettings[e.$constant.setting_key.StampImage]}})]):e._e(),e.showSignatures&&e.formEntry.total>=5e6?t("div",{staticClass:"signature-stamp-duty"},[t("img",{staticClass:"signature",attrs:{src:"/img/emtr.png"}})]):e._e(),t("div",{staticClass:"invoice-signature-person"},[t("div",{staticClass:"invoice-signature-person-name"},[e._v("\n                ("+e._s(e.formEntry.signatory_name)+")\n              ")]),t("div",{staticClass:"invoice-signature-person-role"},[e._v("\n                "+e._s(e.formEntry.signatory_position)+"\n              ")])])])])])])])])},n=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-header"},[t("div",{staticClass:"invoice-header-inner"},[t("div",{staticClass:"company-logo-wrapper"},[t("img",{staticClass:"company-logo",attrs:{src:"/img/artacom.png",alt:"artacom logo"}})]),t("div",{staticClass:"invoice-header-company"},[t("h1",{staticClass:"company-name"},[e._v("Artacomindo Jejaring Nusa")]),t("p",{staticClass:"company-address"},[e._v("Menara Palma Lt. 12, Jl. HR. Rasuna Said Blok X2 Kav.6-Jakarta 12950")])])]),t("div",{staticClass:"invoice-header-bottom"},[e._v("\n            INVOICE\n          ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Kepada Yth/To\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                NPWP\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Nomor Invoice/Invoice Number\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal/Date\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Surat Penawaran/Our Ref.\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Surat Penawaran FO/Our Ref.\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal Persetujuan SAT-HO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Tanggal Persetujuan SAT-HO untuk FO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Dasar untuk menerbitkan Invoice Tagihan\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-recipient-key"},[t("div",{staticClass:"invoice-recipient-label"},[e._v("\n                Dasar untuk menerbitkan Invoice Tagihan FO\n              ")]),t("div",{staticClass:"invoice-recipient-colon"},[e._v(":")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-row invoice-table-header"},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"},[e._v("\n                No.\n              ")]),t("div",{staticClass:"invoice-table-description"},[e._v("\n                Description\n              ")])]),t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"},[e._v("\n                Qty\n              ")]),t("div",{staticClass:"invoice-table-unit-price"},[e._v("\n                Unit Price\n              ")]),t("div",{staticClass:"invoice-table-sub-total"},[e._v("\n                Sub Total\n              ")])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"}),t("div",{staticClass:"invoice-table-unit-price"}),t("div",{staticClass:"invoice-table-sub-total"})])}],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("448a"),d=a.n(c),u=a("ded3"),m=a.n(u),f=(a("d3b7"),a("159b"),a("cb29"),a("d81d"),a("e260"),a("ddb0"),a("99af"),a("4de4"),a("bd4c")),p=a("1c16"),v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"invoice-table-row form-invoice-service",class:{shrink:null===e.index}},[t("div",{staticClass:"invoice-table-left"},[t("div",{staticClass:"invoice-table-no"},[e._v("\n      "+e._s(null===e.index?"":e.index+1)+"\n    ")]),t("div",{staticClass:"invoice-table-description"},[e.editable?t("q-input",{attrs:{filled:"",type:"textarea",rows:"1",autogrow:"",borderless:"",name:"description[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.description,"error-message":e.errors.description},model:{value:e.inputDescription,callback:function(t){e.inputDescription=t},expression:"inputDescription"}}):[e.inputDescription?t("span",[e._v(e._s(e.inputDescription))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2)]),t("div",{staticClass:"invoice-table-right"},[t("div",{staticClass:"invoice-table-qty"},[e.editable?t("q-input",{attrs:{filled:"",borderless:"",name:"qty[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.qty,"error-message":e.errors.qty},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.inputQty,callback:function(t){e.inputQty=t},expression:"inputQty"}}):[e.inputQty?t("span",[e._v(e._s(e.formatCurrency(e.inputQty)))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2),t("div",{staticClass:"invoice-table-unit-price",class:{editable:e.editable}},[e.editable?t("q-input",{attrs:{filled:"",borderless:"",name:"qty[".concat(e.id,"]"),autocomplete:"off",dense:"",error:!!e.errors.unit_price,"error-message":e.errors.unit_price},on:{keypress:function(t){return e.$globalListeners.onKeypressOnlyFloat(t)}},model:{value:e.inputUnitPrice,callback:function(t){e.inputUnitPrice=t},expression:"inputUnitPrice"}}):[e.inputUnitPrice?t("span",[e._v(e._s(e.formatCurrency(e.inputUnitPrice)))]):t("span",{domProps:{innerHTML:e._s("&nbsp;")}})]],2),t("div",{staticClass:"invoice-table-sub-total"},[e._v("\n      "+e._s(e.formattedSubTotal)+"\n    ")])]),e.editable&&e.index>0?t("q-btn",{staticClass:"btn-form-invoice-service-delete",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete.apply(null,arguments)}}},[t("q-tooltip",[e._v("\n      "+e._s(e.$t("Delete"))+"\n    ")])],1):e._e()],1)},h=[],b=(a("a9e3"),{name:"FormInvoiceService",props:{index:[String,Number],id:[String,Number],description:String,qty:[String,Number],unitPrice:[String,Number],editable:{type:Boolean,default:!1}},data:function(){return{inputDescription:null,inputQty:null,inputUnitPrice:null,errors:{description:null,qty:null,unit_price:null}}},computed:{subTotal:function(){return(parseFloat(this.inputQty,10)||0)*(parseFloat(this.inputUnitPrice,10)||0)||0},formattedSubTotal:function(){return null===this.index?null:this.formatCurrency(this.subTotal)}},watch:{description:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputDescription&&(this.inputDescription=e)}},inputDescription:function(e,t){e!==t&&e!==this.description&&(this.$emit("update:description",e),this.errors.description=null)},qty:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputQty&&(this.inputQty=e)}},inputQty:function(e,t){e!==t&&e!==this.qty&&(this.$emit("update:qty",e),this.errors.qty=null)},unitPrice:{immediate:!0,handler:function(e,t){e!==t&&e!==this.inputUnitPrice&&(this.inputUnitPrice=e)}},inputUnitPrice:function(e,t){e!==t&&e!==this.unitPrice&&(this.$emit("update:unit-price",e),this.errors.unit_price=null)}},methods:{formatCurrency:function(e){return e?this.$utils.currency(e,{decimal:".",thousand:","}):0},onDelete:function(){this.$emit("delete",this.id)},validate:function(){var e={description:null,qty:null,unit_price:null};return this.inputDescription||(e.description=this.$t("{field} is required",{field:this.$t("description")})),this.inputQty||(e.qty=this.$t("{field} is required",{field:this.$t("qty")})),""!==this.inputUnitPrice&&null!==this.inputUnitPrice||(e.unit_price=this.$t("{field} is required",{field:this.$t("unit price")})),this.errors=e,e.description||e.qty||e.unit_price||!0}}}),y=b,_=(a("6682"),a("2877")),g=a("27f9"),w=a("9c40"),$=a("05c0"),C=a("eebe"),x=a.n(C),q=Object(_["a"])(y,v,h,!1,null,null,null),k=q.exports;x()(q,"components",{QInput:g["a"],QBtn:w["a"],QTooltip:$["a"]});var E={distribution_center_id:null,franchise_id:null,published_at:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,approval_date:null,fo_approval_date:null,issuance_number:null,fo_issuance_number:null,sub_total:null,ppn_percentage:null,ppn_total:null,stamp_duty:null,total:null,due_at:null,note:"",signatory_name:null,signatory_position:null},D={name:"FormPage",components:{FormInvoiceService:k},props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,syncing:Boolean,fetching:Boolean,editable:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},templateSettings:{type:[Object,Array],default:function(){return{}}},customer:{type:Object,default:function(){return{}}},showSignatures:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:E,isSyncing:!1,isLoading:!1,rules:{published_at:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Publish date")})}],due_at:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Due date")})}]},errors:E,isEditable:!0,defaultFormEntry:E,formServices:[],emitChanges:null}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.formEntry.approval_date)return f["b"].formatDate(f["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedFoApprovalDate:function(){if(this.formEntry.fo_approval_date)return f["b"].formatDate(f["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedPublishedAt:function(){if(this.formEntry.published_at)return f["b"].formatDate(f["b"].extractDate(this.formEntry.published_at,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedDueAt:function(){if(this.formEntry.due_at)return f["b"].formatDate(f["b"].extractDate(this.formEntry.due_at,"DD/MM/YYYY"),"DD-MMMM-YYYY")},formattedGrandTotalTerbilang:function(){return this.$utils.terbilang(this.grandTotal)},grandTotal:function(){return this.subTotal+this.ppnTotal+this.stampDuty},formattedGrandTotal:function(){return this.$utils.currency(this.grandTotal,{decimal:".",thousand:","})},ppnTotal:function(){return this.subTotal*((this.formEntry.ppn_percentage||0)/100)},formattedPpnTotal:function(){return this.$utils.currency(this.ppnTotal,{decimal:".",thousand:","})},subTotal:function(){var e=0;return this.formServices.forEach((function(t){if(t.qty&&t.unit_price){var a=(parseFloat(t.qty,10)||0)*(parseFloat(t.unit_price,10)||0)||0;e+=a}})),e},formattedSubTotal:function(){return this.$utils.currency(this.subTotal,{decimal:".",thousand:","})},stampDuty:function(){return this.formEntry.stamp_duty&&parseFloat(this.formEntry.stamp_duty,10)||0}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},isLoading:function(e,t){e!==t&&e!==this.loading&&this.$emit("update:loading",e)},syncing:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isSyncing&&(this.isSyncing=!0)}},isSyncing:function(e,t){e!==t&&e!==this.syncing&&this.$emit("update:syncing",e)},formEntry:{deep:!0,handler:function(e){var t=this;this.isSyncing=!0,this.$nextTick((function(){setTimeout((function(){t.emitChanges()}),100)}))}},formServices:{deep:!0,handler:function(e){var t=this;this.isSyncing=!0,this.$nextTick((function(){t.$forceUpdate(),setTimeout((function(){t.emitChanges()}),100)}))}},templateSettings:{deep:!0,handler:function(e){var t=this;if(this.isCreate){var a=e||{},r=this.$constant.setting_key||{};this.formEntry.ppn_percentage=a[r.PpnPercentage]?parseFloat(a[r.PpnPercentage]):null,this.formEntry.stamp_duty=a[r.StampDuty]?parseFloat(a[r.StampDuty]):null,this.formEntry.signatory_name=a[r.SignatoryName],this.formEntry.signatory_position=a[r.SignatoryPosition],this.formEntry.note=a[r.InvoiceNote],this.$nextTick((function(){t.$forceUpdate()}))}}}},mounted:function(){var e=this;this.emitChanges=Object(p["a"])((function(){e.$emit("updated",m()(m()({},e.formEntry),{},{services:d()(e.formServices.map((function(e){return m()({},e)}))),sub_total:e.subTotal,ppn:e.ppnTotal,grand_total:e.grandTotal,grand_total_terbilang:e.formattedGrandTotalTerbilang})),e.isSyncing=!1}),750)},methods:{fill:function(e){var t=this;if(e=m()(m()({},E),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=f["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=f["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm");else{var a={};for(var r in E)a[r]=e[r];this.defaultFormEntry=a}e.approval_date&&(e.approval_date=f["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=f["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY")),e.due_at&&(e.due_at=f["b"].formatDate(e.due_at,"DD/MM/YYYY")),e.published_at&&(e.published_at=f["b"].formatDate(e.published_at,"DD/MM/YYYY")),e.transfer_to_type||(e.transfer_to_type=this.$constant.transfer_to_type.BankTransfer),this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId);var n=e.invoice_services||[];delete e.invoice_services,this.formEntry=e,n.length?this.formServices=n:this.formServices=[this.generateFormService()],this.$refs.form&&this.$refs.form.resetValidation(),setTimeout((function(){t.emitChanges()}),250)},validate:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c,d,u,m;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.rules,r=!0,t.t0=i()().keys(a);case 3:if((t.t1=t.t0()).done){t.next=16;break}s=t.t1.value,o=0;case 6:if(!(o<a[s].length)){t.next=14;break}return t.next=9,a[s][o](e.formEntry[s]);case 9:n=t.sent,"string"===typeof n&&(e.errors[s]=n,!0===r&&(r=n));case 11:o++,t.next=6;break;case 14:t.next=3;break;case 16:for(l=e.formServices,c=l.length,m=0;m<c;m++)u=e.$refs["formService".concat(m)],Array.isArray(u)&&(u=u[0]),u&&(d=u.validate(),!0===r&&(r=d));return t.abrupt("return",r);case 20:case"end":return t.stop()}}),t)})))()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=m()({},e.formEntry),r.approval_date&&(r.approval_date=f["b"].formatDate(f["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=f["b"].formatDate(f["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",l.data.store),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=m()(m()({},E),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onFormServiceAdd:function(){this.formServices=[].concat(d()(this.formServices),[this.generateFormService()])},generateFormService:function(){return{id:this.$utils.generateId(),description:null,qty:null,unit_price:null}},onFormServiceDelete:function(e){this.formServices=this.formServices.filter((function(t){return t.id!==e}))},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))},onTransferToTypeChange:function(e){this.formEntry.transfer_to_type=e}}},Y=D,M=a("4e73"),P=a("52ee"),S=a("f20b"),F=a("1c1c"),L=a("66e5"),T=a("7f67"),A=Object(_["a"])(Y,r,n,!1,null,null,null);t["a"]=A.exports;x()(A,"components",{QInput:g["a"],QMenu:M["a"],QDate:P["a"],QBtn:w["a"],QBtnDropdown:S["a"],QList:F["a"],QItem:L["a"]}),x()(A,"directives",{ClosePopup:T["a"]})},aad6:function(e,t,a){"use strict";a("8219")},af39:function(e,t,a){},b080:function(e,t,a){"use strict";a("b3e1")},b3e1:function(e,t,a){},b494:function(e,t,a){},b5b6:function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("q-card-section",[t("div",{staticClass:"row"},[t("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(t){e.$set(e.formEntry,"code",t)},expression:"formEntry.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("NPWP"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"npwp",mask:"##.###.###.#-###.###",autocomplete:"off",dense:!e.readonly,rules:e.rules.npwp,error:!!e.errors.npwp,"error-message":e.errors.npwp},model:{value:e.formEntry.npwp,callback:function(t){e.$set(e.formEntry,"npwp",t)},expression:"formEntry.npwp"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(t){e.$set(e.formEntry,"location",t)},expression:"formEntry.location"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(t){e.$set(e.formEntry,"address",t)},expression:"formEntry.address"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Landline Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"landline_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.landline_number,error:!!e.errors.landline_number,"error-message":e.errors.landline_number},model:{value:e.formEntry.landline_number,callback:function(t){e.$set(e.formEntry,"landline_number",t)},expression:"formEntry.landline_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Phone Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"phone_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.phone_number,error:!!e.errors.phone_number,"error-message":e.errors.phone_number},model:{value:e.formEntry.phone_number,callback:function(t){e.$set(e.formEntry,"phone_number",t)},expression:"formEntry.phone_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}})],1)]),t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Virtual Account")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.transfer_to_virtual_account_bank_name,label:e.$t("Bank Name"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_bank_name",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Bank Name"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_bank_name",autocomplete:"off",dense:!e.readonly,rules:e.rules.transfer_to_virtual_account_bank_name,error:!!e.errors.transfer_to_virtual_account_bank_name,"error-message":e.errors.transfer_to_virtual_account_bank_name},model:{value:e.formEntry.transfer_to_virtual_account_bank_name,callback:function(t){e.$set(e.formEntry,"transfer_to_virtual_account_bank_name",t)},expression:"formEntry.transfer_to_virtual_account_bank_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.transfer_to_virtual_account_number,label:e.$t("Virtual Account Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Virtual Account Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"transfer_to_virtual_account_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.transfer_to_virtual_account_number,error:!!e.errors.transfer_to_virtual_account_number,"error-message":e.errors.transfer_to_virtual_account_number},model:{value:e.formEntry.transfer_to_virtual_account_number,callback:function(t){e.$set(e.formEntry,"transfer_to_virtual_account_number",t)},expression:"formEntry.transfer_to_virtual_account_number"}})],1)]),t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Login Credentials")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.email,label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly,rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(t){e.$set(e.formEntry,"email",t)},expression:"formEntry.email"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.username,label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly,rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(t){e.$set(e.formEntry,"username",t)},expression:"formEntry.username"}})],1)]),e.isCreate?t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 co-lg-3"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password,label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly,rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-3"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password_confirmation,label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly,rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)]):e._e(),e.readonly?[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),t("div",{staticClass:"col-xs-12 col-md-3"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?t("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[t("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[t("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[t("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[t("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?t("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1),e.isCreate?e._e():t("div",{staticClass:"table-relation"},[t("div",{staticClass:"table-relation-header"},[t("q-tabs",{attrs:{shrink:"","no-caps":""},model:{value:e.childTab,callback:function(t){e.childTab=t},expression:"childTab"}},[t("q-tab",{attrs:{name:"franchise",label:e.$t("Franchise")}}),t("q-tab",{attrs:{name:"store",label:e.$t("Store")}})],1),t("q-space"),"store"===e.childTab&&e.$auth.can("create.store")?t("q-btn",{staticClass:"btn-page-stores-import q-mr-sm",attrs:{color:"default",size:"sm",icon:"cloud_upload"},on:{click:e.onFormImport}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("Import")))])]):e._e(),"franchise"===e.childTab&&e.$auth.can("create.franchise")?t("q-btn",{staticClass:"btn-page-franchises-import q-mr-sm",attrs:{color:"default",size:"sm",icon:"cloud_upload"},on:{click:e.onFormImport}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("Import")))])]):e._e(),"franchise"===e.childTab&&e.$auth.can("create.franchise")?t("q-btn",{staticClass:"btn-page-franchise-create",attrs:{color:"primary",size:"sm",icon:"add"},on:{click:e.onTableRelationFranchiseCreate}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("New {entity}",{entity:e.$t("Franchise")})))])]):e._e(),"store"===e.childTab&&e.$auth.can("create.store")?t("q-btn",{staticClass:"btn-page-store-create",attrs:{color:"primary",size:"sm",icon:"add"},on:{click:e.onTableRelationStoreCreate}},[t("span",{staticClass:"q-ml-xs"},[e._v(e._s(e.$t("New {entity}",{entity:e.$t("Store")})))])]):e._e()],1),e.entry&&e.entry.id?[t("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["franchise"===e.childTab?t("table-franchise",{key:"franchise",attrs:{"distribution-center":e.entry,"as-relation":""}}):"store"===e.childTab?t("table-store",{key:"store",ref:"tableStore",attrs:{"distribution-center":e.entry,"as-relation":""}}):e._e()],1)]:e._e()],2),t("dialog-import",e._b({attrs:{status:e.currentImportStatus,"import-path":e.currentImportPath,"processing-page":e.currentImportProcessingPage,"has-error":e.currentImportHasError},on:{"update:status":e.onFormImportUpdateStatus,success:e.onFormImportSuccess},model:{value:e.isFormImportVisible,callback:function(t){e.isFormImportVisible=t},expression:"isFormImportVisible"}},"dialog-import",e.dialogImportProps,!1))],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("ded3"),d=a.n(c),u=(a("ac1f"),a("00b4"),a("5319"),a("cb29"),a("14d9"),a("bd4c")),m=a("2f62"),f=(a("841c"),a("4de4"),a("d3b7"),a("d81d"),a("e260"),a("ddb0"),function(){var e=this,t=e._self._c;return t("q-card",[t("q-toolbar",[t("div",{staticClass:"col col-md-3 col-lg-2 quick-search-datatable"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("name")}),"stack-label":"",debounce:300,dense:"",clearable:"","clear-icon":"close"},on:{input:function(t){return e.onRequest()}},model:{value:e.search.fuzzy.value,callback:function(t){e.$set(e.search.fuzzy,"value",t)},expression:"search.fuzzy.value"}})],1),t("div",{staticClass:"col col-md-3 col-lg-2 q-ml-auto row"},[t("q-btn",{staticClass:"q-ml-auto btn-datatable-advanced-search",attrs:{unelevated:"",color:"default",size:"sm",icon:"search",disable:e.isLoading},on:{click:e.onAdvancedSearch}},[e._v("\n        "+e._s(e.$t("Advanced Search"))+"\n      ")]),t("q-btn",{staticClass:"q-ml-sm btn-datatable-view-columns",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"view_column"}},[t("q-tooltip",[e._v("\n          "+e._s(e.$t("View Column"))+"\n        ")]),t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md",staticStyle:{"min-width":"200px"}},[t("div",{staticClass:"column"},[t("q-option-group",{staticStyle:{"margin-left":"-16px"},attrs:{options:e.columns.map((function(e){return{label:e.realLabel||e.label,value:e.name}})).filter((function(e){return e.label})),type:"checkbox",size:"xs"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1)])])],1)],1)]),t("q-table",{attrs:{data:e.entries,columns:e.columns,"visible-columns":e.visibleColumns,loading:e.isLoading,pagination:e.pagination,"binary-state-sort":"","row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"body-cell-id",fn:function(a){var r=a.rowIndex;return[t("q-td",[e._v(e._s(r+1))])]}},{key:"body-cell-status",fn:function(e){var a=e.row;return[t("q-td",{staticClass:"text-center"},[t("q-icon",{staticClass:"q-mr-lg",attrs:{name:a.status?"check":"close"}})],1)]}},{key:"body-cell-action",fn:function(a){var r=a.row;return[t("q-td",{staticClass:"text-right table-cell-action"},[t("q-btn",{staticClass:"btn-datatable-view-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"visibility"},on:{click:function(t){return t.preventDefault(),e.onView(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("View"))+"\n          ")])],1),r.has_password?r.has_password&&e.$auth.can("edit.franchise")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-update-password-user",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"lock_open"},on:{click:function(t){return t.preventDefault(),e.onEditPassword(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Update {entity}",{entity:e.$t("Password")}))+"\n          ")])],1):e._e():t("q-btn",{staticClass:"q-ml-xs btn-datatable-set-login-credentials-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"login"},on:{click:function(t){return t.preventDefault(),e.onSetLoginCredentials(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Set login credentials"))+"\n          ")])],1),e.$auth.can("delete.franchise")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-delete-franchise",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Delete"))+"\n          ")])],1):e._e()],1)]}},{key:"no-data",fn:function(a){var r=a.icon,n=a.message,s=a.filter;return[t("div",{staticClass:"full-width row flex-center text-center q-gutter-sm"},[t("q-icon",{attrs:{size:"2em",name:s?"filter_b_and_w":r}}),t("span",[e._v("\n          "+e._s(n)+"\n        ")])],1)]}}])}),t("q-dialog",{model:{value:e.isFormLoginCredentialsVisible,callback:function(t){e.isFormLoginCredentialsVisible=t},expression:"isFormLoginCredentialsVisible"}},[t("form-login-credentials",{attrs:{entry:e.formEntry,loading:e.isLoading},on:{success:e.onFormLoginCredentialsSuccess,cancel:e.onFormLoginCredentialsCancel}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:e.isFormPasswordVisible,callback:function(t){e.isFormPasswordVisible=t},expression:"isFormPasswordVisible"}},[t("form-password",{attrs:{entry:e.formPassword,loading:e.isLoading},on:{success:e.onFormPasswordSuccess,cancel:e.onFormPasswordCancel}})],1)],1)}),p=[],v=(a("b64b"),a("e9c4"),function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm"},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("Login Credentials"))+"\n    ")]),t("small",{staticClass:"q-px-md"},[e._v("\n      "+e._s(e.entry.name)+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"email",label:e.$t("Email")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(t){e.$set(e.formEntry,"email",t)},expression:"formEntry.email"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{label:e.$t("Username"),filled:"",dense:"","stack-label":"",rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(t){e.$set(e.formEntry,"username",t)},expression:"formEntry.username"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Confirm Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)])]),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("Save"),color:"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)}),h=[],b={email:null,username:null,password:null,password_confirmation:null},y={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return b}},asView:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:b,isLoading:!1,rules:{username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:b}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},b),e),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.form.validate();case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return r={email:e.formEntry.email,username:e.formEntry.username,password:e.formEntry.password,password_confirmation:e.formEntry.password_confirmation},e.isLoading=!0,t.prev=9,t.next=12,e.$api.patch("/v1/franchises/".concat(e.entry.id),r);case 12:n=t.sent,s=n.data,"success"===s.status&&e.$emit("success"),"success"===s.status?e.$q.notify({message:e.$t("{entity} updated",{entity:e.$t("Login Credentials")})}):e.$t("Failed to update {entity}",{entity:e.$t("login credentials")}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),t.t0.validation?e.errors=d()(d()({},b),t.t0.validation.errors):e.$q.notify(t.t0);case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")}}},_=y,g=(a("0f4b"),a("2877")),w=a("f09f"),$=a("0378"),C=a("a370"),x=a("27f9"),q=a("eb85"),k=a("4b7e"),E=a("9c40"),D=a("eebe"),Y=a.n(D),M=Object(g["a"])(_,v,h,!1,null,"e227b5ba",null),P=M.exports;Y()(M,"components",{QCard:w["a"],QForm:$["a"],QCardSection:C["a"],QInput:x["a"],QSeparator:q["a"],QCardActions:k["a"],QBtn:E["a"]});var S=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm"},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("Update {entity}",{entity:e.$t("Password")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(t){e.$set(e.formEntry,"password",t)},expression:"formEntry.password"}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{type:"password",label:e.$t("Confirm Password")+"*",filled:"",dense:"","stack-label":"",rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(t){e.$set(e.formEntry,"password_confirmation",t)},expression:"formEntry.password_confirmation"}})],1)])]),t("q-separator"),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("Update"),color:"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},F=[],L={name:null,password:null,password_confirmation:null},T={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return L}},asView:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:L,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:L}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},L),e),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$refs.form.validate();case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return r={password:e.formEntry.password,password_confirmation:e.formEntry.password_confirmation},e.isLoading=!0,t.prev=9,t.next=12,e.$api.patch("/v1/customers/".concat(e.formEntry.id),r);case 12:n=t.sent,s=n.data,"success"===s.status&&e.$emit("success"),"success"===s.status?e.$q.notify({message:e.$t("{entity} updated",{entity:e.$t("Password")})}):e.$t("Failed to update {entity}",{entity:e.$t("password")}),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),t.t0.validation?e.errors=d()(d()({},L),t.t0.validation.errors):e.$q.notify(t.t0);case 21:e.isLoading=!1;case 22:case"end":return t.stop()}}),t,null,[[9,18]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")}}},A=T,N=(a("6880"),Object(g["a"])(A,S,F,!1,null,"68cd8c64",null)),I=N.exports;Y()(N,"components",{QCard:w["a"],QForm:$["a"],QCardSection:C["a"],QInput:x["a"],QSeparator:q["a"],QCardActions:k["a"],QBtn:E["a"]});var Q=a("05c2"),O={name:"TableFranchise",components:{FormLoginCredentials:P,FormPassword:I},props:{distributionCenter:{type:Object,default:function(){return{}}},asRelation:{type:Boolean,default:!1}},mixins:[Q["a"]],data:function(){var e={fuzzy:{value:null}};return{entries:[],columns:[{name:"id",field:"id",label:"#",realLabel:this.$t("ID"),align:"left",style:"max-width: 25px",headerClasses:"table-header-id",classes:"table-cell-id",sortable:!0},{name:"code",field:"code",label:this.$t("Code"),headerClasses:"table-header-code",classes:"table-cell-code",align:"left",sortable:!0},{name:"name",field:"name",label:this.$t("Name"),headerClasses:"table-header-name",classes:"table-cell-name",align:"left",sortable:!0},{name:"npwp",field:"npwp",format:function(e,t){return t.npwp_formatted},label:this.$t("NPWP"),headerClasses:"table-header-npwp",classes:"table-cell-npwp",align:"left",sortable:!0},{name:"location",field:"location",label:this.$t("Location"),headerClasses:"table-header-location",classes:"table-cell-location",align:"left",sortable:!0},{name:"landline_number",field:"landline_number",label:this.$t("Landline Number"),headerClasses:"table-header-landline_number",classes:"table-cell-landline_number",align:"left",sortable:!0},{name:"phone_number",field:"phone_number",label:this.$t("Phone Number"),headerClasses:"table-header-phone_number",classes:"table-cell-phone_number",align:"left",sortable:!0},{name:"email",field:"email",label:this.$t("Email"),headerClasses:"table-header-email",classes:"table-cell-email",align:"left",sortable:!0},{name:"username",field:"username",label:this.$t("Username"),headerClasses:"table-header-username",classes:"table-cell-username",align:"left",sortable:!0},{name:"created_at",field:"created_at",label:this.$t("Created At"),align:"left",headerClasses:"table-header-created_at",classes:"table-cell-created_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY HH:mm")},sortable:!0},{name:"action",label:"",align:"right",headerClasses:"table-header-action",classes:"table-cell-action",required:!0}],visibleColumns:["id","code","name","location","email","created_at"],isLoading:!1,isAdvancedSearchVisible:!1,isFormEntryVisible:!1,isFormEntryReadonly:!1,isFormPasswordVisible:!1,isFormLoginCredentialsVisible:!1,isFormImportVisible:!1,formEntry:{},formPassword:{},pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:15,rowsNumber:0},selected:[],search:e,advancedSearch:e}},mounted:function(){var e=this;return l()(i()().mark((function t(){return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onRequest();case 2:return t.next=4,e.$nextTick();case 4:case"end":return t.stop()}}),t)})))()},computed:d()({},Object(m["c"])({currentImportStatus:"imports/status",currentImportPath:"imports/importPath",currentImportProcessingPage:"imports/processingPage",currentImportHasError:"imports/hasError"})),methods:{onRequest:function(e){var t=this;return l()(i()().mark((function a(){var r,n,s;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isLoading){a.next=2;break}return a.abrupt("return");case 2:if(!t.asRelation||t.distributionCenter.id){a.next=4;break}return a.abrupt("return");case 4:return e||(e={pagination:t.pagination}),t.isLoading=!0,r={table_pagination:d()({},e.pagination||{}),table_search:d()({},t.search)},t.asRelation&&(r.table_search.distribution_center_id={value:t.distributionCenter.id}),a.prev=8,a.next=11,t.$api.get("/v1/franchises",{params:r});case 11:n=a.sent,s=n.data,"success"===s.status&&(t.entries=s.data.franchises,t.selected=s.data.franchises,t.pagination=d()(d()({},t.pagination),s.pagination)),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](8),t.$q.notify(a.t0);case 19:t.isLoading=!1;case 20:case"end":return a.stop()}}),a,null,[[8,16]])})))()},onAdvancedSearch:function(){this.advancedSearch=JSON.parse(JSON.stringify(this.search)),this.isAdvancedSearchVisible=!0},onAdvancedSearchSubmit:function(){this.search=this.$utils.merge({},this.advancedSearch),this.onRequest(),this.isAdvancedSearchVisible=!1},onFormEntryCreate:function(){this.$router.push("/franchises/create"),this.formEntry={},this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormEntrySuccess:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1,this.onRequest()},onFormEntryCancel:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormPasswordSuccess:function(){this.isFormPasswordVisible=!1},onFormPasswordCancel:function(){this.isFormPasswordVisible=!1},onFormLoginCredentialsSuccess:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={},this.onRequest()},onFormLoginCredentialsCancel:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={}},onView:function(e){this.franchise&&this.franchise.id?this.$router.push({path:"/franchises/".concat(e.id),query:{franchise_id:this.franchise.id}}):this.$router.push("/franchises/".concat(e.id)),this.formEntry=d()({},e),this.isFormEntryReadonly=!0,this.isFormEntryVisible=!1},onEdit:function(e){this.formEntry=d()({},e),this.isFormEntryReadonly=!1,this.isFormEntryVisible=!0},onEditPassword:function(e){this.formPassword=d()({},e),this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!0},onSetLoginCredentials:function(e){this.formEntry=d()({},e),this.isFormPasswordVisible=!1,this.isFormLoginCredentialsVisible=!0},onDelete:function(e){var t=this;this.isLoading||(this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!1,this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("franchise")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function a(){var r,n;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.delete("/v1/franchises/".concat(e.id));case 3:r=a.sent,n=r.data,n.message?(t.$q.notify({message:n.message}),t.onRequest()):"success"===n.status?(t.$q.notify({message:t.$t("{entity} deleted",{entity:t.$t("Franchise")})}),t.onRequest()):t.$t("Failed to delete {entity}",{entity:t.$t("franchise")}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.$q.notify(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).onCancel((function(){t.isLoading=!1})))}}},V=O,B=a("65c6"),j=a("05c0"),R=a("4e73"),U=a("9f0a"),z=a("eaac"),H=a("db86"),J=a("0016"),G=a("24e8"),W=Object(g["a"])(V,f,p,!1,null,null,null),K=W.exports;Y()(W,"components",{QCard:w["a"],QToolbar:B["a"],QInput:x["a"],QBtn:E["a"],QTooltip:j["a"],QMenu:R["a"],QOptionGroup:U["a"],QTable:z["a"],QTd:H["a"],QIcon:J["a"],QDialog:G["a"]});var Z=function(){var e=this,t=e._self._c;return t("q-card",[t("q-toolbar",[t("div",{staticClass:"col col-md-3 col-lg-2 quick-search-datatable"},[t("q-input",{attrs:{label:e.$t("Search {entity}",{entity:e.$t("name")}),"stack-label":"",debounce:300,dense:"",clearable:"","clear-icon":"close"},on:{input:function(t){return e.onRequest()}},model:{value:e.search.fuzzy.value,callback:function(t){e.$set(e.search.fuzzy,"value",t)},expression:"search.fuzzy.value"}})],1),t("div",{staticClass:"col col-md-3 col-lg-2 q-ml-auto row"},[t("q-btn",{staticClass:"q-ml-auto btn-datatable-advanced-search",attrs:{unelevated:"",color:"default",size:"sm",icon:"search",disable:e.isLoading},on:{click:e.onAdvancedSearch}},[e._v("\n        "+e._s(e.$t("Advanced Search"))+"\n      ")]),t("q-btn",{staticClass:"q-ml-sm btn-datatable-view-columns",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"view_column"}},[t("q-tooltip",[e._v("\n          "+e._s(e.$t("View Column"))+"\n        ")]),t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md",staticStyle:{"min-width":"200px"}},[t("div",{staticClass:"column"},[t("q-option-group",{staticStyle:{"margin-left":"-16px"},attrs:{options:e.columns.map((function(e){return{label:e.realLabel||e.label,value:e.name}})).filter((function(e){return e.label})),type:"checkbox",size:"xs"},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}})],1)])])],1)],1)]),t("q-table",{attrs:{data:e.entries,columns:e.columns,"visible-columns":e.visibleColumns,loading:e.isLoading,pagination:e.pagination,"binary-state-sort":"","row-key":"id"},on:{"update:pagination":function(t){e.pagination=t},request:e.onRequest},scopedSlots:e._u([{key:"body-cell-id",fn:function(a){var r=a.rowIndex;return[t("q-td",[e._v(e._s(r+1))])]}},{key:"body-cell-status",fn:function(e){var a=e.row;return[t("q-td",{staticClass:"text-center"},[t("q-icon",{staticClass:"q-mr-lg",attrs:{name:a.status?"check":"close"}})],1)]}},{key:"body-cell-action",fn:function(a){var r=a.row;return[t("q-td",{staticClass:"text-right table-cell-action"},[t("q-btn",{staticClass:"btn-datatable-view-store",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"visibility"},on:{click:function(t){return t.preventDefault(),e.onView(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("View"))+"\n          ")])],1),e.$auth.can("delete.store")?t("q-btn",{staticClass:"q-ml-xs btn-datatable-delete-store",attrs:{unelevated:"",color:"default",size:"sm",padding:"xs",icon:"delete"},on:{click:function(t){return t.preventDefault(),e.onDelete(r)}}},[t("q-tooltip",[e._v("\n            "+e._s(e.$t("Delete"))+"\n          ")])],1):e._e()],1)]}},{key:"no-data",fn:function(a){var r=a.icon,n=a.message,s=a.filter;return[t("div",{staticClass:"full-width row flex-center text-center q-gutter-sm"},[t("q-icon",{attrs:{size:"2em",name:s?"filter_b_and_w":r}}),t("span",[e._v("\n          "+e._s(n)+"\n        ")])],1)]}}])})],1)},X=[],ee=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"form-entry q-pa-sm",class:{readonly:e.readonly}},[t("q-form",{ref:"form",staticClass:"q-gutter-md",attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e.readonly?e._e():t("div",{staticClass:"text-h6 q-px-md q-pt-sm"},[e._v("\n      "+e._s(e.$t("".concat(e.isCreate?"Create":"Update"," {entity}"),{entity:e.$t("Customer")}))+"\n    ")]),t("q-card-section",{staticClass:"q-mb-md"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-8"},[t("q-input",{attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,dense:"",name:"name",autocomplete:"off",rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1),t("div",{staticClass:"col-xs-12 col-md-4"},[t("q-input",{attrs:{label:e.$t("Terminal Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,name:"terminal_name",autocomplete:"off",dense:"",rules:e.rules.terminal_name,error:!!e.errors.terminal_name,"error-message":e.errors.terminal_name},model:{value:e.formEntry.terminal_name,callback:function(t){e.$set(e.formEntry,"terminal_name",t)},expression:"formEntry.terminal_name"}})],1),t("div",{staticClass:"col-xs-12 col-sm-5 col-md-4"},[t("q-input",{attrs:{label:e.$t("Online At"),filled:!e.readonly,name:"online_at",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.online_at,error:!!e.errors.online_at,"error-message":e.errors.online_at,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.online_at)?void 0:e.$t("Valid format: DD/MM/YYYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.online_at,callback:function(t){e.$set(e.formEntry,"online_at",t)},expression:"formEntry.online_at"}})],1),t("div",{staticClass:"col-xs-12 col-md-8 col-lg-7"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Coordinate")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Latitude"),filled:!e.readonly,type:"number",step:"any",name:"latitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.latitude,error:!!e.errors.latitude,"error-message":e.errors.latitude},model:{value:e.formEntry.latitude,callback:function(t){e.$set(e.formEntry,"latitude",t)},expression:"formEntry.latitude"}})],1),t("div",{staticClass:"col-xs-12 col-md-6"},[t("q-input",{staticClass:"no-arrows",attrs:{label:e.$t("Longitude"),filled:!e.readonly,type:"number",step:"any",name:"longitude",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.longitude,error:!!e.errors.longitude,"error-message":e.errors.longitude},model:{value:e.formEntry.longitude,callback:function(t){e.$set(e.formEntry,"longitude",t)},expression:"formEntry.longitude"}})],1)])]),t("div",{staticClass:"col-xs-12"},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("PIC")))]),t("div",{staticClass:"row q-col-gutter-sm"},[t("div",{staticClass:"col-xs-12 col-md-7"},[t("q-input",{attrs:{label:e.$t("PIC Name"),filled:!e.readonly,rows:"1",name:"pic_name",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_name,error:!!e.errors.pic_name,"error-message":e.errors.pic_name},model:{value:e.formEntry.pic_name,callback:function(t){e.$set(e.formEntry,"pic_name",t)},expression:"formEntry.pic_name"}})],1),t("div",{staticClass:"col-xs-12 col-md-5"},[t("q-input",{attrs:{label:e.$t("PIC Phone Number"),filled:!e.readonly,rows:"1",name:"pic_phone_number",autocomplete:"off",borderless:e.readonly,readonly:e.readonly,dense:"",rules:e.rules.pic_phone_number,error:!!e.errors.pic_phone_number,"error-message":e.errors.pic_phone_number},model:{value:e.formEntry.pic_phone_number,callback:function(t){e.$set(e.formEntry,"pic_phone_number",t)},expression:"formEntry.pic_phone_number"}})],1)])]),e.readonly?e._e():t("div",{staticClass:"col-xs-12"},[t("q-toggle",{attrs:{label:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),name:"status"},model:{value:e.formEntry.status,callback:function(t){e.$set(e.formEntry,"status",t)},expression:"formEntry.status"}})],1),e.readonly?[t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.status?e.$t("Active"):e.$t("Inactive"),label:e.$t("Status"),borderless:"",readonly:"",dense:""}})],1),t("div",{staticClass:"col-xs-12"},[t("q-input",{attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:""}})],1)]:e._e()],2)]),t("q-separator"),e.readonly?t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Close"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}})],1):t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1)],1)],1)},te=[],ae=(a("99af"),{terminal_name:null,location:null,mttr_hour:null,mttr_minute:null,total_time_hour:null,total_time_minute:null,online_at:null,latitude:null,longitude:null,pic_name:null,pic_phone_number:null,pic_phone_number2:null,status:1}),re={name:"FormEntry",props:{loading:Boolean,closable:{type:Boolean,default:!0},entry:{type:Object,default:function(){return ae}},readonly:{type:Boolean,default:!1}},data:function(){var e=this;return{formEntry:ae,isLoading:!1,rules:{terminal_name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Terminal name")})}],location:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Location")})}],online_at:[function(t){return!t||!!t&&e.$utils.isDateValid(t)||e.$t("{field} is invalid",{field:e.$t("Online at")})}],latitude:[],longitude:[],pic_name:[],pic_phone_number:[],sla:[]},errors:ae}},computed:{isCreate:function(){return!this.formEntry.id}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}}},methods:{fill:function(e){e=d()(d()({},ae),e),e.created_at&&(e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm")),e.online_at&&(e.online_at=u["b"].formatDate(e.online_at,"DD/MM/YYYY")),e.status=Boolean(parseInt(e.status,10)),this.formEntry=e,this.$refs.form.resetValidation()},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.status=r.status?1:0,e.$utils.isDateValid(r.online_at)&&(r.online_at=u["b"].formatDate(u["b"].extractDate(r.online_at,"DD/MM/YYYY"),"YYYY-MM-DD")),delete r.mttr_hour,delete r.mttr_minute,delete r.total_time_hour,delete r.total_time_minute,e.isLoading=!0,t.prev=17,n=r.id?"/v1/customers/".concat(r.id):"/v1/customers",s=r.id?"patch":"post",t.next=22,e.$api[s](n,r);case 22:o=t.sent,l=o.data,"success"===l.status&&e.$emit("success"),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Customer")})}):e.$t("Failed to save {entity}",{entity:e.$t("customer")}),t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](17),t.t0.validation?e.errors=d()(d()({},ae),t.t0.validation.errors):e.$q.notify(t.t0);case 31:e.isLoading=!1;case 32:case"end":return t.stop()}}),t,null,[[17,28]])})))()},cancel:function(){this.loading||this.isLoading||this.$emit("cancel")},onDoubleInputChildKeydown:function(e){var t=String(e.target.value).replace(/[^0-9]/g,""),a=/^[0-9]$/i.test(e.key);a&&(t="".concat(t).concat(e.key)),(t>59||String(t).length>2)&&a&&e.preventDefault()}}},ne=re,se=(a("40b1"),a("7cbe")),ie=a("52ee"),oe=a("9564"),le=a("7f67"),ce=Object(g["a"])(ne,ee,te,!1,null,"28628f4f",null);ce.exports;Y()(ce,"components",{QCard:w["a"],QForm:$["a"],QCardSection:C["a"],QInput:x["a"],QIcon:J["a"],QPopupProxy:se["a"],QDate:ie["a"],QBtn:E["a"],QToggle:oe["a"],QSeparator:q["a"],QCardActions:k["a"]}),Y()(ce,"directives",{ClosePopup:le["a"]});var de={name:"TableStore",props:{distributionCenter:{type:Object,default:function(){return{}}},asRelation:{type:Boolean,default:!1}},mixins:[Q["a"]],data:function(){var e={fuzzy:{value:null}};return{entries:[],columns:[{name:"id",field:"id",label:"#",realLabel:this.$t("ID"),align:"left",style:"max-width: 25px",headerClasses:"table-header-id",classes:"table-cell-id",sortable:!0},{name:"code",field:"code",label:this.$t("Code"),headerClasses:"table-header-code",classes:"table-cell-code",align:"left",sortable:!0},{name:"name",field:"name",label:this.$t("Name"),headerClasses:"table-header-name",classes:"table-cell-name",align:"left",sortable:!0},{name:"location",field:"location",label:this.$t("Location"),headerClasses:"table-header-location",classes:"table-cell-location",align:"left",sortable:!0},{name:"landline_number",field:"landline_number",label:this.$t("Landline Number"),headerClasses:"table-header-landline_number",classes:"table-cell-landline_number",align:"left",sortable:!0},{name:"phone_number",field:"phone_number",label:this.$t("Phone Number"),headerClasses:"table-header-phone_number",classes:"table-cell-phone_number",align:"left",sortable:!0},{name:"created_at",field:"created_at",label:this.$t("Created At"),align:"left",headerClasses:"table-header-created_at",classes:"table-cell-created_at",format:function(e){return u["b"].formatDate(e,"DD MMM YYYY HH:mm")},sortable:!0},{name:"action",label:"",align:"right",headerClasses:"table-header-action",classes:"table-cell-action",required:!0}],visibleColumns:["id","code","name","location","created_at"],isLoading:!1,isAdvancedSearchVisible:!1,isFormEntryVisible:!1,isFormEntryReadonly:!1,isFormPasswordVisible:!1,isFormLoginCredentialsVisible:!1,isFormImportVisible:!1,formEntry:{},formPassword:{},pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:15,rowsNumber:0},selected:[],search:e,advancedSearch:e}},computed:d()({},Object(m["c"])({currentImportStatus:"imports/status",currentImportPath:"imports/importPath",currentImportProcessingPage:"imports/processingPage",currentImportHasError:"imports/hasError"})),mounted:function(){var e=this;return l()(i()().mark((function t(){return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onRequest();case 2:return t.next=4,e.$nextTick();case 4:case"end":return t.stop()}}),t)})))()},methods:{onRequest:function(e){var t=this;return l()(i()().mark((function a(){var r,n,s;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.isLoading){a.next=2;break}return a.abrupt("return");case 2:if(!t.asRelation||t.distributionCenter.id){a.next=4;break}return a.abrupt("return");case 4:return e||(e={pagination:t.pagination}),t.isLoading=!0,r={table_pagination:d()({},e.pagination||{}),table_search:d()({},t.search)},t.asRelation&&(r.table_search.distribution_center_id={value:t.distributionCenter.id}),a.prev=8,a.next=11,t.$api.get("/v1/stores",{params:r});case 11:n=a.sent,s=n.data,"success"===s.status&&(t.entries=s.data.stores,t.selected=s.data.stores,t.pagination=d()(d()({},t.pagination),s.pagination)),a.next=19;break;case 16:a.prev=16,a.t0=a["catch"](8),t.$q.notify(a.t0);case 19:t.isLoading=!1;case 20:case"end":return a.stop()}}),a,null,[[8,16]])})))()},onAdvancedSearch:function(){this.advancedSearch=JSON.parse(JSON.stringify(this.search)),this.isAdvancedSearchVisible=!0},onAdvancedSearchSubmit:function(){this.search=this.$utils.merge({},this.advancedSearch),this.onRequest(),this.isAdvancedSearchVisible=!1},onFormEntryCreate:function(){this.$router.push("/stores/create"),this.formEntry={},this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormEntrySuccess:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1,this.onRequest()},onFormEntryCancel:function(){this.isFormEntryReadonly=!1,this.isFormEntryVisible=!1},onFormPasswordSuccess:function(){this.isFormPasswordVisible=!1},onFormPasswordCancel:function(){this.isFormPasswordVisible=!1},onFormLoginCredentialsSuccess:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={},this.onRequest()},onFormLoginCredentialsCancel:function(){this.isFormLoginCredentialsVisible=!1,this.formEntry={}},onView:function(e){this.store&&this.store.id?this.$router.push({path:"/stores/".concat(e.id),query:{store_id:this.store.id}}):this.$router.push("/stores/".concat(e.id)),this.formEntry=d()({},e),this.isFormEntryReadonly=!0,this.isFormEntryVisible=!1},onEdit:function(e){this.formEntry=d()({},e),this.isFormEntryReadonly=!1,this.isFormEntryVisible=!0},onEditPassword:function(e){this.formPassword=d()({},e),this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!0},onSetLoginCredentials:function(e){this.formEntry=d()({},e),this.isFormPasswordVisible=!1,this.isFormLoginCredentialsVisible=!0},onDelete:function(e){var t=this;this.isLoading||(this.isFormLoginCredentialsVisible=!1,this.isFormPasswordVisible=!1,this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function a(){var r,n;return i()().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.delete("/v1/stores/".concat(e.id));case 3:r=a.sent,n=r.data,n.message?(t.$q.notify({message:n.message}),t.onRequest()):"success"===n.status?(t.$q.notify({message:t.$t("{entity} deleted",{entity:t.$t("Store")})}),t.onRequest()):t.$t("Failed to delete {entity}",{entity:t.$t("store")}),a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](0),t.$q.notify(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})))).onCancel((function(){t.isLoading=!1})))}}},ue=de,me=Object(g["a"])(ue,Z,X,!1,null,null,null),fe=me.exports;Y()(me,"components",{QCard:w["a"],QToolbar:B["a"],QInput:x["a"],QBtn:E["a"],QTooltip:j["a"],QMenu:R["a"],QOptionGroup:U["a"],QTable:z["a"],QTd:H["a"],QIcon:J["a"]});var pe={code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null,npwp:null,transfer_to_virtual_account_bank_name:null,transfer_to_virtual_account_number:null,landline_number:null,phone_number:null},ve={name:"FormPage",components:{TableStore:fe,TableFranchise:K},props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:pe,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],code:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Code")})}],username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}],npwp:[function(t){return!t||!!t&&15===String(t).replace(/[^\d]/g,"").length||e.$t("{field} must be {length} characters",{field:e.$t("NPWP"),length:15})}]},errors:pe,isEditable:!1,defaultFormEntry:pe,childTab:"franchise",isFormImportVisible:!1}},computed:d()(d()({},Object(m["c"])({lastInvoiceChildTab:"datatable/lastInvoiceChildTab",currentImportStatus:"imports/status",currentImportPath:"imports/importPath",currentImportProcessingPage:"imports/processingPage",currentImportHasError:"imports/hasError"})),{},{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},dialogImportProps:function(){return"franchise"===this.childTab?{importType:this.$constant.import_type.Franchise,templateUrl:"id"===this.$q.lang.isoName?"/templates/template-franchise.xlsx":"/templates/franchise-template.xlsx"}:{importType:this.$constant.import_type.Store,templateUrl:"id"===this.$q.lang.isoName?"/templates/template-toko.xlsx":"/templates/store-template.xlsx"}}}),watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))},lastInvoiceChildTab:{immediate:!0,handler:function(e,t){e!==t&&e!==this.childTab&&(this.childTab=e)}},childTab:function(e,t){e!==t&&e!==this.lastInvoiceChildTab&&this.setLastInvoiceChildTab(e)},currentImportStatus:{immediate:!0,handler:function(e,t){e!==t&&e&&this.onFormImport()}}},methods:d()(d()({},Object(m["b"])({setLastInvoiceChildTab:"datatable/setLastInvoiceChildTab"})),{},{fill:function(e){if(e=d()(d()({},pe),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var t={};for(var a in pe)t[a]=e[a];this.defaultFormEntry=t}this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.approval_date&&(r.approval_date=u["b"].formatDate(u["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=u["b"].formatDate(u["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.npwp&&(r.npwp=String(r.npwp).replace(/[^\d]/g,"")),e.isLoading=!0,t.prev=14,n=r.id?"/v1/distribution-centers/".concat(r.id):"/v1/distribution-centers",s=r.id?"patch":"post",t.next=19,e.$api[s](n,r);case 19:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=d()({},e.formEntry),e.$emit("success",l.data.distribution_center),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Distribution center")})}):e.$t("Failed to save {entity}",{entity:e.$t("distribution center")}),t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](14),t.t0.validation?(c=d()(d()({},pe),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 28:e.isLoading=!1;case 29:case"end":return t.stop()}}),t,null,[[14,25]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("distribution center")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/distribution-centers/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Distribution center")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("distribution center")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))},onTableRelationFranchiseCreate:function(){this.$router.push({path:"/franchises/create",query:{distribution_center_id:this.entry.id}})},onTableRelationStoreCreate:function(){this.$router.push({path:"/stores/create",query:{distribution_center_id:this.entry.id}})},onFormImport:function(){this.isFormEntryVisible=!1,this.isFormImportVisible=!0},onFormImportUpdateStatus:function(e){var t=e.status,a=e.importPath,r=e.processingPage,n=e.hasError;this.$store.dispatch("imports/setStatus",t),this.$store.dispatch("imports/setImportPath",a),r&&this.$store.dispatch("imports/setProcessingPage",r),"undefined"!==typeof n&&this.$store.dispatch("imports/setHasError",n),this.$store.dispatch("imports/sync")},onFormImportSuccess:function(){this.$refs.tableStore&&this.$refs.tableStore.onRequest()}})},he=ve,be=(a("e6c9"),a("293e")),ye=a("1c1c"),_e=a("66e5"),ge=a("4074"),we=a("429b"),$e=a("7460"),Ce=a("2c91"),xe=a("8572"),qe=Object(g["a"])(he,r,n,!1,null,"330e2ba6",null);t["a"]=qe.exports;Y()(qe,"components",{QCard:w["a"],QForm:$["a"],QCardSection:C["a"],QSkeleton:be["a"],QInput:x["a"],QIcon:J["a"],QPopupProxy:se["a"],QDate:ie["a"],QBtn:E["a"],QMenu:R["a"],QList:ye["a"],QItem:_e["a"],QItemSection:ge["a"],QCardActions:k["a"],QSeparator:q["a"],QTabs:we["a"],QTab:$e["a"],QSpace:Ce["a"],QField:xe["a"]}),Y()(qe,"directives",{ClosePopup:le["a"]})},c19e:function(e,t,a){"use strict";a("347b")},c1eb:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("q-chip",e._b({},"q-chip",e.chipProps,!1),[e._v("\n  "+e._s(e.chipProps.text)+"\n")])},n=[],s=a("9523"),i=a.n(s),o={name:"InvoiceStatusChip",props:{invoice:{type:Object,default:function(){return{}}},dense:Boolean},computed:{chipProps:function(){var e,t=(e={},i()(e,"class","invoice-status-chip"),i()(e,"textColor","white"),i()(e,"icon","fiber_manual_record"),i()(e,"padding","md"),i()(e,"dense",this.dense),e),a=this.invoice.status,r=this.$constant.invoice_status;return a&&a!=r.Draft?a==r.Unpaid?(t.color="yellow-1",t.text=this.$t("Unpaid"),t.textColor="orange-10"):a==r.PendingReview?(t.color="warning",t.text=this.$t("Pending Review")):a==r.Paid?(t.color="positive",t.text=this.$t("Paid")):a==r.Rejected&&(t.color="negative",t.text=this.$t("Rejected")):(t.color="default",t.text=this.$t("Draft"),t.textColor="dark"),t}}},l=o,c=(a("b080"),a("2877")),d=a("b047"),u=a("eebe"),m=a.n(u),f=Object(c["a"])(l,r,n,!1,null,null,null);t["a"]=f.exports;m()(f,"components",{QChip:d["a"]})},d561:function(e,t,a){"use strict";a("9235")},d734:function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[t("q-card",{staticClass:"q-pa-sm"},[t("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[t("q-card-section",[t("div",{staticClass:"row"},[t("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[t("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-6"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("autocomplete-distribution-center",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Distribution Center")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"distribution_center_id",autocomplete:"off",disable:!!e.parentDistributionCenterId,dense:!e.readonly,rules:e.rules.distribution_center_id,error:!!e.errors.distribution_center_id,"error-message":e.errors.distribution_center_id},model:{value:e.formEntry.distribution_center_id,callback:function(t){e.$set(e.formEntry,"distribution_center_id",t)},expression:"formEntry.distribution_center_id"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(t){e.$set(e.formEntry,"name",t)},expression:"formEntry.name"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(t){e.$set(e.formEntry,"code",t)},expression:"formEntry.code"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(t){e.$set(e.formEntry,"location",t)},expression:"formEntry.location"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(t){e.$set(e.formEntry,"address",t)},expression:"formEntry.address"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Landline Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"landline_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.landline_number,error:!!e.errors.landline_number,"error-message":e.errors.landline_number},model:{value:e.formEntry.landline_number,callback:function(t){e.$set(e.formEntry,"landline_number",t)},expression:"formEntry.landline_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Phone Number"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"phone_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.phone_number,error:!!e.errors.phone_number,"error-message":e.errors.phone_number},model:{value:e.formEntry.phone_number,callback:function(t){e.$set(e.formEntry,"phone_number",t)},expression:"formEntry.phone_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(t){e.$set(e.formEntry,"approval_date",t)},expression:"formEntry.approval_date"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():t("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[t("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}},[t("div",{staticClass:"row items-center justify-end"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(t){e.$set(e.formEntry,"fo_approval_date",t)},expression:"formEntry.fo_approval_date"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"offering_letter_reference_number",t)},expression:"formEntry.offering_letter_reference_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(t){e.$set(e.formEntry,"fo_offering_letter_reference_number",t)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),t("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(t){e.$set(e.formEntry,"issuance_number",t)},expression:"formEntry.issuance_number"}})],1),t("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?t("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(t){e.$set(e.formEntry,"fo_issuance_number",t)},expression:"formEntry.fo_issuance_number"}})],1)]),e.readonly?[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),t("div",{staticClass:"col-xs-12 col-md-3"},[t("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?t("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[t("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[t("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[t("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[t("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?t("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[t("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?t("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():t("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),t("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1)],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("ded3"),d=a.n(c),u=(a("ac1f"),a("00b4"),a("cb29"),a("bd4c")),m={distribution_center_id:null,code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null,landline_number:null,phone_number:null},f={name:"FormPage",props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:m,isLoading:!1,rules:{name:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Name")})}],username:[function(t){return!t||!!t&&t.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(t){return!t||!!t&&/^[a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(t){return!t||!!t&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(t)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Email")})},function(t){return!!t&&e.$utils.isEmail(t)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password")})},function(t){return t&&t.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(t){return!!t||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(t){return t===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:m,isEditable:!1,defaultFormEntry:m,childTab:"store",loginAccessToggle:!1}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{entry:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.fill(e)}))}},editable:{immediate:!0,handler:function(e,t){e!==t&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,t){var a=this;e!==t&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){a.$forceUpdate()}),100)})))}},methods:{fill:function(e){if(e=d()(d()({},m),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var t={};for(var a in m)t[a]=e[a];this.defaultFormEntry=t}this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return l()(i()().mark((function t(){var a,r,n,s,o,l,c;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.loading&&!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:if(!e.readonly){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.form.validate();case 6:if(a=t.sent,a){t.next=9;break}return t.abrupt("return");case 9:return r=d()({},e.formEntry),r.approval_date&&(r.approval_date=u["b"].formatDate(u["b"].extractDate(r.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),r.fo_approval_date&&(r.fo_approval_date=u["b"].formatDate(u["b"].extractDate(r.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,t.prev=13,n=r.id?"/v1/stores/".concat(r.id):"/v1/stores",s=r.id?"patch":"post",t.next=18,e.$api[s](n,r);case 18:o=t.sent,l=o.data,"success"===l.status&&(e.defaultFormEntry=d()({},e.formEntry),e.$emit("success",l.data.store),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Store")})}):e.$t("Failed to save {entity}",{entity:e.$t("store")}),t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](13),t.t0.validation?(c=d()(d()({},m),t.t0.validation.errors),e.errors=c):e.$q.notify(t.t0);case 27:e.isLoading=!1;case 28:case"end":return t.stop()}}),t,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("store")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.delete("/v1/stores/".concat(e.entry.id));case 3:a=t.sent,r=a.data,r.message?(e.$q.notify({message:r.message}),e.$emit("deleted",r)):"success"===r.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Store")})}),e.$emit("deleted",r)):e.$t("Failed to delete {entity}",{entity:e.$t("store")}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.$q.notify(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},p=f,v=(a("2234"),a("2877")),h=a("f09f"),b=a("0378"),y=a("a370"),_=a("293e"),g=a("27f9"),w=a("0016"),$=a("7cbe"),C=a("52ee"),x=a("9c40"),q=a("4e73"),k=a("1c1c"),E=a("66e5"),D=a("4074"),Y=a("4b7e"),M=a("8572"),P=a("7f67"),S=a("eebe"),F=a.n(S),L=Object(v["a"])(p,r,n,!1,null,"e821e634",null);t["a"]=L.exports;F()(L,"components",{QCard:h["a"],QForm:b["a"],QCardSection:y["a"],QSkeleton:_["a"],QInput:g["a"],QIcon:w["a"],QPopupProxy:$["a"],QDate:C["a"],QBtn:x["a"],QMenu:q["a"],QList:k["a"],QItem:E["a"],QItemSection:D["a"],QCardActions:Y["a"],QField:M["a"]}),F()(L,"directives",{ClosePopup:P["a"]})},e6c9:function(e,t,a){"use strict";a("0b61")},f11b:function(e,t,a){"use strict";a("af39")},f834:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("q-card",{staticClass:"card-payment-detail"},[t("q-card-section",[e.isTransferToVa?t("p",{staticClass:"notice"},[e._v("\n      "+e._s(e.$t("Payment can be transferred to following virtual account:"))+"\n    ")]):t("p",{staticClass:"notice"},[e._v("\n      "+e._s(e.$t("Payment can be transferred to the following bank account:"))+"\n      ")]),t("div",{staticClass:"bank-detail",class:{"va-detail":e.isTransferToVa}},[e.isTransferToVa?[t("span",{staticClass:"bank-name"},[e._v(e._s(e.customer.transfer_to_virtual_account_bank_name)+" Virtual Account")]),t("br"),t("span",{staticClass:"account-number"},[e._v("\n          "+e._s(e.customer.transfer_to_virtual_account_number)+"\n\n          "),t("q-btn",{staticClass:"btn-copy",attrs:{size:"sm",flat:"",rounded:"",padding:"sm",icon:"content_copy"},on:{click:function(t){return e.onAccountNumberCopy(e.customer.transfer_to_virtual_account_number)}}})],1),t("br")]:[t("span",{staticClass:"bank-name"},[e._v(e._s(e.settings[e.constant.BankTransferName]))]),t("br"),t("span",{staticClass:"account-number"},[e._v("\n          "+e._s(e.settings[e.constant.BankTransferAccountNumber])+"\n\n          "),t("q-btn",{staticClass:"btn-copy",attrs:{size:"sm",flat:"",rounded:"",padding:"sm",icon:"content_copy"},on:{click:function(t){return e.onAccountNumberCopy(e.settings[e.constant.BankTransferAccountNumber])}}})],1),t("br"),t("span",{attrs:{clas:"account-name"}},[e._v("A/N "+e._s(e.settings[e.constant.BankTransferAccountName]))])]],2)])],1)},n=[],s=a("7ec2"),i=a.n(s),o=a("c973"),l=a.n(o),c=a("bd4c"),d={name:"CardPaymentDetail",props:{invoice:{type:Object,default:function(){return{}}},fetching:Boolean,customer:{type:Object,default:function(){return{}}}},data:function(){return{isFetching:!1,isLoading:!1,settings:{}}},computed:{constant:function(){return this.$constant.setting_key},isTransferToVa:function(){return this.invoice.transfer_to_type==this.$constant.transfer_to_type.VirtualAccount&&this.customer.transfer_to_virtual_account_bank_name&&this.customer.transfer_to_virtual_account_number}},mounted:function(){this.onRequest()},methods:{onRequest:function(){var e=this;return l()(i()().mark((function t(){var a,r;return i()().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.isFetching=!0,e.isLoading=!0,t.prev=4,t.next=7,e.$api.get("/v1/settings");case 7:a=t.sent,r=a.data,"success"===r.status&&(e.settings=r.data.settings),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),e.$q.notify(t.t0);case 15:e.isFetching=!1,e.isLoading=!1;case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()},formatMonth:function(e){var t=c["b"].extractDate(e.due_at||e.published_at,"YYYY-MM-DD");return c["b"].formatDate(t,"MMMM")},formatDate:function(e){var t=c["b"].extractDate(e,"YYYY-MM-DD");return c["b"].formatDate(t,"DD MMMM YYYY")},formatMoney:function(e){return e?this.$utils.currency(e||0,{decimal:".",thousand:",",symbol:"Rp. "}):"Rp. -"},formatTotal:function(e){return this.$utils.currency(e.total,{decimal:".",thousand:","})||"-"},onAccountNumberCopy:function(e){this.$utils.copyToClipboard(e),this.$q.notify({message:this.$t("{entity} copied to clipboard",{entity:this.$t("Account number")})})}}},u=d,m=(a("c19e"),a("2877")),f=a("f09f"),p=a("a370"),v=a("9c40"),h=a("0016"),b=a("eebe"),y=a.n(b),_=Object(m["a"])(u,r,n,!1,null,null,null);t["a"]=_.exports;y()(_,"components",{QCard:f["a"],QCardSection:p["a"],QBtn:v["a"],QIcon:h["a"]})}}]);