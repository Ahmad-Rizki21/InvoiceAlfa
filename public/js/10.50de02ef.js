(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"045b":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e._self._c;return r("q-page",{staticClass:"page-franchises page-franchise-single page-franchise-create"},[r("portal",{attrs:{to:"app-breadcrumbs"}},[r("breadcrumbs")],1),r("portal",{attrs:{to:"app-toolbar"}},[r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.onGoBack}}),r("q-toolbar-title",[e._v("\n      "+e._s(e.$t("Create New {entity}",{entity:e.$t("Franchise")}))+"\n    ")]),r("div",{staticClass:"sep"}),e.$auth.can("create.franchise")?r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"}}):e._e()],1),r("div",{staticClass:"page-header"},[r("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:e.onGoBack}}),r("q-toolbar-title",[e._v("\n      "+e._s(e.$t("Create New {entity}",{entity:e.$t("Franchise")}))+"\n    ")]),r("div",{staticClass:"sep"})],1),r("div",{staticClass:"page-body"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12"},[r("form-page",{ref:"formPage",attrs:{entry:e.entry},on:{success:e.onSuccess}})],1)])])],1)},o=[],s=(t("ac1f"),t("5319"),t("14d9"),t("b0c0"),function(){var e=this,r=e._self._c;return r("div",{staticClass:"form-page q-pa-sm q-gutter-md"},[r("q-card",{staticClass:"q-pa-sm"},[r("q-form",{ref:"form",staticClass:"form-entry",class:{readonly:e.readonly},attrs:{greedy:""},on:{submit:function(r){return r.preventDefault(),e.onSubmit.apply(null,arguments)}}},[r("q-card-section",[r("div",{staticClass:"row"},[r("div",{class:{"col-xs-12":!e.readonly,"col-xs-11":e.readonly}},[r("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Details")))]),r("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-8 col-md-6 col-lg-6"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),r("autocomplete-distribution-center",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Distribution Center")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"distribution_center_id",autocomplete:"off",disable:!!e.parentDistributionCenterId,dense:!e.readonly,rules:e.rules.distribution_center_id,error:!!e.errors.distribution_center_id,"error-message":e.errors.distribution_center_id},model:{value:e.formEntry.distribution_center_id,callback:function(r){e.$set(e.formEntry,"distribution_center_id",r)},expression:"formEntry.distribution_center_id"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-8 col-md-10 col-lg-8"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Name")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"name",autocomplete:"off",dense:!e.readonly,rules:e.rules.name,error:!!e.errors.name,"error-message":e.errors.name},model:{value:e.formEntry.name,callback:function(r){e.$set(e.formEntry,"name",r)},expression:"formEntry.name"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-4 col-md-4",class:{"col-md-5":e.readonly,"col-lg-4":e.readonly}},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Code"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"code",autocomplete:"off",dense:!e.readonly,rules:e.rules.code,error:!!e.errors.code,"error-message":e.errors.code},model:{value:e.formEntry.code,callback:function(r){e.$set(e.formEntry,"code",r)},expression:"formEntry.code"}})],1),r("div",{staticClass:"col-xs-12 col-sm-4 col-md-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Location"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"location",autocomplete:"off",dense:!e.readonly,rules:e.rules.location,error:!!e.errors.location,"error-message":e.errors.location},model:{value:e.formEntry.location,callback:function(r){e.$set(e.formEntry,"location",r)},expression:"formEntry.location"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-col-gutter-y-md q-mb-md"},[r("div",{staticClass:"col-xs-12 col-md-10 col-lg-8"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.address,label:e.$t("Address")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",autogrow:"","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Address"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"textarea",rows:"2","stack-label":"",placeholder:e.readonly?"-":"",name:"address",autocomplete:"off",dense:!e.readonly,rules:e.rules.address,error:!!e.errors.address,"error-message":e.errors.address},model:{value:e.formEntry.address,callback:function(r){e.$set(e.formEntry,"address",r)},expression:"formEntry.address"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedApprovalDate,label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.approval_date,error:!!e.errors.approval_date,"error-message":e.errors.approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.approval_date,callback:function(r){e.$set(e.formEntry,"approval_date",r)},expression:"formEntry.approval_date"}},[r("div",{staticClass:"row items-center justify-end"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.approval_date,callback:function(r){e.$set(e.formEntry,"approval_date",r)},expression:"formEntry.approval_date"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formattedFoApprovalDate,label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("SAT-HO Approval Date for FO"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_approval_date",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_approval_date,error:!!e.errors.fo_approval_date,"error-message":e.errors.fo_approval_date,mask:"##/##/####",hint:e.$utils.isDateValid(e.formEntry.fo_approval_date)?void 0:e.$t("Valid format: DD/MM/YYYY")},scopedSlots:e._u([{key:"append",fn:function(){return[e.readonly?e._e():r("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[r("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[r("q-date",{attrs:{minimal:"",mask:"DD/MM/YYYY"},model:{value:e.formEntry.fo_approval_date,callback:function(r){e.$set(e.formEntry,"fo_approval_date",r)},expression:"formEntry.fo_approval_date"}},[r("div",{staticClass:"row items-center justify-end"},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Close",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.formEntry.fo_approval_date,callback:function(r){e.$set(e.formEntry,"fo_approval_date",r)},expression:"formEntry.fo_approval_date"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.offering_letter_reference_number,label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.offering_letter_reference_number,error:!!e.errors.offering_letter_reference_number,"error-message":e.errors.offering_letter_reference_number},model:{value:e.formEntry.offering_letter_reference_number,callback:function(r){e.$set(e.formEntry,"offering_letter_reference_number",r)},expression:"formEntry.offering_letter_reference_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_offering_letter_reference_number,label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("FO Offering Letter"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_offering_letter_reference_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_offering_letter_reference_number,error:!!e.errors.fo_offering_letter_reference_number,"error-message":e.errors.fo_offering_letter_reference_number},model:{value:e.formEntry.fo_offering_letter_reference_number,callback:function(r){e.$set(e.formEntry,"fo_offering_letter_reference_number",r)},expression:"formEntry.fo_offering_letter_reference_number"}})],1)]),r("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.issuance_number,label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.issuance_number,error:!!e.errors.issuance_number,"error-message":e.errors.issuance_number},model:{value:e.formEntry.issuance_number,callback:function(r){e.$set(e.formEntry,"issuance_number",r)},expression:"formEntry.issuance_number"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.fo_issuance_number,label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Basis for issuing FO invoice"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"fo_issuance_number",autocomplete:"off",dense:!e.readonly,rules:e.rules.fo_issuance_number,error:!!e.errors.fo_issuance_number,"error-message":e.errors.fo_issuance_number},model:{value:e.formEntry.fo_issuance_number,callback:function(r){e.$set(e.formEntry,"fo_issuance_number",r)},expression:"formEntry.fo_issuance_number"}})],1),e.isCreate&&!e.readonly?r("div",{staticClass:"col-xs-12"},[r("q-checkbox",{attrs:{label:e.$t("Set login credentials")},model:{value:e.loginAccessToggle,callback:function(r){e.loginAccessToggle=r},expression:"loginAccessToggle"}})],1):e._e()]),r("transition",{attrs:{appear:"","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutDown"}},[e.loginAccessToggle?r("div",[e.isCreate?e._e():r("div",{staticClass:"q-mb-md text-subtitle text-weight-bold"},[e._v(e._s(e.$t("Login Credentials")))]),r("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.email,label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Email")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"email",autocomplete:"off",dense:!e.readonly,rules:e.rules.email,error:!!e.errors.email,"error-message":e.errors.email},model:{value:e.formEntry.email,callback:function(r){e.$set(e.formEntry,"email",r)},expression:"formEntry.email"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-4"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.username,label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Username"),filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,"stack-label":"",placeholder:e.readonly?"-":"",name:"username",autocomplete:"off",dense:!e.readonly,rules:e.rules.username,error:!!e.errors.username,"error-message":e.errors.username},model:{value:e.formEntry.username,callback:function(r){e.$set(e.formEntry,"username",r)},expression:"formEntry.username"}})],1)]),e.isCreate?r("div",{staticClass:"row q-col-gutter-x-sm q-mb-md"},[r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 co-lg-3"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password,label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password",autocomplete:"off",dense:!e.readonly,rules:e.rules.password,error:!!e.errors.password,"error-message":e.errors.password},model:{value:e.formEntry.password,callback:function(r){e.$set(e.formEntry,"password",r)},expression:"formEntry.password"}})],1),r("div",{staticClass:"col-xs-12 col-sm-6 col-md-5 col-lg-3"},[e.fetching?r("q-skeleton",{attrs:{type:"rect"}}):e._e(),e.readonly?r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.password_confirmation,label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly}}):r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{label:e.$t("Confirm Password")+"*",filled:!e.readonly,borderless:e.readonly,readonly:e.readonly,type:"password","stack-label":"",placeholder:e.readonly?"-":"",name:"password_confirmation",autocomplete:"off",dense:!e.readonly,rules:e.rules.password_confirmation,error:!!e.errors.password_confirmation,"error-message":e.errors.password_confirmation},model:{value:e.formEntry.password_confirmation,callback:function(r){e.$set(e.formEntry,"password_confirmation",r)},expression:"formEntry.password_confirmation"}})],1)]):e._e()]):e._e()]),e.readonly?[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-5 col-lg-4"},[r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.created_at,label:e.$t("Created At"),borderless:"",readonly:"",dense:!e.readonly}})],1),r("div",{staticClass:"col-xs-12 col-md-3"},[r("q-input",{directives:[{name:"show",rawName:"v-show",value:!e.fetching,expression:"!fetching"}],attrs:{value:e.formEntry.updated_at,label:e.$t("Updated At"),borderless:"",readonly:"",dense:!e.readonly}})],1)])]:e._e()],2),e.$auth.can(["edit.customer","delete.customer"])?r("div",{directives:[{name:"show",rawName:"v-show",value:e.readonly,expression:"readonly"}],staticClass:"col-xs-1 text-right"},[r("q-btn",{attrs:{icon:"more_vert",padding:"xs",size:"md",flat:""}},[r("q-menu",{attrs:{"auto-close":"",anchor:"bottom right",self:"top right"}},[r("q-list",{staticStyle:{"min-width":"100px"}},[e.$auth.can("edit.customer")?r("q-item",{attrs:{clickable:""},on:{click:e.onEdit}},[r("q-item-section",[e._v(e._s(e.$t("Edit")))])],1):e._e(),e.$auth.can("delete.customer")?r("q-item",{attrs:{clickable:""},on:{click:e.onDelete}},[r("q-item-section",[e._v(e._s(e.$t("Delete")))])],1):e._e()],1)],1)],1)],1):e._e()])]),e.$auth.can(["create.customer","edit.customer"])&&!e.readonly?r("q-card-actions",{attrs:{align:"right"}},[e.isCreate?e._e():r("q-btn",{attrs:{label:e.$t("Cancel"),flat:"",disable:e.loading||e.isLoading},on:{click:e.cancel}}),r("q-btn",{staticClass:"q-px-lg",attrs:{type:"submit",label:e.$t("".concat(e.isCreate?"Create":"Save")),color:e.isCreate?"positive":"primary",loading:e.loading||e.isLoading,unelevated:""}})],1):e._e()],1)],1)],1)}),n=[],l=t("7ec2"),i=t.n(l),d=t("c973"),c=t.n(d),f=t("ded3"),m=t.n(f),u=(t("00b4"),t("cb29"),t("bd4c")),p={distribution_center_id:null,code:null,name:null,email:null,username:null,location:null,address:null,approval_date:null,fo_approval_date:null,offering_letter_reference_number:null,fo_offering_letter_reference_number:null,issuance_number:null,fo_issuance_number:null,password:null,password_confirmation:null},y={name:"FormPage",props:{entry:{type:Object,default:function(){return{}}},loading:Boolean,fetching:Boolean,editable:Boolean,closable:{type:Boolean,default:!0}},data:function(){var e=this;return{formEntry:p,isLoading:!1,rules:{name:[function(r){return!!r||e.$t("{field} is required",{field:e.$t("Name")})}],username:[function(r){return!r||!!r&&r.length>3||e.$t("{field} must be at least {length} characters",{field:e.$t("Username"),length:3})},function(r){return!r||!!r&&/^[a-zA-Z0-9_\.]+$/.test(r)||e.$t("{field} can only contain alphanumeric characters, underscores, and periods",{field:e.$t("Username")})},function(r){return!r||!!r&&/^[^0-9][a-zA-Z0-9_\.]+$/.test(r)||e.$t("{field} must be starts with letter",{field:e.$t("Username")})}],email:[function(r){return!!r||e.$t("{field} is required",{field:e.$t("Email")})},function(r){return!!r&&e.$utils.isEmail(r)||e.$t("{field} is invalid",{field:e.$t("Email")})}],password:[function(r){return!!r||e.$t("{field} is required",{field:e.$t("Password")})},function(r){return r&&r.length>=6||e.$t("{field} must be at least {length} characters",{field:e.$t("Password"),length:6})}],password_confirmation:[function(r){return!!r||e.$t("{field} is required",{field:e.$t("Password confirmation")})},function(r){return r===e.formEntry.password||e.$t("{field} does not match",{field:e.$t("Password confirmation")})}]},errors:p,isEditable:!1,defaultFormEntry:p,childTab:"franchise",loginAccessToggle:!1}},computed:{isCreate:function(){return!this.entry.id},readonly:function(){return!this.isEditable&&!this.isCreate},parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null},formattedApprovalDate:function(){if(this.readonly&&this.formEntry.approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.approval_date,"DD/MM/YYYY"),"DD MMM YYYY")},formattedFoApprovalDate:function(){if(this.readonly&&this.formEntry.fo_approval_date)return u["b"].formatDate(u["b"].extractDate(this.formEntry.fo_approval_date,"DD/MM/YYYY"),"DD MMM YYYY")}},watch:{entry:{immediate:!0,handler:function(e){var r=this;this.$nextTick((function(){r.fill(e)}))}},editable:{immediate:!0,handler:function(e,r){e!==r&&e!==this.isEditable&&(this.isEditable=e)}},isEditable:function(e,r){var t=this;e!==r&&e!==this.editable&&(this.$emit("update:editable",e),this.$nextTick((function(){setTimeout((function(){t.$forceUpdate()}),100)})))}},methods:{fill:function(e){if(e=m()(m()({},p),e),e.sla&&(e.sla=parseFloat(e.sla,10)),e.created_at)e.created_at=u["b"].formatDate(e.created_at,"DD MMM YYYY HH:mm"),e.updated_at=u["b"].formatDate(e.updated_at,"DD MMM YYYY HH:mm"),e.approval_date&&(e.approval_date=u["b"].formatDate(e.approval_date,"DD/MM/YYYY")),e.fo_approval_date&&(e.fo_approval_date=u["b"].formatDate(e.fo_approval_date,"DD/MM/YYYY"));else{var r={};for(var t in p)r[t]=e[t];this.defaultFormEntry=r}this.parentDistributionCenterId&&(e.distribution_center_id=this.parentDistributionCenterId,this.defaultFormEntry.distribution_center_id=this.parentDistributionCenterId),this.formEntry=e,this.$refs.form&&this.$refs.form.resetValidation()},isDirty:function(){return this.$utils.isDirty(this.defaultFormEntry,this.formEntry)},onSubmit:function(){var e=this;return c()(i()().mark((function r(){var t,a,o,s,n,l,d;return i()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.loading&&!e.isLoading){r.next=2;break}return r.abrupt("return");case 2:if(!e.readonly){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,e.$refs.form.validate();case 6:if(t=r.sent,t){r.next=9;break}return r.abrupt("return");case 9:return a=m()({},e.formEntry),a.approval_date&&(a.approval_date=u["b"].formatDate(u["b"].extractDate(a.approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),a.fo_approval_date&&(a.fo_approval_date=u["b"].formatDate(u["b"].extractDate(a.fo_approval_date,"DD/MM/YYYY"),"YYYY-MM-DD")),e.isLoading=!0,r.prev=13,o=a.id?"/v1/franchises/".concat(a.id):"/v1/franchises",s=a.id?"patch":"post",r.next=18,e.$api[s](o,a);case 18:n=r.sent,l=n.data,"success"===l.status&&(e.defaultFormEntry=m()({},e.formEntry),e.$emit("success",l.data.franchise),e.isEditable=!1),l.message?e.$q.notify({message:l.message}):"success"===l.status?e.$q.notify({message:e.$t("{entity} saved",{entity:e.$t("Franchise")})}):e.$t("Failed to save {entity}",{entity:e.$t("franchise")}),r.next=27;break;case 24:r.prev=24,r.t0=r["catch"](13),r.t0.validation?(d=m()(m()({},p),r.t0.validation.errors),e.errors=d):e.$q.notify(r.t0);case 27:e.isLoading=!1;case 28:case"end":return r.stop()}}),r,null,[[13,24]])})))()},cancel:function(){this.loading||this.isLoading||(this.isEditable=!1)},onEdit:function(){this.isEditable=!0},onDelete:function(){var e=this;this.isLoading||this.$q.dialog({title:this.$t("Confirm"),message:this.$t("Are you sure want to delete this {entity}?",{entity:this.$t("franchise")}),cancel:{label:this.$t("Cancel"),color:"dark",flat:!0},ok:{label:this.$t("Yes"),color:"primary",unelevated:!0,flat:!0,class:"text-weight-bold"},persistent:!0}).onOk(c()(i()().mark((function r(){var t,a;return i()().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$api.delete("/v1/franchises/".concat(e.entry.id));case 3:t=r.sent,a=t.data,a.message?(e.$q.notify({message:a.message}),e.$emit("deleted",a)):"success"===a.status?(e.$q.notify({message:e.$t("{entity} deleted",{entity:e.$t("Franchise")})}),e.$emit("deleted",a)):e.$t("Failed to delete {entity}",{entity:e.$t("franchise")}),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),e.$q.notify(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))).onCancel((function(){e.isLoading=!1}))}}},h=y,b=(t("5b86"),t("2877")),v=t("f09f"),_=t("0378"),g=t("a370"),w=t("293e"),$=t("27f9"),x=t("0016"),q=t("7cbe"),k=t("52ee"),E=t("9c40"),C=t("8f8e"),D=t("4e73"),Y=t("1c1c"),M=t("66e5"),N=t("4074"),F=t("4b7e"),A=t("8572"),O=t("7f67"),Q=t("eebe"),L=t.n(Q),I=Object(b["a"])(h,s,n,!1,null,"e3c21838",null),P=I.exports;L()(I,"components",{QCard:v["a"],QForm:_["a"],QCardSection:g["a"],QSkeleton:w["a"],QInput:$["a"],QIcon:x["a"],QPopupProxy:q["a"],QDate:k["a"],QBtn:E["a"],QCheckbox:C["a"],QMenu:D["a"],QList:Y["a"],QItem:M["a"],QItemSection:N["a"],QCardActions:F["a"],QField:A["a"]}),L()(I,"directives",{ClosePopup:O["a"]});var S={name:"PageFranchiseCreate",components:{FormPage:P},meta:function(){return{title:this.$t("Create New {entity}",{entity:this.$t("Franchise")})+" - "+this.$t("Web Console")}},breadcrumbs:function(){return["home",{text:this.$t("Franchises"),to:"/franchises"},{text:this.$t("New {entity}",{entity:this.$t("Franchise")})}]},data:function(){return{isLoading:!1,entry:{}}},computed:{parentDistributionCenterId:function(){return parseInt(this.$route.query.distribution_center_id,10)||null}},beforeRouteLeave:function(e,r,t){if(this.$refs.formPage.isDirty()){var a=window.confirm(this.$t("There are unsaved changes. Do you want to discard them?"));a?t():t(!1)}else t()},methods:{onSuccess:function(e){this.parentDistributionCenterId?this.$router.replace({path:"/franchises/".concat(e.id),query:{distribution_center_id:this.parentDistributionCenterId}}):this.$router.push("/franchises/".concat(e.id))},onGoBack:function(){this.parentDistributionCenterId?this.$router.push("/distribution-centers/".concat(this.parentDistributionCenterId)):this.$router.back()}}},T=S,B=(t("0740"),t("9989")),H=t("6ac5"),U=Object(b["a"])(T,a,o,!1,null,null,null);r["default"]=U.exports;L()(U,"components",{QPage:B["a"],QBtn:E["a"],QToolbarTitle:H["a"]})},"0740":function(e,r,t){"use strict";t("62a1")},"5b86":function(e,r,t){"use strict";t("a097")},"62a1":function(e,r,t){},a097:function(e,r,t){}}]);